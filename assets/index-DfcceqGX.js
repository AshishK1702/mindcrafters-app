(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function fE(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var em={exports:{}},Il={};var gv;function CA(){if(gv)return Il;gv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:f,ref:l!==void 0?l:null,props:u}}return Il.Fragment=e,Il.jsx=n,Il.jsxs=n,Il}var yv;function NA(){return yv||(yv=1,em.exports=CA()),em.exports}var _=NA(),tm={exports:{}},Te={};var _v;function IA(){if(_v)return Te;_v=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.iterator;function q(M){return M===null||typeof M!="object"?null:(M=N&&M[N]||M["@@iterator"],typeof M=="function"?M:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,K={};function re(M,Y,te){this.props=M,this.context=Y,this.refs=K,this.updater=te||G}re.prototype.isReactComponent={},re.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},re.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function he(){}he.prototype=re.prototype;function ue(M,Y,te){this.props=M,this.context=Y,this.refs=K,this.updater=te||G}var fe=ue.prototype=new he;fe.constructor=ue,ee(fe,re.prototype),fe.isPureReactComponent=!0;var Pe=Array.isArray;function we(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(M,Y,te){var ae=te.ref;return{$$typeof:s,type:M,key:Y,ref:ae!==void 0?ae:null,props:te}}function O(M,Y){return R(M.type,Y,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function k(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(te){return Y[te]})}var x=/\/+/g;function Be(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):Y.toString(36)}function qe(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(we,we):(M.status="pending",M.then(function(Y){M.status==="pending"&&(M.status="fulfilled",M.value=Y)},function(Y){M.status==="pending"&&(M.status="rejected",M.reason=Y)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function P(M,Y,te,ae,ve){var Re=typeof M;(Re==="undefined"||Re==="boolean")&&(M=null);var Le=!1;if(M===null)Le=!0;else switch(Re){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(M.$$typeof){case s:case e:Le=!0;break;case T:return Le=M._init,P(Le(M._payload),Y,te,ae,ve)}}if(Le)return ve=ve(M),Le=ae===""?"."+Be(M,0):ae,Pe(ve)?(te="",Le!=null&&(te=Le.replace(x,"$&/")+"/"),P(ve,Y,te,"",function(yr){return yr})):ve!=null&&(D(ve)&&(ve=O(ve,te+(ve.key==null||M&&M.key===ve.key?"":(""+ve.key).replace(x,"$&/")+"/")+Le)),Y.push(ve)),1;Le=0;var Ot=ae===""?".":ae+":";if(Pe(M))for(var ot=0;ot<M.length;ot++)ae=M[ot],Re=Ot+Be(ae,ot),Le+=P(ae,Y,te,Re,ve);else if(ot=q(M),typeof ot=="function")for(M=ot.call(M),ot=0;!(ae=M.next()).done;)ae=ae.value,Re=Ot+Be(ae,ot++),Le+=P(ae,Y,te,Re,ve);else if(Re==="object"){if(typeof M.then=="function")return P(qe(M),Y,te,ae,ve);throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Le}function Z(M,Y,te){if(M==null)return M;var ae=[],ve=0;return P(M,ae,"","",function(Re){return Y.call(te,Re,ve++)}),ae}function ie(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(te){(M._status===0||M._status===-1)&&(M._status=1,M._result=te)},function(te){(M._status===0||M._status===-1)&&(M._status=2,M._result=te)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var Ee=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ne={map:Z,forEach:function(M,Y,te){Z(M,function(){Y.apply(this,arguments)},te)},count:function(M){var Y=0;return Z(M,function(){Y++}),Y},toArray:function(M){return Z(M,function(Y){return Y})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Te.Activity=w,Te.Children=Ne,Te.Component=re,Te.Fragment=n,Te.Profiler=l,Te.PureComponent=ue,Te.StrictMode=r,Te.Suspense=p,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Te.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},Te.cache=function(M){return function(){return M.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(M,Y,te){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ae=ee({},M.props),ve=M.key;if(Y!=null)for(Re in Y.key!==void 0&&(ve=""+Y.key),Y)!S.call(Y,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&Y.ref===void 0||(ae[Re]=Y[Re]);var Re=arguments.length-2;if(Re===1)ae.children=te;else if(1<Re){for(var Le=Array(Re),Ot=0;Ot<Re;Ot++)Le[Ot]=arguments[Ot+2];ae.children=Le}return R(M.type,ve,ae)},Te.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Te.createElement=function(M,Y,te){var ae,ve={},Re=null;if(Y!=null)for(ae in Y.key!==void 0&&(Re=""+Y.key),Y)S.call(Y,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ve[ae]=Y[ae]);var Le=arguments.length-2;if(Le===1)ve.children=te;else if(1<Le){for(var Ot=Array(Le),ot=0;ot<Le;ot++)Ot[ot]=arguments[ot+2];ve.children=Ot}if(M&&M.defaultProps)for(ae in Le=M.defaultProps,Le)ve[ae]===void 0&&(ve[ae]=Le[ae]);return R(M,Re,ve)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(M){return{$$typeof:g,render:M}},Te.isValidElement=D,Te.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:ie}},Te.memo=function(M,Y){return{$$typeof:y,type:M,compare:Y===void 0?null:Y}},Te.startTransition=function(M){var Y=I.T,te={};I.T=te;try{var ae=M(),ve=I.S;ve!==null&&ve(te,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(we,Ee)}catch(Re){Ee(Re)}finally{Y!==null&&te.types!==null&&(Y.types=te.types),I.T=Y}},Te.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Te.use=function(M){return I.H.use(M)},Te.useActionState=function(M,Y,te){return I.H.useActionState(M,Y,te)},Te.useCallback=function(M,Y){return I.H.useCallback(M,Y)},Te.useContext=function(M){return I.H.useContext(M)},Te.useDebugValue=function(){},Te.useDeferredValue=function(M,Y){return I.H.useDeferredValue(M,Y)},Te.useEffect=function(M,Y){return I.H.useEffect(M,Y)},Te.useEffectEvent=function(M){return I.H.useEffectEvent(M)},Te.useId=function(){return I.H.useId()},Te.useImperativeHandle=function(M,Y,te){return I.H.useImperativeHandle(M,Y,te)},Te.useInsertionEffect=function(M,Y){return I.H.useInsertionEffect(M,Y)},Te.useLayoutEffect=function(M,Y){return I.H.useLayoutEffect(M,Y)},Te.useMemo=function(M,Y){return I.H.useMemo(M,Y)},Te.useOptimistic=function(M,Y){return I.H.useOptimistic(M,Y)},Te.useReducer=function(M,Y,te){return I.H.useReducer(M,Y,te)},Te.useRef=function(M){return I.H.useRef(M)},Te.useState=function(M){return I.H.useState(M)},Te.useSyncExternalStore=function(M,Y,te){return I.H.useSyncExternalStore(M,Y,te)},Te.useTransition=function(){return I.H.useTransition()},Te.version="19.2.0",Te}var vv;function Qm(){return vv||(vv=1,tm.exports=IA()),tm.exports}var pe=Qm();const DA=fE(pe);var nm={exports:{}},Dl={},im={exports:{}},sm={};var Ev;function OA(){return Ev||(Ev=1,(function(s){function e(P,Z){var ie=P.length;P.push(Z);e:for(;0<ie;){var Ee=ie-1>>>1,Ne=P[Ee];if(0<l(Ne,Z))P[Ee]=Z,P[ie]=Ne,ie=Ee;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var Z=P[0],ie=P.pop();if(ie!==Z){P[0]=ie;e:for(var Ee=0,Ne=P.length,M=Ne>>>1;Ee<M;){var Y=2*(Ee+1)-1,te=P[Y],ae=Y+1,ve=P[ae];if(0>l(te,ie))ae<Ne&&0>l(ve,te)?(P[Ee]=ve,P[ae]=ie,Ee=ae):(P[Ee]=te,P[Y]=ie,Ee=Y);else if(ae<Ne&&0>l(ve,ie))P[Ee]=ve,P[ae]=ie,Ee=ae;else break e}}return Z}function l(P,Z){var ie=P.sortIndex-Z.sortIndex;return ie!==0?ie:P.id-Z.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();s.unstable_now=function(){return f.now()-g}}var p=[],y=[],T=1,w=null,N=3,q=!1,G=!1,ee=!1,K=!1,re=typeof setTimeout=="function"?setTimeout:null,he=typeof clearTimeout=="function"?clearTimeout:null,ue=typeof setImmediate<"u"?setImmediate:null;function fe(P){for(var Z=n(y);Z!==null;){if(Z.callback===null)r(y);else if(Z.startTime<=P)r(y),Z.sortIndex=Z.expirationTime,e(p,Z);else break;Z=n(y)}}function Pe(P){if(ee=!1,fe(P),!G)if(n(p)!==null)G=!0,we||(we=!0,k());else{var Z=n(y);Z!==null&&qe(Pe,Z.startTime-P)}}var we=!1,I=-1,S=5,R=-1;function O(){return K?!0:!(s.unstable_now()-R<S)}function D(){if(K=!1,we){var P=s.unstable_now();R=P;var Z=!0;try{e:{G=!1,ee&&(ee=!1,he(I),I=-1),q=!0;var ie=N;try{t:{for(fe(P),w=n(p);w!==null&&!(w.expirationTime>P&&O());){var Ee=w.callback;if(typeof Ee=="function"){w.callback=null,N=w.priorityLevel;var Ne=Ee(w.expirationTime<=P);if(P=s.unstable_now(),typeof Ne=="function"){w.callback=Ne,fe(P),Z=!0;break t}w===n(p)&&r(p),fe(P)}else r(p);w=n(p)}if(w!==null)Z=!0;else{var M=n(y);M!==null&&qe(Pe,M.startTime-P),Z=!1}}break e}finally{w=null,N=ie,q=!1}Z=void 0}}finally{Z?k():we=!1}}}var k;if(typeof ue=="function")k=function(){ue(D)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Be=x.port2;x.port1.onmessage=D,k=function(){Be.postMessage(null)}}else k=function(){re(D,0)};function qe(P,Z){I=re(function(){P(s.unstable_now())},Z)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(P){P.callback=null},s.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<P?Math.floor(1e3/P):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(P){switch(N){case 1:case 2:case 3:var Z=3;break;default:Z=N}var ie=N;N=Z;try{return P()}finally{N=ie}},s.unstable_requestPaint=function(){K=!0},s.unstable_runWithPriority=function(P,Z){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var ie=N;N=P;try{return Z()}finally{N=ie}},s.unstable_scheduleCallback=function(P,Z,ie){var Ee=s.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Ee+ie:Ee):ie=Ee,P){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=ie+Ne,P={id:T++,callback:Z,priorityLevel:P,startTime:ie,expirationTime:Ne,sortIndex:-1},ie>Ee?(P.sortIndex=ie,e(y,P),n(p)===null&&P===n(y)&&(ee?(he(I),I=-1):ee=!0,qe(Pe,ie-Ee))):(P.sortIndex=Ne,e(p,P),G||q||(G=!0,we||(we=!0,k()))),P},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(P){var Z=N;return function(){var ie=N;N=Z;try{return P.apply(this,arguments)}finally{N=ie}}}})(sm)),sm}var bv;function MA(){return bv||(bv=1,im.exports=OA()),im.exports}var rm={exports:{}},Xt={};var Tv;function VA(){if(Tv)return Xt;Tv=1;var s=Qm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,y,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:p,containerInfo:y,implementation:T}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xt.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,T)},Xt.flushSync=function(p){var y=f.T,T=r.p;try{if(f.T=null,r.p=2,p)return p()}finally{f.T=y,r.p=T,r.d.f()}},Xt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(p,y))},Xt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Xt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,w=g(T,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:N,fetchPriority:q}):T==="script"&&r.d.X(p,{crossOrigin:w,integrity:N,fetchPriority:q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=g(y.as,y.crossOrigin);r.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(p)},Xt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,w=g(T,y.crossOrigin);r.d.L(p,T,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xt.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=g(y.as,y.crossOrigin);r.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(p)},Xt.requestFormReset=function(p){r.d.r(p)},Xt.unstable_batchedUpdates=function(p,y){return p(y)},Xt.useFormState=function(p,y,T){return f.H.useFormState(p,y,T)},Xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xt.version="19.2.0",Xt}var Av;function kA(){if(Av)return rm.exports;Av=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),rm.exports=VA(),rm.exports}var wv;function jA(){if(wv)return Dl;wv=1;var s=MA(),e=Qm(),n=kA();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(r(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===o)return p(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=d;else{for(var v=!1,b=h.child;b;){if(b===a){v=!0,a=h,o=d;break}if(b===o){v=!0,o=h,a=d;break}b=b.sibling}if(!v){for(b=d.child;b;){if(b===a){v=!0,a=d,o=h;break}if(b===o){v=!0,o=d,a=h;break}b=b.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var w=Object.assign,N=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),he=Symbol.for("react.consumer"),ue=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),Pe=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function Be(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ee:return"Fragment";case re:return"Profiler";case K:return"StrictMode";case Pe:return"Suspense";case we:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case ue:return t.displayName||"Context";case he:return(t._context.displayName||"Context")+".Consumer";case fe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:Be(t.type)||"Memo";case S:i=t._payload,t=t._init;try{return Be(t(i))}catch{}}return null}var qe=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},Ee=[],Ne=-1;function M(t){return{current:t}}function Y(t){0>Ne||(t.current=Ee[Ne],Ee[Ne]=null,Ne--)}function te(t,i){Ne++,Ee[Ne]=t.current,t.current=i}var ae=M(null),ve=M(null),Re=M(null),Le=M(null);function Ot(t,i){switch(te(Re,i),te(ve,t),te(ae,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?L_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=L_(i),t=z_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(ae),te(ae,t)}function ot(){Y(ae),Y(ve),Y(Re)}function yr(t){t.memoizedState!==null&&te(Le,t);var i=ae.current,a=z_(i,t.type);i!==a&&(te(ve,t),te(ae,a))}function ca(t){ve.current===t&&(Y(ae),Y(ve)),Le.current===t&&(Y(Le),xl._currentValue=ie)}var ha,fa;function si(t){if(ha===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ha=i&&i[1]||"",fa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ha+t+fa}var xo=!1;function _r(t,i){if(!t||xo)return"";xo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(H){var B=H}Reflect.construct(t,[],J)}else{try{J.call()}catch(H){B=H}t.call(J.prototype)}}else{try{throw Error()}catch(H){B=H}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],b=d[1];if(v&&b){var C=v.split(`
`),z=b.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var Q=`
`+C[o].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=o&&0<=h);break}}}finally{xo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?si(a):""}function Ro(t,i){switch(t.tag){case 26:case 27:case 5:return si(t.type);case 16:return si("Lazy");case 13:return t.child!==i&&i!==null?si("Suspense Fallback"):si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return _r(t.type,!1);case 11:return _r(t.type.render,!1);case 1:return _r(t.type,!0);case 31:return si("Activity");default:return""}}function Co(t){try{var i="",a=null;do i+=Ro(t,a),a=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Et=Object.prototype.hasOwnProperty,Mt=s.unstable_scheduleCallback,gs=s.unstable_cancelCallback,tf=s.unstable_shouldYield,mu=s.unstable_requestPaint,en=s.unstable_now,vr=s.unstable_getCurrentPriorityLevel,No=s.unstable_ImmediatePriority,Io=s.unstable_UserBlockingPriority,ys=s.unstable_NormalPriority,nf=s.unstable_LowPriority,pu=s.unstable_IdlePriority,gu=s.log,yu=s.unstable_setDisableYieldValue,Bn=null,zt=null;function xn(t){if(typeof gu=="function"&&yu(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Bn,t)}catch{}}var mt=Math.clz32?Math.clz32:vu,_u=Math.log,da=Math.LN2;function vu(t){return t>>>=0,t===0?32:31-(_u(t)/da|0)|0}var ri=256,Er=262144,bt=4194304;function ai(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function oi(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var b=o&134217727;return b!==0?(o=b&~d,o!==0?h=ai(o):(v&=b,v!==0?h=ai(v):a||(a=b&~t,a!==0&&(h=ai(a))))):(b=o&~d,b!==0?h=ai(b):v!==0?h=ai(v):a||(a=o&~t,a!==0&&(h=ai(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function qn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function sf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eu(){var t=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),t}function li(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function br(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function rf(t,i,a,o,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(a=v&~a;0<a;){var Q=31-mt(a),J=1<<Q;b[Q]=0,C[Q]=-1;var B=z[Q];if(B!==null)for(z[Q]=null,Q=0;Q<B.length;Q++){var H=B[Q];H!==null&&(H.lane&=-536870913)}a&=~J}o!==0&&Tr(t,o,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function Tr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-mt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Do(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-mt(a),h=1<<o;h&i|t[o]&i&&(t[o]|=i),a&=~h}}function Oo(t,i){var a=i&-i;return a=(a&42)!==0?1:Ar(a),(a&(t.suspendedLanes|i))!==0?0:a}function Ar(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Li(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function bu(){var t=Z.p;return t!==0?t:(t=window.event,t===void 0?32:uv(t.type))}function Fn(t,i){var a=Z.p;try{return Z.p=t,i()}finally{Z.p=a}}var Hn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Hn,jt="__reactProps$"+Hn,ui="__reactContainer$"+Hn,ma="__reactEvents$"+Hn,af="__reactListeners$"+Hn,Tu="__reactHandles$"+Hn,Au="__reactResources$"+Hn,ci="__reactMarker$"+Hn;function pa(t){delete t[Tt],delete t[jt],delete t[ma],delete t[af],delete t[Tu]}function hi(t){var i=t[Tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ui]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=K_(t);t!==null;){if(a=t[Tt])return a;t=K_(t)}return i}t=a,a=t.parentNode}return null}function Rn(t){if(t=t[Tt]||t[ui]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function pn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function fi(t){var i=t[Au];return i||(i=t[Au]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function At(t){t[ci]=!0}var Mo=new Set,Vo={};function di(t,i){mi(t,i),mi(t+"Capture",i)}function mi(t,i){for(Vo[t]=i,t=0;t<i.length;t++)Mo.add(i[t])}var ko=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jo={},Po={};function wu(t){return Et.call(Po,t)?!0:Et.call(jo,t)?!1:ko.test(t)?Po[t]=!0:(jo[t]=!0,!1)}function ga(t,i,a){if(wu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function gn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function wt(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _s(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Uo(t,i,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,d=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Xe(t){if(!t._valueTracker){var i=_s(t)?"checked":"value";t._valueTracker=Uo(t,i,""+t[i])}}function wr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=_s(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function pi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Sr=/[\n"\\]/g;function rn(t){return t.replace(Sr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ya(t,i,a,o,h,d,v,b){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Pt(i)):t.value!==""+Pt(i)&&(t.value=""+Pt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Lo(t,v,Pt(i)):a!=null?Lo(t,v,Pt(a)):o!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Pt(b):t.removeAttribute("name")}function Su(t,i,a,o,h,d,v,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Xe(t);return}a=a!=null?""+Pt(a):"",i=i!=null?""+Pt(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=b?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Xe(t)}function Lo(t,i,a){i==="number"&&pi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function vs(t,i,a,o){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Pt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function xu(t,i,a){if(i!=null&&(i=""+Pt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Pt(a):""}function Es(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(qe(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Pt(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Xe(t)}function an(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Ru=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zo(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||Ru.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Bo(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&zo(t,h,o)}else for(var d in i)i.hasOwnProperty(d)&&zo(t,d,i[d])}function _a(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(t){return bs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Gn(){}var qo=null;function Cn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ts=null,gi=null;function xr(t){var i=Rn(t);if(i&&(t=i.stateNode)){var a=t[jt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ya(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var h=o[jt]||null;if(!h)throw Error(r(90));ya(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&wr(o)}break e;case"textarea":xu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&vs(t,!!a.multiple,i,!1)}}}var Ea=!1;function As(t,i,a){if(Ea)return t(i,a);Ea=!0;try{var o=t(i);return o}finally{if(Ea=!1,(Ts!==null||gi!==null)&&(bc(),Ts&&(i=Ts,t=gi,gi=Ts=null,xr(i),t)))for(i=0;i<t.length;i++)xr(t[i])}}function Qn(t,i){var a=t.stateNode;if(a===null)return null;var o=a[jt]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rr=!1;if(Nn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){Rr=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{Rr=!1}var yi=null,Fo=null,Cr=null;function Ho(){if(Cr)return Cr;var t,i=Fo,a=i.length,o,h="value"in yi?yi.value:yi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(o=1;o<=v&&i[a-o]===h[d-o];o++);return Cr=h.slice(t,1<o?1-o:void 0)}function Nr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function zi(){return!0}function Kn(){return!1}function Bt(t){function i(a,o,h,d,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?zi:Kn,this.isPropagationStopped=Kn,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),i}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=Bt(Bi),ws=w({},Bi,{view:0,detail:0}),Go=Bt(ws),Ss,ba,vi,Ta=w({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vi&&(vi&&t.type==="mousemove"?(Ss=t.screenX-vi.screenX,ba=t.screenY-vi.screenY):ba=Ss=0,vi=t),Ss)},movementY:function(t){return"movementY"in t?t.movementY:ba}}),Qo=Bt(Ta),Ir=w({},Ta,{dataTransfer:0}),Nu=Bt(Ir),Iu=w({},ws,{relatedTarget:0}),Dr=Bt(Iu),Ko=w({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Du=Bt(Ko),Aa=w({},Bi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ou=Bt(Aa),Mu=w({},Bi,{data:0}),Ei=Bt(Mu),Vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ju[t])?!!i[t]:!1}function xs(){return Pu}var tn=w({},ws,{key:function(t){if(t.key){var i=Vu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Nr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ku[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xs,charCode:function(t){return t.type==="keypress"?Nr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Uu=Bt(tn),Lu=w({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qi=Bt(Lu),c=w({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xs}),m=Bt(c),E=w({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Bt(E),U=w({},Ta,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=Bt(U),ne=w({},Bi,{newState:0,oldState:0}),Se=Bt(ne),pt=[9,13,27,32],Ge=Nn&&"CompositionEvent"in window,lt=null;Nn&&"documentMode"in document&&(lt=document.documentMode);var In=Nn&&"TextEvent"in window&&!lt,bi=Nn&&(!Ge||lt&&8<lt&&11>=lt),Yn=" ",Xn=!1;function Or(t,i){switch(t){case"keyup":return pt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sa=!1;function Zb(t,i){switch(t){case"compositionend":return wa(i);case"keypress":return i.which!==32?null:(Xn=!0,Yn);case"textInput":return t=i.data,t===Yn&&Xn?null:t;default:return null}}function Wb(t,i){if(Sa)return t==="compositionend"||!Ge&&Or(t,i)?(t=Ho(),Cr=Fo=yi=null,Sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return bi&&i.locale!=="ko"?null:i.data;default:return null}}var eT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $p(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!eT[t.type]:i==="textarea"}function Jp(t,i,a,o){Ts?gi?gi.push(o):gi=[o]:Ts=o,i=Cc(i,"onChange"),0<i.length&&(a=new _i("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var Yo=null,Xo=null;function tT(t){M_(t,0)}function zu(t){var i=pn(t);if(wr(i))return t}function Zp(t,i){if(t==="change")return i}var Wp=!1;if(Nn){var of;if(Nn){var lf="oninput"in document;if(!lf){var eg=document.createElement("div");eg.setAttribute("oninput","return;"),lf=typeof eg.oninput=="function"}of=lf}else of=!1;Wp=of&&(!document.documentMode||9<document.documentMode)}function tg(){Yo&&(Yo.detachEvent("onpropertychange",ng),Xo=Yo=null)}function ng(t){if(t.propertyName==="value"&&zu(Xo)){var i=[];Jp(i,Xo,t,Cn(t)),As(tT,i)}}function nT(t,i,a){t==="focusin"?(tg(),Yo=i,Xo=a,Yo.attachEvent("onpropertychange",ng)):t==="focusout"&&tg()}function iT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zu(Xo)}function sT(t,i){if(t==="click")return zu(i)}function rT(t,i){if(t==="input"||t==="change")return zu(i)}function aT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var yn=typeof Object.is=="function"?Object.is:aT;function $o(t,i){if(yn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Et.call(i,h)||!yn(t[h],i[h]))return!1}return!0}function ig(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sg(t,i){var a=ig(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ig(a)}}function rg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?rg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function ag(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=pi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=pi(t.document)}return i}function uf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var oT=Nn&&"documentMode"in document&&11>=document.documentMode,xa=null,cf=null,Jo=null,hf=!1;function og(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;hf||xa==null||xa!==pi(o)||(o=xa,"selectionStart"in o&&uf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Jo&&$o(Jo,o)||(Jo=o,o=Cc(cf,"onSelect"),0<o.length&&(i=new _i("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=xa)))}function Mr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ra={animationend:Mr("Animation","AnimationEnd"),animationiteration:Mr("Animation","AnimationIteration"),animationstart:Mr("Animation","AnimationStart"),transitionrun:Mr("Transition","TransitionRun"),transitionstart:Mr("Transition","TransitionStart"),transitioncancel:Mr("Transition","TransitionCancel"),transitionend:Mr("Transition","TransitionEnd")},ff={},lg={};Nn&&(lg=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function Vr(t){if(ff[t])return ff[t];if(!Ra[t])return t;var i=Ra[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in lg)return ff[t]=i[a];return t}var ug=Vr("animationend"),cg=Vr("animationiteration"),hg=Vr("animationstart"),lT=Vr("transitionrun"),uT=Vr("transitionstart"),cT=Vr("transitioncancel"),fg=Vr("transitionend"),dg=new Map,df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");df.push("scrollEnd");function $n(t,i){dg.set(t,i),di(i,[t])}var Bu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Dn=[],Ca=0,mf=0;function qu(){for(var t=Ca,i=mf=Ca=0;i<t;){var a=Dn[i];Dn[i++]=null;var o=Dn[i];Dn[i++]=null;var h=Dn[i];Dn[i++]=null;var d=Dn[i];if(Dn[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}d!==0&&mg(a,h,d)}}function Fu(t,i,a,o){Dn[Ca++]=t,Dn[Ca++]=i,Dn[Ca++]=a,Dn[Ca++]=o,mf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function pf(t,i,a,o){return Fu(t,i,a,o),Hu(t)}function kr(t,i){return Fu(t,null,null,i),Hu(t)}function mg(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-mt(a),t=d.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=a|536870912),d):null}function Hu(t){if(50<vl)throw vl=0,wd=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Na={};function hT(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,i,a,o){return new hT(t,i,a,o)}function gf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fi(t,i){var a=t.alternate;return a===null?(a=_n(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function pg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Gu(t,i,a,o,h,d){var v=0;if(o=t,typeof t=="function")gf(t)&&(v=1);else if(typeof t=="string")v=gA(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=_n(31,a,i,h),t.elementType=R,t.lanes=d,t;case ee:return jr(a.children,h,d,i);case K:v=8,h|=24;break;case re:return t=_n(12,a,i,h|2),t.elementType=re,t.lanes=d,t;case Pe:return t=_n(13,a,i,h),t.elementType=Pe,t.lanes=d,t;case we:return t=_n(19,a,i,h),t.elementType=we,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ue:v=10;break e;case he:v=9;break e;case fe:v=11;break e;case I:v=14;break e;case S:v=16,o=null;break e}v=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return i=_n(v,a,i,h),i.elementType=t,i.type=o,i.lanes=d,i}function jr(t,i,a,o){return t=_n(7,t,o,i),t.lanes=a,t}function yf(t,i,a){return t=_n(6,t,null,i),t.lanes=a,t}function gg(t){var i=_n(18,null,null,0);return i.stateNode=t,i}function _f(t,i,a){return i=_n(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var yg=new WeakMap;function On(t,i){if(typeof t=="object"&&t!==null){var a=yg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Co(i)},yg.set(t,i),i)}return{value:t,source:i,stack:Co(i)}}var Ia=[],Da=0,Qu=null,Zo=0,Mn=[],Vn=0,Rs=null,Ti=1,Ai="";function Hi(t,i){Ia[Da++]=Zo,Ia[Da++]=Qu,Qu=t,Zo=i}function _g(t,i,a){Mn[Vn++]=Ti,Mn[Vn++]=Ai,Mn[Vn++]=Rs,Rs=t;var o=Ti;t=Ai;var h=32-mt(o)-1;o&=~(1<<h),a+=1;var d=32-mt(i)+h;if(30<d){var v=h-h%5;d=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Ti=1<<32-mt(i)+h|a<<h|o,Ai=d+t}else Ti=1<<d|a<<h|o,Ai=t}function vf(t){t.return!==null&&(Hi(t,1),_g(t,1,0))}function Ef(t){for(;t===Qu;)Qu=Ia[--Da],Ia[Da]=null,Zo=Ia[--Da],Ia[Da]=null;for(;t===Rs;)Rs=Mn[--Vn],Mn[Vn]=null,Ai=Mn[--Vn],Mn[Vn]=null,Ti=Mn[--Vn],Mn[Vn]=null}function vg(t,i){Mn[Vn++]=Ti,Mn[Vn++]=Ai,Mn[Vn++]=Rs,Ti=i.id,Ai=i.overflow,Rs=t}var qt=null,st=null,Ue=!1,Cs=null,kn=!1,bf=Error(r(519));function Ns(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wo(On(i,t)),bf}function Eg(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[Tt]=t,i[jt]=o,a){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(a=0;a<bl.length;a++)De(bl[a],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":De("invalid",i),Su(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":De("invalid",i);break;case"textarea":De("invalid",i),Es(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||P_(i.textContent,a)?(o.popover!=null&&(De("beforetoggle",i),De("toggle",i)),o.onScroll!=null&&De("scroll",i),o.onScrollEnd!=null&&De("scrollend",i),o.onClick!=null&&(i.onclick=Gn),i=!0):i=!1,i||Ns(t,!0)}function bg(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:qt=qt.return}}function Oa(t){if(t!==qt)return!1;if(!Ue)return bg(t),Ue=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ld(t.type,t.memoizedProps)),a=!a),a&&st&&Ns(t),bg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));st=Q_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));st=Q_(t)}else i===27?(i=st,Fs(t.type)?(t=Hd,Hd=null,st=t):st=i):st=qt?Pn(t.stateNode.nextSibling):null;return!0}function Pr(){st=qt=null,Ue=!1}function Tf(){var t=Cs;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),Cs=null),t}function Wo(t){Cs===null?Cs=[t]:Cs.push(t)}var Af=M(null),Ur=null,Gi=null;function Is(t,i,a){te(Af,i._currentValue),i._currentValue=a}function Qi(t){t._currentValue=Af.current,Y(Af)}function wf(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function Sf(t,i,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var C=0;C<i.length;C++)if(b.context===i[C]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),wf(d.return,a,t),o||(v=null);break e}d=b.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(r(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),wf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Ma(t,i,a,o){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var b=h.type;yn(h.pendingProps.value,v.value)||(t!==null?t.push(b):t=[b])}}else if(h===Le.current){if(v=h.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(xl):t=[xl])}h=h.return}t!==null&&Sf(i,t,a,o),i.flags|=262144}function Ku(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Lr(t){Ur=t,Gi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return Tg(Ur,t)}function Yu(t,i){return Ur===null&&Lr(t),Tg(t,i)}function Tg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Gi===null){if(t===null)throw Error(r(308));Gi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Gi=Gi.next=i;return a}var fT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},dT=s.unstable_scheduleCallback,mT=s.unstable_NormalPriority,St={$$typeof:ue,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xf(){return{controller:new fT,data:new Map,refCount:0}}function el(t){t.refCount--,t.refCount===0&&dT(mT,function(){t.controller.abort()})}var tl=null,Rf=0,Va=0,ka=null;function pT(t,i){if(tl===null){var a=tl=[];Rf=0,Va=Id(),ka={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Rf++,i.then(Ag,Ag),i}function Ag(){if(--Rf===0&&tl!==null){ka!==null&&(ka.status="fulfilled");var t=tl;tl=null,Va=0,ka=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function gT(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var wg=P.S;P.S=function(t,i){o_=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&pT(t,i),wg!==null&&wg(t,i)};var zr=M(null);function Cf(){var t=zr.current;return t!==null?t:nt.pooledCache}function Xu(t,i){i===null?te(zr,zr.current):te(zr,i.pool)}function Sg(){var t=Cf();return t===null?null:{parent:St._currentValue,pool:t}}var ja=Error(r(460)),Nf=Error(r(474)),$u=Error(r(542)),Ju={then:function(){}};function xg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Rg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Gn,Gn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ng(t),t;default:if(typeof i.status=="string")i.then(Gn,Gn);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ng(t),t}throw qr=i,ja}}function Br(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(qr=a,ja):a}}var qr=null;function Cg(){if(qr===null)throw Error(r(459));var t=qr;return qr=null,t}function Ng(t){if(t===ja||t===$u)throw Error(r(483))}var Pa=null,nl=0;function Zu(t){var i=nl;return nl+=1,Pa===null&&(Pa=[]),Rg(Pa,t,i)}function il(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Wu(t,i){throw i.$$typeof===N?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ig(t){function i(j,V){if(t){var L=j.deletions;L===null?(j.deletions=[V],j.flags|=16):L.push(V)}}function a(j,V){if(!t)return null;for(;V!==null;)i(j,V),V=V.sibling;return null}function o(j){for(var V=new Map;j!==null;)j.key!==null?V.set(j.key,j):V.set(j.index,j),j=j.sibling;return V}function h(j,V){return j=Fi(j,V),j.index=0,j.sibling=null,j}function d(j,V,L){return j.index=L,t?(L=j.alternate,L!==null?(L=L.index,L<V?(j.flags|=67108866,V):L):(j.flags|=67108866,V)):(j.flags|=1048576,V)}function v(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function b(j,V,L,X){return V===null||V.tag!==6?(V=yf(L,j.mode,X),V.return=j,V):(V=h(V,L),V.return=j,V)}function C(j,V,L,X){var de=L.type;return de===ee?Q(j,V,L.props.children,X,L.key):V!==null&&(V.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===S&&Br(de)===V.type)?(V=h(V,L.props),il(V,L),V.return=j,V):(V=Gu(L.type,L.key,L.props,null,j.mode,X),il(V,L),V.return=j,V)}function z(j,V,L,X){return V===null||V.tag!==4||V.stateNode.containerInfo!==L.containerInfo||V.stateNode.implementation!==L.implementation?(V=_f(L,j.mode,X),V.return=j,V):(V=h(V,L.children||[]),V.return=j,V)}function Q(j,V,L,X,de){return V===null||V.tag!==7?(V=jr(L,j.mode,X,de),V.return=j,V):(V=h(V,L),V.return=j,V)}function J(j,V,L){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=yf(""+V,j.mode,L),V.return=j,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case q:return L=Gu(V.type,V.key,V.props,null,j.mode,L),il(L,V),L.return=j,L;case G:return V=_f(V,j.mode,L),V.return=j,V;case S:return V=Br(V),J(j,V,L)}if(qe(V)||k(V))return V=jr(V,j.mode,L,null),V.return=j,V;if(typeof V.then=="function")return J(j,Zu(V),L);if(V.$$typeof===ue)return J(j,Yu(j,V),L);Wu(j,V)}return null}function B(j,V,L,X){var de=V!==null?V.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return de!==null?null:b(j,V,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case q:return L.key===de?C(j,V,L,X):null;case G:return L.key===de?z(j,V,L,X):null;case S:return L=Br(L),B(j,V,L,X)}if(qe(L)||k(L))return de!==null?null:Q(j,V,L,X,null);if(typeof L.then=="function")return B(j,V,Zu(L),X);if(L.$$typeof===ue)return B(j,V,Yu(j,L),X);Wu(j,L)}return null}function H(j,V,L,X,de){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return j=j.get(L)||null,b(V,j,""+X,de);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case q:return j=j.get(X.key===null?L:X.key)||null,C(V,j,X,de);case G:return j=j.get(X.key===null?L:X.key)||null,z(V,j,X,de);case S:return X=Br(X),H(j,V,L,X,de)}if(qe(X)||k(X))return j=j.get(L)||null,Q(V,j,X,de,null);if(typeof X.then=="function")return H(j,V,L,Zu(X),de);if(X.$$typeof===ue)return H(j,V,L,Yu(V,X),de);Wu(V,X)}return null}function le(j,V,L,X){for(var de=null,Fe=null,ce=V,Ce=V=0,Me=null;ce!==null&&Ce<L.length;Ce++){ce.index>Ce?(Me=ce,ce=null):Me=ce.sibling;var He=B(j,ce,L[Ce],X);if(He===null){ce===null&&(ce=Me);break}t&&ce&&He.alternate===null&&i(j,ce),V=d(He,V,Ce),Fe===null?de=He:Fe.sibling=He,Fe=He,ce=Me}if(Ce===L.length)return a(j,ce),Ue&&Hi(j,Ce),de;if(ce===null){for(;Ce<L.length;Ce++)ce=J(j,L[Ce],X),ce!==null&&(V=d(ce,V,Ce),Fe===null?de=ce:Fe.sibling=ce,Fe=ce);return Ue&&Hi(j,Ce),de}for(ce=o(ce);Ce<L.length;Ce++)Me=H(ce,j,Ce,L[Ce],X),Me!==null&&(t&&Me.alternate!==null&&ce.delete(Me.key===null?Ce:Me.key),V=d(Me,V,Ce),Fe===null?de=Me:Fe.sibling=Me,Fe=Me);return t&&ce.forEach(function(Ys){return i(j,Ys)}),Ue&&Hi(j,Ce),de}function ge(j,V,L,X){if(L==null)throw Error(r(151));for(var de=null,Fe=null,ce=V,Ce=V=0,Me=null,He=L.next();ce!==null&&!He.done;Ce++,He=L.next()){ce.index>Ce?(Me=ce,ce=null):Me=ce.sibling;var Ys=B(j,ce,He.value,X);if(Ys===null){ce===null&&(ce=Me);break}t&&ce&&Ys.alternate===null&&i(j,ce),V=d(Ys,V,Ce),Fe===null?de=Ys:Fe.sibling=Ys,Fe=Ys,ce=Me}if(He.done)return a(j,ce),Ue&&Hi(j,Ce),de;if(ce===null){for(;!He.done;Ce++,He=L.next())He=J(j,He.value,X),He!==null&&(V=d(He,V,Ce),Fe===null?de=He:Fe.sibling=He,Fe=He);return Ue&&Hi(j,Ce),de}for(ce=o(ce);!He.done;Ce++,He=L.next())He=H(ce,j,Ce,He.value,X),He!==null&&(t&&He.alternate!==null&&ce.delete(He.key===null?Ce:He.key),V=d(He,V,Ce),Fe===null?de=He:Fe.sibling=He,Fe=He);return t&&ce.forEach(function(RA){return i(j,RA)}),Ue&&Hi(j,Ce),de}function tt(j,V,L,X){if(typeof L=="object"&&L!==null&&L.type===ee&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case q:e:{for(var de=L.key;V!==null;){if(V.key===de){if(de=L.type,de===ee){if(V.tag===7){a(j,V.sibling),X=h(V,L.props.children),X.return=j,j=X;break e}}else if(V.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===S&&Br(de)===V.type){a(j,V.sibling),X=h(V,L.props),il(X,L),X.return=j,j=X;break e}a(j,V);break}else i(j,V);V=V.sibling}L.type===ee?(X=jr(L.props.children,j.mode,X,L.key),X.return=j,j=X):(X=Gu(L.type,L.key,L.props,null,j.mode,X),il(X,L),X.return=j,j=X)}return v(j);case G:e:{for(de=L.key;V!==null;){if(V.key===de)if(V.tag===4&&V.stateNode.containerInfo===L.containerInfo&&V.stateNode.implementation===L.implementation){a(j,V.sibling),X=h(V,L.children||[]),X.return=j,j=X;break e}else{a(j,V);break}else i(j,V);V=V.sibling}X=_f(L,j.mode,X),X.return=j,j=X}return v(j);case S:return L=Br(L),tt(j,V,L,X)}if(qe(L))return le(j,V,L,X);if(k(L)){if(de=k(L),typeof de!="function")throw Error(r(150));return L=de.call(L),ge(j,V,L,X)}if(typeof L.then=="function")return tt(j,V,Zu(L),X);if(L.$$typeof===ue)return tt(j,V,Yu(j,L),X);Wu(j,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,V!==null&&V.tag===6?(a(j,V.sibling),X=h(V,L),X.return=j,j=X):(a(j,V),X=yf(L,j.mode,X),X.return=j,j=X),v(j)):a(j,V)}return function(j,V,L,X){try{nl=0;var de=tt(j,V,L,X);return Pa=null,de}catch(ce){if(ce===ja||ce===$u)throw ce;var Fe=_n(29,ce,null,j.mode);return Fe.lanes=X,Fe.return=j,Fe}finally{}}}var Fr=Ig(!0),Dg=Ig(!1),Ds=!1;function If(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Df(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Os(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ms(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Qe&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Hu(t),mg(t,null,a),i}return Fu(t,o,i,a),Hu(t)}function sl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Do(t,a)}}function Of(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Mf=!1;function rl(){if(Mf){var t=ka;if(t!==null)throw t}}function al(t,i,a,o){Mf=!1;var h=t.updateQueue;Ds=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var C=b,z=C.next;C.next=null,v===null?d=z:v.next=z,v=C;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,b=Q.lastBaseUpdate,b!==v&&(b===null?Q.firstBaseUpdate=z:b.next=z,Q.lastBaseUpdate=C))}if(d!==null){var J=h.baseState;v=0,Q=z=C=null,b=d;do{var B=b.lane&-536870913,H=B!==b.lane;if(H?(Oe&B)===B:(o&B)===B){B!==0&&B===Va&&(Mf=!0),Q!==null&&(Q=Q.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var le=t,ge=b;B=i;var tt=a;switch(ge.tag){case 1:if(le=ge.payload,typeof le=="function"){J=le.call(tt,J,B);break e}J=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ge.payload,B=typeof le=="function"?le.call(tt,J,B):le,B==null)break e;J=w({},J,B);break e;case 2:Ds=!0}}B=b.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Q===null?(z=Q=H,C=J):Q=Q.next=H,v|=B;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;H=b,b=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(C=J),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),Us|=v,t.lanes=v,t.memoizedState=J}}function Og(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Mg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Og(a[t],i)}var Ua=M(null),ec=M(0);function Vg(t,i){t=ts,te(ec,t),te(Ua,i),ts=t|i.baseLanes}function Vf(){te(ec,ts),te(Ua,Ua.current)}function kf(){ts=ec.current,Y(Ua),Y(ec)}var vn=M(null),jn=null;function Vs(t){var i=t.alternate;te(gt,gt.current&1),te(vn,t),jn===null&&(i===null||Ua.current!==null||i.memoizedState!==null)&&(jn=t)}function jf(t){te(gt,gt.current),te(vn,t),jn===null&&(jn=t)}function kg(t){t.tag===22?(te(gt,gt.current),te(vn,t),jn===null&&(jn=t)):ks()}function ks(){te(gt,gt.current),te(vn,vn.current)}function En(t){Y(vn),jn===t&&(jn=null),Y(gt)}var gt=M(0);function tc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||qd(a)||Fd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ki=0,xe=null,We=null,xt=null,nc=!1,La=!1,Hr=!1,ic=0,ol=0,za=null,yT=0;function ht(){throw Error(r(321))}function Pf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!yn(t[a],i[a]))return!1;return!0}function Uf(t,i,a,o,h,d){return Ki=d,xe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,P.H=t===null||t.memoizedState===null?_y:Wf,Hr=!1,d=a(o,h),Hr=!1,La&&(d=Pg(i,a,o,h)),jg(t),d}function jg(t){P.H=cl;var i=We!==null&&We.next!==null;if(Ki=0,xt=We=xe=null,nc=!1,ol=0,za=null,i)throw Error(r(300));t===null||Rt||(t=t.dependencies,t!==null&&Ku(t)&&(Rt=!0))}function Pg(t,i,a,o){xe=t;var h=0;do{if(La&&(za=null),ol=0,La=!1,25<=h)throw Error(r(301));if(h+=1,xt=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}P.H=vy,d=i(a,o)}while(La);return d}function _T(){var t=P.H,i=t.useState()[0];return i=typeof i.then=="function"?ll(i):i,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(xe.flags|=1024),i}function Lf(){var t=ic!==0;return ic=0,t}function zf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Bf(t){if(nc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}nc=!1}Ki=0,xt=We=xe=null,La=!1,ol=ic=0,za=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?xe.memoizedState=xt=t:xt=xt.next=t,xt}function yt(){if(We===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var i=xt===null?xe.memoizedState:xt.next;if(i!==null)xt=i,We=t;else{if(t===null)throw xe.alternate===null?Error(r(467)):Error(r(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},xt===null?xe.memoizedState=xt=t:xt=xt.next=t}return xt}function sc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(t){var i=ol;return ol+=1,za===null&&(za=[]),t=Rg(za,t,i),i=xe,(xt===null?i.memoizedState:xt.next)===null&&(i=i.alternate,P.H=i===null||i.memoizedState===null?_y:Wf),t}function rc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ll(t);if(t.$$typeof===ue)return Ft(t)}throw Error(r(438,String(t)))}function qf(t){var i=null,a=xe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=xe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=sc(),xe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=O;return i.index++,a}function Yi(t,i){return typeof i=="function"?i(t):i}function ac(t){var i=yt();return Ff(i,We,t)}function Ff(t,i,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,d=o.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,o.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var b=v=null,C=null,z=i,Q=!1;do{var J=z.lane&-536870913;if(J!==z.lane?(Oe&J)===J:(Ki&J)===J){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),J===Va&&(Q=!0);else if((Ki&B)===B){z=z.next,B===Va&&(Q=!0);continue}else J={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(b=C=J,v=d):C=C.next=J,xe.lanes|=B,Us|=B;J=z.action,Hr&&a(d,J),d=z.hasEagerState?z.eagerState:a(d,J)}else B={lane:J,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(b=C=B,v=d):C=C.next=B,xe.lanes|=J,Us|=J;z=z.next}while(z!==null&&z!==i);if(C===null?v=d:C.next=b,!yn(d,t.memoizedState)&&(Rt=!0,Q&&(a=ka,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=C,o.lastRenderedState=d}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Hf(t){var i=yt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);yn(d,i.memoizedState)||(Rt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function Ug(t,i,a){var o=xe,h=yt(),d=Ue;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var v=!yn((We||h).memoizedState,a);if(v&&(h.memoizedState=a,Rt=!0),h=h.queue,Kf(Bg.bind(null,o,h,t),[t]),h.getSnapshot!==i||v||xt!==null&&xt.memoizedState.tag&1){if(o.flags|=2048,Ba(9,{destroy:void 0},zg.bind(null,o,h,a,i),null),nt===null)throw Error(r(349));d||(Ki&127)!==0||Lg(o,i,a)}return a}function Lg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=xe.updateQueue,i===null?(i=sc(),xe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function zg(t,i,a,o){i.value=a,i.getSnapshot=o,qg(i)&&Fg(t)}function Bg(t,i,a){return a(function(){qg(i)&&Fg(t)})}function qg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!yn(t,a)}catch{return!0}}function Fg(t){var i=kr(t,2);i!==null&&hn(i,t,2)}function Gf(t){var i=nn();if(typeof t=="function"){var a=t;if(t=a(),Hr){xn(!0);try{a()}finally{xn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:t},i}function Hg(t,i,a,o){return t.baseState=a,Ff(t,We,typeof o=="function"?o:Yi)}function vT(t,i,a,o,h){if(uc(t))throw Error(r(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};P.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,Gg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Gg(t,i){var a=i.action,o=i.payload,h=t.state;if(i.isTransition){var d=P.T,v={};P.T=v;try{var b=a(h,o),C=P.S;C!==null&&C(v,b),Qg(t,i,b)}catch(z){Qf(t,i,z)}finally{d!==null&&v.types!==null&&(d.types=v.types),P.T=d}}else try{d=a(h,o),Qg(t,i,d)}catch(z){Qf(t,i,z)}}function Qg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Kg(t,i,o)},function(o){return Qf(t,i,o)}):Kg(t,i,a)}function Kg(t,i,a){i.status="fulfilled",i.value=a,Yg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Gg(t,a)))}function Qf(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Yg(i),i=i.next;while(i!==o)}t.action=null}function Yg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Xg(t,i){return i}function $g(t,i){if(Ue){var a=nt.formState;if(a!==null){e:{var o=xe;if(Ue){if(st){t:{for(var h=st,d=kn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Pn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){st=Pn(h.nextSibling),o=h.data==="F!";break e}}Ns(o)}o=!1}o&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xg,lastRenderedState:i},a.queue=o,a=py.bind(null,xe,o),o.dispatch=a,o=Gf(!1),d=Zf.bind(null,xe,!1,o.queue),o=nn(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,a=vT.bind(null,xe,h,d,a),h.dispatch=a,o.memoizedState=t,[i,a,!1]}function Jg(t){var i=yt();return Zg(i,We,t)}function Zg(t,i,a){if(i=Ff(t,i,Xg)[0],t=ac(Yi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=ll(i)}catch(v){throw v===ja?$u:v}else o=i;i=yt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(xe.flags|=2048,Ba(9,{destroy:void 0},ET.bind(null,h,a),null)),[o,d,t]}function ET(t,i){t.action=i}function Wg(t){var i=yt(),a=We;if(a!==null)return Zg(i,a,t);yt(),i=i.memoizedState,a=yt();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function Ba(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=xe.updateQueue,i===null&&(i=sc(),xe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function ey(){return yt().memoizedState}function oc(t,i,a,o){var h=nn();xe.flags|=t,h.memoizedState=Ba(1|i,{destroy:void 0},a,o===void 0?null:o)}function lc(t,i,a,o){var h=yt();o=o===void 0?null:o;var d=h.memoizedState.inst;We!==null&&o!==null&&Pf(o,We.memoizedState.deps)?h.memoizedState=Ba(i,d,a,o):(xe.flags|=t,h.memoizedState=Ba(1|i,d,a,o))}function ty(t,i){oc(8390656,8,t,i)}function Kf(t,i){lc(2048,8,t,i)}function bT(t){xe.flags|=4;var i=xe.updateQueue;if(i===null)i=sc(),xe.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function ny(t){var i=yt().memoizedState;return bT({ref:i,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function iy(t,i){return lc(4,2,t,i)}function sy(t,i){return lc(4,4,t,i)}function ry(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ay(t,i,a){a=a!=null?a.concat([t]):null,lc(4,4,ry.bind(null,i,t),a)}function Yf(){}function oy(t,i){var a=yt();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Pf(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function ly(t,i){var a=yt();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Pf(i,o[1]))return o[0];if(o=t(),Hr){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[o,i],o}function Xf(t,i,a){return a===void 0||(Ki&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=u_(),xe.lanes|=t,Us|=t,a)}function uy(t,i,a,o){return yn(a,i)?a:Ua.current!==null?(t=Xf(t,a,o),yn(t,i)||(Rt=!0),t):(Ki&42)===0||(Ki&1073741824)!==0&&(Oe&261930)===0?(Rt=!0,t.memoizedState=a):(t=u_(),xe.lanes|=t,Us|=t,i)}function cy(t,i,a,o,h){var d=Z.p;Z.p=d!==0&&8>d?d:8;var v=P.T,b={};P.T=b,Zf(t,!1,i,a);try{var C=h(),z=P.S;if(z!==null&&z(b,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=gT(C,o);ul(t,i,Q,An(t))}else ul(t,i,o,An(t))}catch(J){ul(t,i,{then:function(){},status:"rejected",reason:J},An())}finally{Z.p=d,v!==null&&b.types!==null&&(v.types=b.types),P.T=v}}function TT(){}function $f(t,i,a,o){if(t.tag!==5)throw Error(r(476));var h=hy(t).queue;cy(t,h,i,ie,a===null?TT:function(){return fy(t),a(o)})}function hy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:ie},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function fy(t){var i=hy(t);i.next===null&&(i=t.alternate.memoizedState),ul(t,i.next.queue,{},An())}function Jf(){return Ft(xl)}function dy(){return yt().memoizedState}function my(){return yt().memoizedState}function AT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=An();t=Os(a);var o=Ms(i,t,a);o!==null&&(hn(o,i,a),sl(o,i,a)),i={cache:xf()},t.payload=i;return}i=i.return}}function wT(t,i,a){var o=An();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},uc(t)?gy(i,a):(a=pf(t,i,a,o),a!==null&&(hn(a,t,o),yy(a,i,o)))}function py(t,i,a){var o=An();ul(t,i,a,o)}function ul(t,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(uc(t))gy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,b=d(v,a);if(h.hasEagerState=!0,h.eagerState=b,yn(b,v))return Fu(t,i,h,0),nt===null&&qu(),!1}catch{}finally{}if(a=pf(t,i,h,o),a!==null)return hn(a,t,o),yy(a,i,o),!0}return!1}function Zf(t,i,a,o){if(o={lane:2,revertLane:Id(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},uc(t)){if(i)throw Error(r(479))}else i=pf(t,a,o,2),i!==null&&hn(i,t,2)}function uc(t){var i=t.alternate;return t===xe||i!==null&&i===xe}function gy(t,i){La=nc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function yy(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Do(t,a)}}var cl={readContext:Ft,use:rc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};cl.useEffectEvent=ht;var _y={readContext:Ft,use:rc,useCallback:function(t,i){return nn().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:ty,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,oc(4194308,4,ry.bind(null,i,t),a)},useLayoutEffect:function(t,i){return oc(4194308,4,t,i)},useInsertionEffect:function(t,i){oc(4,2,t,i)},useMemo:function(t,i){var a=nn();i=i===void 0?null:i;var o=t();if(Hr){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=nn();if(a!==void 0){var h=a(i);if(Hr){xn(!0);try{a(i)}finally{xn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=wT.bind(null,xe,t),[o.memoizedState,t]},useRef:function(t){var i=nn();return t={current:t},i.memoizedState=t},useState:function(t){t=Gf(t);var i=t.queue,a=py.bind(null,xe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Yf,useDeferredValue:function(t,i){var a=nn();return Xf(a,t,i)},useTransition:function(){var t=Gf(!1);return t=cy.bind(null,xe,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=xe,h=nn();if(Ue){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),nt===null)throw Error(r(349));(Oe&127)!==0||Lg(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,ty(Bg.bind(null,o,d,t),[t]),o.flags|=2048,Ba(9,{destroy:void 0},zg.bind(null,o,d,a,i),null),a},useId:function(){var t=nn(),i=nt.identifierPrefix;if(Ue){var a=Ai,o=Ti;a=(o&~(1<<32-mt(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=ic++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=yT++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Jf,useFormState:$g,useActionState:$g,useOptimistic:function(t){var i=nn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Zf.bind(null,xe,!0,a),a.dispatch=i,[t,i]},useMemoCache:qf,useCacheRefresh:function(){return nn().memoizedState=AT.bind(null,xe)},useEffectEvent:function(t){var i=nn(),a={impl:t};return i.memoizedState=a,function(){if((Qe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Wf={readContext:Ft,use:rc,useCallback:oy,useContext:Ft,useEffect:Kf,useImperativeHandle:ay,useInsertionEffect:iy,useLayoutEffect:sy,useMemo:ly,useReducer:ac,useRef:ey,useState:function(){return ac(Yi)},useDebugValue:Yf,useDeferredValue:function(t,i){var a=yt();return uy(a,We.memoizedState,t,i)},useTransition:function(){var t=ac(Yi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:ll(t),i]},useSyncExternalStore:Ug,useId:dy,useHostTransitionStatus:Jf,useFormState:Jg,useActionState:Jg,useOptimistic:function(t,i){var a=yt();return Hg(a,We,t,i)},useMemoCache:qf,useCacheRefresh:my};Wf.useEffectEvent=ny;var vy={readContext:Ft,use:rc,useCallback:oy,useContext:Ft,useEffect:Kf,useImperativeHandle:ay,useInsertionEffect:iy,useLayoutEffect:sy,useMemo:ly,useReducer:Hf,useRef:ey,useState:function(){return Hf(Yi)},useDebugValue:Yf,useDeferredValue:function(t,i){var a=yt();return We===null?Xf(a,t,i):uy(a,We.memoizedState,t,i)},useTransition:function(){var t=Hf(Yi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:ll(t),i]},useSyncExternalStore:Ug,useId:dy,useHostTransitionStatus:Jf,useFormState:Wg,useActionState:Wg,useOptimistic:function(t,i){var a=yt();return We!==null?Hg(a,We,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:qf,useCacheRefresh:my};vy.useEffectEvent=ny;function ed(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:w({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var td={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=An(),h=Os(o);h.payload=i,a!=null&&(h.callback=a),i=Ms(t,h,o),i!==null&&(hn(i,t,o),sl(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=An(),h=Os(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ms(t,h,o),i!==null&&(hn(i,t,o),sl(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=An(),o=Os(a);o.tag=2,i!=null&&(o.callback=i),i=Ms(t,o,a),i!==null&&(hn(i,t,a),sl(i,t,a))}};function Ey(t,i,a,o,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,v):i.prototype&&i.prototype.isPureReactComponent?!$o(a,o)||!$o(h,d):!0}function by(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&td.enqueueReplaceState(i,i.state,null)}function Gr(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=w({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Ty(t){Bu(t)}function Ay(t){console.error(t)}function wy(t){Bu(t)}function cc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Sy(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function nd(t,i,a){return a=Os(a),a.tag=3,a.payload={element:null},a.callback=function(){cc(t,i)},a}function xy(t){return t=Os(t),t.tag=3,t}function Ry(t,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;t.payload=function(){return h(d)},t.callback=function(){Sy(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Sy(i,a,o),typeof h!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function ST(t,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Ma(i,a,h,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return jn===null?Tc():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Ju?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Rd(t,o,h)),!1;case 22:return a.flags|=65536,o===Ju?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Rd(t,o,h)),!1}throw Error(r(435,a.tag))}return Rd(t,o,h),Tc(),!1}if(Ue)return i=vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==bf&&(t=Error(r(422),{cause:o}),Wo(On(t,a)))):(o!==bf&&(i=Error(r(423),{cause:o}),Wo(On(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=On(o,a),h=nd(t.stateNode,o,h),Of(t,h),ft!==4&&(ft=2)),!1;var d=Error(r(520),{cause:o});if(d=On(d,a),_l===null?_l=[d]:_l.push(d),ft!==4&&(ft=2),i===null)return!0;o=On(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=nd(a.stateNode,o,t),Of(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ls===null||!Ls.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=xy(h),Ry(h,t,a,o),Of(a,h),!1}a=a.return}while(a!==null);return!1}var id=Error(r(461)),Rt=!1;function Ht(t,i,a,o){i.child=t===null?Dg(i,null,a,o):Fr(i,t.child,a,o)}function Cy(t,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var v={};for(var b in o)b!=="ref"&&(v[b]=o[b])}else v=o;return Lr(i),o=Uf(t,i,a,v,d,h),b=Lf(),t!==null&&!Rt?(zf(t,i,h),Xi(t,i,h)):(Ue&&b&&vf(i),i.flags|=1,Ht(t,i,o,h),i.child)}function Ny(t,i,a,o,h){if(t===null){var d=a.type;return typeof d=="function"&&!gf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Iy(t,i,d,o,h)):(t=Gu(a.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!hd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:$o,a(v,o)&&t.ref===i.ref)return Xi(t,i,h)}return i.flags|=1,t=Fi(d,o),t.ref=i.ref,t.return=i,i.child=t}function Iy(t,i,a,o,h){if(t!==null){var d=t.memoizedProps;if($o(d,o)&&t.ref===i.ref)if(Rt=!1,i.pendingProps=o=d,hd(t,h))(t.flags&131072)!==0&&(Rt=!0);else return i.lanes=t.lanes,Xi(t,i,h)}return sd(t,i,a,o,h)}function Dy(t,i,a,o){var h=o.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(o=i.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~d}else o=0,i.child=null;return Oy(t,i,d,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xu(i,d!==null?d.cachePool:null),d!==null?Vg(i,d):Vf(),kg(i);else return o=i.lanes=536870912,Oy(t,i,d!==null?d.baseLanes|a:a,a,o)}else d!==null?(Xu(i,d.cachePool),Vg(i,d),ks(),i.memoizedState=null):(t!==null&&Xu(i,null),Vf(),ks());return Ht(t,i,h,a),i.child}function hl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Oy(t,i,a,o,h){var d=Cf();return d=d===null?null:{parent:St._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Xu(i,null),Vf(),kg(i),t!==null&&Ma(t,i,o,!0),i.childLanes=h,null}function hc(t,i){return i=dc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function My(t,i,a){return Fr(i,t.child,null,a),t=hc(i,i.pendingProps),t.flags|=2,En(i),i.memoizedState=null,t}function xT(t,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ue){if(o.mode==="hidden")return t=hc(i,o),i.lanes=536870912,hl(null,t);if(jf(i),(t=st)?(t=G_(t,kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Rs!==null?{id:Ti,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=gg(t),a.return=i,i.child=a,qt=i,st=null)):t=null,t===null)throw Ns(i);return i.lanes=536870912,null}return hc(i,o)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(jf(i),h)if(i.flags&256)i.flags&=-257,i=My(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Rt||Ma(t,i,a,!1),h=(a&t.childLanes)!==0,Rt||h){if(o=nt,o!==null&&(v=Oo(o,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,kr(t,v),hn(o,t,v),id;Tc(),i=My(t,i,a)}else t=d.treeContext,st=Pn(v.nextSibling),qt=i,Ue=!0,Cs=null,kn=!1,t!==null&&vg(i,t),i=hc(i,o),i.flags|=4096;return i}return t=Fi(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function fc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function sd(t,i,a,o,h){return Lr(i),a=Uf(t,i,a,o,void 0,h),o=Lf(),t!==null&&!Rt?(zf(t,i,h),Xi(t,i,h)):(Ue&&o&&vf(i),i.flags|=1,Ht(t,i,a,h),i.child)}function Vy(t,i,a,o,h,d){return Lr(i),i.updateQueue=null,a=Pg(i,o,a,h),jg(t),o=Lf(),t!==null&&!Rt?(zf(t,i,d),Xi(t,i,d)):(Ue&&o&&vf(i),i.flags|=1,Ht(t,i,a,d),i.child)}function ky(t,i,a,o,h){if(Lr(i),i.stateNode===null){var d=Na,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ft(v)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=td,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},If(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ft(v):Na,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(ed(i,a,v,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&td.enqueueReplaceState(d,d.state,null),al(i,o,d,h),rl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,C=Gr(a,b);d.props=C;var z=d.context,Q=a.contextType;v=Na,typeof Q=="object"&&Q!==null&&(v=Ft(Q));var J=a.getDerivedStateFromProps;Q=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||z!==v)&&by(i,d,o,v),Ds=!1;var B=i.memoizedState;d.state=B,al(i,o,d,h),rl(),z=i.memoizedState,b||B!==z||Ds?(typeof J=="function"&&(ed(i,a,J,o),z=i.memoizedState),(C=Ds||Ey(i,a,C,o,B,z,v))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=z),d.props=o,d.state=z,d.context=v,o=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,Df(t,i),v=i.memoizedProps,Q=Gr(a,v),d.props=Q,J=i.pendingProps,B=d.context,z=a.contextType,C=Na,typeof z=="object"&&z!==null&&(C=Ft(z)),b=a.getDerivedStateFromProps,(z=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||B!==C)&&by(i,d,o,C),Ds=!1,B=i.memoizedState,d.state=B,al(i,o,d,h),rl();var H=i.memoizedState;v!==J||B!==H||Ds||t!==null&&t.dependencies!==null&&Ku(t.dependencies)?(typeof b=="function"&&(ed(i,a,b,o),H=i.memoizedState),(Q=Ds||Ey(i,a,Q,o,B,H,C)||t!==null&&t.dependencies!==null&&Ku(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,H,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,H,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=H),d.props=o,d.state=H,d.context=C,o=Q):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),o=!1)}return d=o,fc(t,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&o?(i.child=Fr(i,t.child,null,h),i.child=Fr(i,null,a,h)):Ht(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Xi(t,i,h),t}function jy(t,i,a,o){return Pr(),i.flags|=256,Ht(t,i,a,o),i.child}var rd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ad(t){return{baseLanes:t,cachePool:Sg()}}function od(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Tn),t}function Py(t,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ue){if(h?Vs(i):ks(),(t=st)?(t=G_(t,kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Rs!==null?{id:Ti,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=gg(t),a.return=i,i.child=a,qt=i,st=null)):t=null,t===null)throw Ns(i);return Fd(t)?i.lanes=32:i.lanes=536870912,null}var b=o.children;return o=o.fallback,h?(ks(),h=i.mode,b=dc({mode:"hidden",children:b},h),o=jr(o,h,a,null),b.return=i,o.return=i,b.sibling=o,i.child=b,o=i.child,o.memoizedState=ad(a),o.childLanes=od(t,v,a),i.memoizedState=rd,hl(null,o)):(Vs(i),ld(i,b))}var C=t.memoizedState;if(C!==null&&(b=C.dehydrated,b!==null)){if(d)i.flags&256?(Vs(i),i.flags&=-257,i=ud(t,i,a)):i.memoizedState!==null?(ks(),i.child=t.child,i.flags|=128,i=null):(ks(),b=o.fallback,h=i.mode,o=dc({mode:"visible",children:o.children},h),b=jr(b,h,a,null),b.flags|=2,o.return=i,b.return=i,o.sibling=b,i.child=o,Fr(i,t.child,null,a),o=i.child,o.memoizedState=ad(a),o.childLanes=od(t,v,a),i.memoizedState=rd,i=hl(null,o));else if(Vs(i),Fd(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var z=v.dgst;v=z,o=Error(r(419)),o.stack="",o.digest=v,Wo({value:o,source:null,stack:null}),i=ud(t,i,a)}else if(Rt||Ma(t,i,a,!1),v=(a&t.childLanes)!==0,Rt||v){if(v=nt,v!==null&&(o=Oo(v,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,kr(t,o),hn(v,t,o),id;qd(b)||Tc(),i=ud(t,i,a)}else qd(b)?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,st=Pn(b.nextSibling),qt=i,Ue=!0,Cs=null,kn=!1,t!==null&&vg(i,t),i=ld(i,o.children),i.flags|=4096);return i}return h?(ks(),b=o.fallback,h=i.mode,C=t.child,z=C.sibling,o=Fi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?b=Fi(z,b):(b=jr(b,h,a,null),b.flags|=2),b.return=i,o.return=i,o.sibling=b,i.child=o,hl(null,o),o=i.child,b=t.child.memoizedState,b===null?b=ad(a):(h=b.cachePool,h!==null?(C=St._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Sg(),b={baseLanes:b.baseLanes|a,cachePool:h}),o.memoizedState=b,o.childLanes=od(t,v,a),i.memoizedState=rd,hl(t.child,o)):(Vs(i),a=t.child,t=a.sibling,a=Fi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function ld(t,i){return i=dc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function dc(t,i){return t=_n(22,t,null,i),t.lanes=0,t}function ud(t,i,a){return Fr(i,t.child,null,a),t=ld(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Uy(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),wf(t.return,i,a)}function cd(t,i,a,o,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function Ly(t,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;o=o.children;var v=gt.current,b=(v&2)!==0;if(b?(v=v&1|2,i.flags|=128):v&=1,te(gt,v),Ht(t,i,o,a),o=Ue?Zo:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Uy(t,a,i);else if(t.tag===19)Uy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&tc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),cd(i,!1,h,a,d,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&tc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}cd(i,!0,a,null,d,o);break;case"together":cd(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Xi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Us|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ma(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=Fi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Fi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function hd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Ku(t)))}function RT(t,i,a){switch(i.tag){case 3:Ot(i,i.stateNode.containerInfo),Is(i,St,t.memoizedState.cache),Pr();break;case 27:case 5:yr(i);break;case 4:Ot(i,i.stateNode.containerInfo);break;case 10:Is(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,jf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Vs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Py(t,i,a):(Vs(i),t=Xi(t,i,a),t!==null?t.sibling:null);Vs(i);break;case 19:var h=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Ma(t,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Ly(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(gt,gt.current),o)break;return null;case 22:return i.lanes=0,Dy(t,i,a,i.pendingProps);case 24:Is(i,St,t.memoizedState.cache)}return Xi(t,i,a)}function zy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Rt=!0;else{if(!hd(t,a)&&(i.flags&128)===0)return Rt=!1,RT(t,i,a);Rt=(t.flags&131072)!==0}else Rt=!1,Ue&&(i.flags&1048576)!==0&&_g(i,Zo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=Br(i.elementType),i.type=t,typeof t=="function")gf(t)?(o=Gr(t,o),i.tag=1,i=ky(null,i,t,o,a)):(i.tag=0,i=sd(null,i,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===fe){i.tag=11,i=Cy(null,i,t,o,a);break e}else if(h===I){i.tag=14,i=Ny(null,i,t,o,a);break e}}throw i=Be(t)||t,Error(r(306,i,""))}}return i;case 0:return sd(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Gr(o,i.pendingProps),ky(t,i,o,h,a);case 3:e:{if(Ot(i,i.stateNode.containerInfo),t===null)throw Error(r(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,Df(t,i),al(i,o,null,a);var v=i.memoizedState;if(o=v.cache,Is(i,St,o),o!==d.cache&&Sf(i,[St],a,!0),rl(),o=v.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=jy(t,i,o,a);break e}else if(o!==h){h=On(Error(r(424)),i),Wo(h),i=jy(t,i,o,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(st=Pn(t.firstChild),qt=i,Ue=!0,Cs=null,kn=!0,a=Dg(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Pr(),o===h){i=Xi(t,i,a);break e}Ht(t,i,o,a)}i=i.child}return i;case 26:return fc(t,i),t===null?(a=J_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ue||(a=i.type,t=i.pendingProps,o=Nc(Re.current).createElement(a),o[Tt]=i,o[jt]=t,Gt(o,a,t),At(o),i.stateNode=o):i.memoizedState=J_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return yr(i),t===null&&Ue&&(o=i.stateNode=Y_(i.type,i.pendingProps,Re.current),qt=i,kn=!0,h=st,Fs(i.type)?(Hd=h,st=Pn(o.firstChild)):st=h),Ht(t,i,i.pendingProps.children,a),fc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ue&&((h=o=st)&&(o=iA(o,i.type,i.pendingProps,kn),o!==null?(i.stateNode=o,qt=i,st=Pn(o.firstChild),kn=!1,h=!0):h=!1),h||Ns(i)),yr(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,o=d.children,Ld(h,d)?o=null:v!==null&&Ld(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Uf(t,i,_T,null,null,a),xl._currentValue=h),fc(t,i),Ht(t,i,o,a),i.child;case 6:return t===null&&Ue&&((t=a=st)&&(a=sA(a,i.pendingProps,kn),a!==null?(i.stateNode=a,qt=i,st=null,t=!0):t=!1),t||Ns(i)),null;case 13:return Py(t,i,a);case 4:return Ot(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Fr(i,null,o,a):Ht(t,i,o,a),i.child;case 11:return Cy(t,i,i.type,i.pendingProps,a);case 7:return Ht(t,i,i.pendingProps,a),i.child;case 8:return Ht(t,i,i.pendingProps.children,a),i.child;case 12:return Ht(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Is(i,i.type,o.value),Ht(t,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Lr(i),h=Ft(h),o=o(h),i.flags|=1,Ht(t,i,o,a),i.child;case 14:return Ny(t,i,i.type,i.pendingProps,a);case 15:return Iy(t,i,i.type,i.pendingProps,a);case 19:return Ly(t,i,a);case 31:return xT(t,i,a);case 22:return Dy(t,i,a,i.pendingProps);case 24:return Lr(i),o=Ft(St),t===null?(h=Cf(),h===null&&(h=nt,d=xf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},If(i),Is(i,St,h)):((t.lanes&a)!==0&&(Df(t,i),al(i,null,null,a),rl()),h=t.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Is(i,St,o)):(o=d.cache,Is(i,St,o),o!==h.cache&&Sf(i,[St],a,!0))),Ht(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function $i(t){t.flags|=4}function fd(t,i,a,o,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(d_())t.flags|=8192;else throw qr=Ju,Nf}else t.flags&=-16777217}function By(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!nv(i))if(d_())t.flags|=8192;else throw qr=Ju,Nf}function mc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Eu():536870912,t.lanes|=i,Ga|=i)}function fl(t,i){if(!Ue)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function CT(t,i,a){var o=i.pendingProps;switch(Ef(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Qi(St),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Oa(i)?$i(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Tf())),rt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?($i(i),d!==null?(rt(i),By(i,d)):(rt(i),fd(i,h,null,o,a))):d?d!==t.memoizedState?($i(i),rt(i),By(i,d)):(rt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&$i(i),rt(i),fd(i,h,t,o,a)),null;case 27:if(ca(i),a=Re.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&$i(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return rt(i),null}t=ae.current,Oa(i)?Eg(i):(t=Y_(h,o,a),i.stateNode=t,$i(i))}return rt(i),null;case 5:if(ca(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&$i(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return rt(i),null}if(d=ae.current,Oa(i))Eg(i);else{var v=Nc(Re.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?v.createElement(h,{is:o.is}):v.createElement(h)}}d[Tt]=i,d[jt]=o;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(Gt(d,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&$i(i)}}return rt(i),fd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&$i(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(t=Re.current,Oa(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,h=qt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||P_(t.nodeValue,a)),t||Ns(i,!0)}else t=Nc(t).createTextNode(o),t[Tt]=i,i.stateNode=t}return rt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(o=Oa(i),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Tt]=i}else Pr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),t=!1}else a=Tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(En(i),i):(En(i),null);if((i.flags&128)!==0)throw Error(r(558))}return rt(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Oa(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Tt]=i}else Pr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),h=!1}else h=Tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(En(i),i):(En(i),null)}return En(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),mc(i,i.updateQueue),rt(i),null);case 4:return ot(),t===null&&Vd(i.stateNode.containerInfo),rt(i),null;case 10:return Qi(i.type),rt(i),null;case 19:if(Y(gt),o=i.memoizedState,o===null)return rt(i),null;if(h=(i.flags&128)!==0,d=o.rendering,d===null)if(h)fl(o,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=tc(t),d!==null){for(i.flags|=128,fl(o,!1),t=d.updateQueue,i.updateQueue=t,mc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)pg(a,t),a=a.sibling;return te(gt,gt.current&1|2),Ue&&Hi(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&en()>vc&&(i.flags|=128,h=!0,fl(o,!1),i.lanes=4194304)}else{if(!h)if(t=tc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,mc(i,t),fl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Ue)return rt(i),null}else 2*en()-o.renderingStartTime>vc&&a!==536870912&&(i.flags|=128,h=!0,fl(o,!1),i.lanes=4194304);o.isBackwards?(d.sibling=i.child,i.child=d):(t=o.last,t!==null?t.sibling=d:i.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=en(),t.sibling=null,a=gt.current,te(gt,h?a&1|2:a&1),Ue&&Hi(i,o.treeForkCount),t):(rt(i),null);case 22:case 23:return En(i),kf(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&mc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&Y(zr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Qi(St),rt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function NT(t,i){switch(Ef(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Qi(St),ot(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ca(i),null;case 31:if(i.memoizedState!==null){if(En(i),i.alternate===null)throw Error(r(340));Pr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(En(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Pr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Y(gt),null;case 4:return ot(),null;case 10:return Qi(i.type),null;case 22:case 23:return En(i),kf(),t!==null&&Y(zr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Qi(St),null;case 25:return null;default:return null}}function qy(t,i){switch(Ef(i),i.tag){case 3:Qi(St),ot();break;case 26:case 27:case 5:ca(i);break;case 4:ot();break;case 31:i.memoizedState!==null&&En(i);break;case 13:En(i);break;case 19:Y(gt);break;case 10:Qi(i.type);break;case 22:case 23:En(i),kf(),t!==null&&Y(zr);break;case 24:Qi(St)}}function dl(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var d=a.create,v=a.inst;o=d(),v.destroy=o}a=a.next}while(a!==h)}}catch(b){Je(i,i.return,b)}}function js(t,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&t)===t){var v=o.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,h=i;var C=a,z=b;try{z()}catch(Q){Je(h,C,Q)}}}o=o.next}while(o!==d)}}catch(Q){Je(i,i.return,Q)}}function Fy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Mg(i,a)}catch(o){Je(t,t.return,o)}}}function Hy(t,i,a){a.props=Gr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Je(t,i,o)}}function ml(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){Je(t,i,h)}}function wi(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Je(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Je(t,i,h)}else a.current=null}function Gy(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Je(t,t.return,h)}}function dd(t,i,a){try{var o=t.stateNode;JT(o,t.type,a,i),o[jt]=i}catch(h){Je(t,t.return,h)}}function Qy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Fs(t.type)||t.tag===4}function md(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Qy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Fs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pd(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Gn));else if(o!==4&&(o===27&&Fs(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(pd(t,i,a),t=t.sibling;t!==null;)pd(t,i,a),t=t.sibling}function pc(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&Fs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(pc(t,i,a),t=t.sibling;t!==null;)pc(t,i,a),t=t.sibling}function Ky(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Gt(i,o,a),i[Tt]=t,i[jt]=a}catch(d){Je(t,t.return,d)}}var Ji=!1,Ct=!1,gd=!1,Yy=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function IT(t,i){if(t=t.containerInfo,Pd=jc,t=ag(t),uf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,b=-1,C=-1,z=0,Q=0,J=t,B=null;t:for(;;){for(var H;J!==a||h!==0&&J.nodeType!==3||(b=v+h),J!==d||o!==0&&J.nodeType!==3||(C=v+o),J.nodeType===3&&(v+=J.nodeValue.length),(H=J.firstChild)!==null;)B=J,J=H;for(;;){if(J===t)break t;if(B===a&&++z===h&&(b=v),B===d&&++Q===o&&(C=v),(H=J.nextSibling)!==null)break;J=B,B=J.parentNode}J=H}a=b===-1||C===-1?null:{start:b,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ud={focusedElem:t,selectionRange:a},jc=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var le=Gr(a.type,h);t=o.getSnapshotBeforeUpdate(le,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Je(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Bd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Bd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function Xy(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Wi(t,a),o&4&&dl(5,a);break;case 1:if(Wi(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){Je(a,a.return,v)}else{var h=Gr(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Je(a,a.return,v)}}o&64&&Fy(a),o&512&&ml(a,a.return);break;case 3:if(Wi(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Mg(t,i)}catch(v){Je(a,a.return,v)}}break;case 27:i===null&&o&4&&Ky(a);case 26:case 5:Wi(t,a),i===null&&o&4&&Gy(a),o&512&&ml(a,a.return);break;case 12:Wi(t,a);break;case 31:Wi(t,a),o&4&&Zy(t,a);break;case 13:Wi(t,a),o&4&&Wy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=LT.bind(null,a),rA(t,a))));break;case 22:if(o=a.memoizedState!==null||Ji,!o){i=i!==null&&i.memoizedState!==null||Ct,h=Ji;var d=Ct;Ji=o,(Ct=i)&&!d?es(t,a,(a.subtreeFlags&8772)!==0):Wi(t,a),Ji=h,Ct=d}break;case 30:break;default:Wi(t,a)}}function $y(t){var i=t.alternate;i!==null&&(t.alternate=null,$y(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&pa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,on=!1;function Zi(t,i,a){for(a=a.child;a!==null;)Jy(t,i,a),a=a.sibling}function Jy(t,i,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Bn,a)}catch{}switch(a.tag){case 26:Ct||wi(a,i),Zi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||wi(a,i);var o=ut,h=on;Fs(a.type)&&(ut=a.stateNode,on=!1),Zi(t,i,a),Al(a.stateNode),ut=o,on=h;break;case 5:Ct||wi(a,i);case 6:if(o=ut,h=on,ut=null,Zi(t,i,a),ut=o,on=h,ut!==null)if(on)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(d){Je(a,i,d)}else try{ut.removeChild(a.stateNode)}catch(d){Je(a,i,d)}break;case 18:ut!==null&&(on?(t=ut,F_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Wa(t)):F_(ut,a.stateNode));break;case 4:o=ut,h=on,ut=a.stateNode.containerInfo,on=!0,Zi(t,i,a),ut=o,on=h;break;case 0:case 11:case 14:case 15:js(2,a,i),Ct||js(4,a,i),Zi(t,i,a);break;case 1:Ct||(wi(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Hy(a,i,o)),Zi(t,i,a);break;case 21:Zi(t,i,a);break;case 22:Ct=(o=Ct)||a.memoizedState!==null,Zi(t,i,a),Ct=o;break;default:Zi(t,i,a)}}function Zy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Wa(t)}catch(a){Je(i,i.return,a)}}}function Wy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Wa(t)}catch(a){Je(i,i.return,a)}}function DT(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Yy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Yy),i;default:throw Error(r(435,t.tag))}}function gc(t,i){var a=DT(t);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=zT.bind(null,t,o);o.then(h,h)}})}function ln(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=t,v=i,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(Fs(b.type)){ut=b.stateNode,on=!1;break e}break;case 5:ut=b.stateNode,on=!1;break e;case 3:case 4:ut=b.stateNode.containerInfo,on=!0;break e}b=b.return}if(ut===null)throw Error(r(160));Jy(d,v,h),ut=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)e_(i,t),i=i.sibling}var Jn=null;function e_(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(i,t),un(t),o&4&&(js(3,t,t.return),dl(3,t),js(5,t,t.return));break;case 1:ln(i,t),un(t),o&512&&(Ct||a===null||wi(a,a.return)),o&64&&Ji&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Jn;if(ln(i,t),un(t),o&512&&(Ct||a===null||wi(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ci]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Gt(d,o,a),d[Tt]=t,At(d),o=d;break e;case"link":var v=ev("link","href",h).get(o+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(d=v[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break t}}d=h.createElement(o),Gt(d,o,a),h.head.appendChild(d);break;case"meta":if(v=ev("meta","content",h).get(o+(a.content||""))){for(b=0;b<v.length;b++)if(d=v[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break t}}d=h.createElement(o),Gt(d,o,a),h.head.appendChild(d);break;default:throw Error(r(468,o))}d[Tt]=t,At(d),o=d}t.stateNode=o}else tv(h,t.type,t.stateNode);else t.stateNode=W_(h,o,t.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?tv(h,t.type,t.stateNode):W_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&dd(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(i,t),un(t),o&512&&(Ct||a===null||wi(a,a.return)),a!==null&&o&4&&dd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(i,t),un(t),o&512&&(Ct||a===null||wi(a,a.return)),t.flags&32){h=t.stateNode;try{an(h,"")}catch(le){Je(t,t.return,le)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,dd(t,h,a!==null?a.memoizedProps:h)),o&1024&&(gd=!0);break;case 6:if(ln(i,t),un(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(le){Je(t,t.return,le)}}break;case 3:if(Oc=null,h=Jn,Jn=Ic(i.containerInfo),ln(i,t),Jn=h,un(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Wa(i.containerInfo)}catch(le){Je(t,t.return,le)}gd&&(gd=!1,t_(t));break;case 4:o=Jn,Jn=Ic(t.stateNode.containerInfo),ln(i,t),un(t),Jn=o;break;case 12:ln(i,t),un(t);break;case 31:ln(i,t),un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,gc(t,o)));break;case 13:ln(i,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_c=en()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,gc(t,o)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=Ji,Q=Ct;if(Ji=z||h,Ct=Q||C,ln(i,t),Ct=Q,Ji=z,un(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||Ji||Ct||Qr(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=C.stateNode;var J=C.memoizedProps.style,B=J!=null&&J.hasOwnProperty("display")?J.display:null;b.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(le){Je(C,C.return,le)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(le){Je(C,C.return,le)}}}else if(i.tag===18){if(a===null){C=i;try{var H=C.stateNode;h?H_(H,!0):H_(C.stateNode,!1)}catch(le){Je(C,C.return,le)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,gc(t,a))));break;case 19:ln(i,t),un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,gc(t,o)));break;case 30:break;case 21:break;default:ln(i,t),un(t)}}function un(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(Qy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=md(t);pc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(an(v,""),a.flags&=-33);var b=md(t);pc(t,b,v);break;case 3:case 4:var C=a.stateNode.containerInfo,z=md(t);pd(t,z,C);break;default:throw Error(r(161))}}catch(Q){Je(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function t_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;t_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Wi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Xy(t,i.alternate,i),i=i.sibling}function Qr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:js(4,i,i.return),Qr(i);break;case 1:wi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Hy(i,i.return,a),Qr(i);break;case 27:Al(i.stateNode);case 26:case 5:wi(i,i.return),Qr(i);break;case 22:i.memoizedState===null&&Qr(i);break;case 30:Qr(i);break;default:Qr(i)}t=t.sibling}}function es(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:es(h,d,a),dl(4,d);break;case 1:if(es(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Je(o,o.return,z)}if(o=d,h=o.updateQueue,h!==null){var b=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Og(C[h],b)}catch(z){Je(o,o.return,z)}}a&&v&64&&Fy(d),ml(d,d.return);break;case 27:Ky(d);case 26:case 5:es(h,d,a),a&&o===null&&v&4&&Gy(d),ml(d,d.return);break;case 12:es(h,d,a);break;case 31:es(h,d,a),a&&v&4&&Zy(h,d);break;case 13:es(h,d,a),a&&v&4&&Wy(h,d);break;case 22:d.memoizedState===null&&es(h,d,a),ml(d,d.return);break;case 30:break;default:es(h,d,a)}i=i.sibling}}function yd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&el(a))}function _d(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&el(t))}function Zn(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)n_(t,i,a,o),i=i.sibling}function n_(t,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Zn(t,i,a,o),h&2048&&dl(9,i);break;case 1:Zn(t,i,a,o);break;case 3:Zn(t,i,a,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&el(t)));break;case 12:if(h&2048){Zn(t,i,a,o),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,b=d.onPostCommit;typeof b=="function"&&b(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Je(i,i.return,C)}}else Zn(t,i,a,o);break;case 31:Zn(t,i,a,o);break;case 13:Zn(t,i,a,o);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?Zn(t,i,a,o):pl(t,i):d._visibility&2?Zn(t,i,a,o):(d._visibility|=2,qa(t,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&yd(v,i);break;case 24:Zn(t,i,a,o),h&2048&&_d(i.alternate,i);break;default:Zn(t,i,a,o)}}function qa(t,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,b=a,C=o,z=v.flags;switch(v.tag){case 0:case 11:case 15:qa(d,v,b,C,h),dl(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?qa(d,v,b,C,h):pl(d,v):(Q._visibility|=2,qa(d,v,b,C,h)),h&&z&2048&&yd(v.alternate,v);break;case 24:qa(d,v,b,C,h),h&&z&2048&&_d(v.alternate,v);break;default:qa(d,v,b,C,h)}i=i.sibling}}function pl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,h=o.flags;switch(o.tag){case 22:pl(a,o),h&2048&&yd(o.alternate,o);break;case 24:pl(a,o),h&2048&&_d(o.alternate,o);break;default:pl(a,o)}i=i.sibling}}var gl=8192;function Fa(t,i,a){if(t.subtreeFlags&gl)for(t=t.child;t!==null;)i_(t,i,a),t=t.sibling}function i_(t,i,a){switch(t.tag){case 26:Fa(t,i,a),t.flags&gl&&t.memoizedState!==null&&yA(a,Jn,t.memoizedState,t.memoizedProps);break;case 5:Fa(t,i,a);break;case 3:case 4:var o=Jn;Jn=Ic(t.stateNode.containerInfo),Fa(t,i,a),Jn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=gl,gl=16777216,Fa(t,i,a),gl=o):Fa(t,i,a));break;default:Fa(t,i,a)}}function s_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function yl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ut=o,a_(o,t)}s_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)r_(t),t=t.sibling}function r_(t){switch(t.tag){case 0:case 11:case 15:yl(t),t.flags&2048&&js(9,t,t.return);break;case 3:yl(t);break;case 12:yl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,yc(t)):yl(t);break;default:yl(t)}}function yc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ut=o,a_(o,t)}s_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:js(8,i,i.return),yc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,yc(i));break;default:yc(i)}t=t.sibling}}function a_(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:js(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:el(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ut=o;else e:for(a=t;Ut!==null;){o=Ut;var h=o.sibling,d=o.return;if($y(o),o===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var OT={getCacheForType:function(t){var i=Ft(St),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ft(St).controller.signal}},MT=typeof WeakMap=="function"?WeakMap:Map,Qe=0,nt=null,Ie=null,Oe=0,$e=0,bn=null,Ps=!1,Ha=!1,vd=!1,ts=0,ft=0,Us=0,Kr=0,Ed=0,Tn=0,Ga=0,_l=null,cn=null,bd=!1,_c=0,o_=0,vc=1/0,Ec=null,Ls=null,Vt=0,zs=null,Qa=null,ns=0,Td=0,Ad=null,l_=null,vl=0,wd=null;function An(){return(Qe&2)!==0&&Oe!==0?Oe&-Oe:P.T!==null?Id():bu()}function u_(){if(Tn===0)if((Oe&536870912)===0||Ue){var t=Er;Er<<=1,(Er&3932160)===0&&(Er=262144),Tn=t}else Tn=536870912;return t=vn.current,t!==null&&(t.flags|=32),Tn}function hn(t,i,a){(t===nt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(Ka(t,0),Bs(t,Oe,Tn,!1)),br(t,a),((Qe&2)===0||t!==nt)&&(t===nt&&((Qe&2)===0&&(Kr|=a),ft===4&&Bs(t,Oe,Tn,!1)),Si(t))}function c_(t,i,a){if((Qe&6)!==0)throw Error(r(327));var o=!a&&(i&127)===0&&(i&t.expiredLanes)===0||qn(t,i),h=o?jT(t,i):xd(t,i,!0),d=o;do{if(h===0){Ha&&!o&&Bs(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!VT(a)){h=xd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var b=t;h=_l;var C=b.current.memoizedState.isDehydrated;if(C&&(Ka(b,v).flags|=256),v=xd(b,v,!1),v!==2){if(vd&&!C){b.errorRecoveryDisabledLanes|=d,Kr|=d,h=4;break e}d=cn,cn=h,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ka(t,0),Bs(t,i,0,!0);break}e:{switch(o=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Bs(o,i,Tn,!Ps);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=_c+300-en(),10<h)){if(Bs(o,i,Tn,!Ps),oi(o,0,!0)!==0)break e;ns=i,o.timeoutHandle=B_(h_.bind(null,o,a,cn,Ec,bd,i,Tn,Kr,Ga,Ps,d,"Throttled",-0,0),h);break e}h_(o,a,cn,Ec,bd,i,Tn,Kr,Ga,Ps,d,null,-0,0)}}break}while(!0);Si(t)}function h_(t,i,a,o,h,d,v,b,C,z,Q,J,B,H){if(t.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},i_(i,d,J);var le=(d&62914560)===d?_c-en():(d&4194048)===d?o_-en():0;if(le=_A(J,le),le!==null){ns=d,t.cancelPendingCommit=le(v_.bind(null,t,i,d,a,o,h,v,b,C,Q,J,null,B,H)),Bs(t,d,v,!z);return}}v_(t,i,d,a,o,h,v,b,C)}function VT(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!yn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Bs(t,i,a,o){i&=~Ed,i&=~Kr,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var d=31-mt(h),v=1<<d;o[d]=-1,h&=~v}a!==0&&Tr(t,a,i)}function bc(){return(Qe&6)===0?(El(0),!1):!0}function Sd(){if(Ie!==null){if($e===0)var t=Ie.return;else t=Ie,Gi=Ur=null,Bf(t),Pa=null,nl=0,t=Ie;for(;t!==null;)qy(t.alternate,t),t=t.return;Ie=null}}function Ka(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,eA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ns=0,Sd(),nt=t,Ie=a=Fi(t.current,null),Oe=i,$e=0,bn=null,Ps=!1,Ha=qn(t,i),vd=!1,Ga=Tn=Ed=Kr=Us=ft=0,cn=_l=null,bd=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-mt(o),d=1<<h;i|=t[h],o&=~d}return ts=i,qu(),a}function f_(t,i){xe=null,P.H=cl,i===ja||i===$u?(i=Cg(),$e=3):i===Nf?(i=Cg(),$e=4):$e=i===id?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,Ie===null&&(ft=1,cc(t,On(i,t.current)))}function d_(){var t=vn.current;return t===null?!0:(Oe&4194048)===Oe?jn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===jn:!1}function m_(){var t=P.H;return P.H=cl,t===null?cl:t}function p_(){var t=P.A;return P.A=OT,t}function Tc(){ft=4,Ps||(Oe&4194048)!==Oe&&vn.current!==null||(Ha=!0),(Us&134217727)===0&&(Kr&134217727)===0||nt===null||Bs(nt,Oe,Tn,!1)}function xd(t,i,a){var o=Qe;Qe|=2;var h=m_(),d=p_();(nt!==t||Oe!==i)&&(Ec=null,Ka(t,i)),i=!1;var v=ft;e:do try{if($e!==0&&Ie!==null){var b=Ie,C=bn;switch($e){case 8:Sd(),v=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(i=!0);var z=$e;if($e=0,bn=null,Ya(t,b,C,z),a&&Ha){v=0;break e}break;default:z=$e,$e=0,bn=null,Ya(t,b,C,z)}}kT(),v=ft;break}catch(Q){f_(t,Q)}while(!0);return i&&t.shellSuspendCounter++,Gi=Ur=null,Qe=o,P.H=h,P.A=d,Ie===null&&(nt=null,Oe=0,qu()),v}function kT(){for(;Ie!==null;)g_(Ie)}function jT(t,i){var a=Qe;Qe|=2;var o=m_(),h=p_();nt!==t||Oe!==i?(Ec=null,vc=en()+500,Ka(t,i)):Ha=qn(t,i);e:do try{if($e!==0&&Ie!==null){i=Ie;var d=bn;t:switch($e){case 1:$e=0,bn=null,Ya(t,i,d,1);break;case 2:case 9:if(xg(d)){$e=0,bn=null,y_(i);break}i=function(){$e!==2&&$e!==9||nt!==t||($e=7),Si(t)},d.then(i,i);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:xg(d)?($e=0,bn=null,y_(i)):($e=0,bn=null,Ya(t,i,d,7));break;case 5:var v=null;switch(Ie.tag){case 26:v=Ie.memoizedState;case 5:case 27:var b=Ie;if(v?nv(v):b.stateNode.complete){$e=0,bn=null;var C=b.sibling;if(C!==null)Ie=C;else{var z=b.return;z!==null?(Ie=z,Ac(z)):Ie=null}break t}}$e=0,bn=null,Ya(t,i,d,5);break;case 6:$e=0,bn=null,Ya(t,i,d,6);break;case 8:Sd(),ft=6;break e;default:throw Error(r(462))}}PT();break}catch(Q){f_(t,Q)}while(!0);return Gi=Ur=null,P.H=o,P.A=h,Qe=a,Ie!==null?0:(nt=null,Oe=0,qu(),ft)}function PT(){for(;Ie!==null&&!tf();)g_(Ie)}function g_(t){var i=zy(t.alternate,t,ts);t.memoizedProps=t.pendingProps,i===null?Ac(t):Ie=i}function y_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Vy(a,i,i.pendingProps,i.type,void 0,Oe);break;case 11:i=Vy(a,i,i.pendingProps,i.type.render,i.ref,Oe);break;case 5:Bf(i);default:qy(a,i),i=Ie=pg(i,ts),i=zy(a,i,ts)}t.memoizedProps=t.pendingProps,i===null?Ac(t):Ie=i}function Ya(t,i,a,o){Gi=Ur=null,Bf(i),Pa=null,nl=0;var h=i.return;try{if(ST(t,h,i,a,Oe)){ft=1,cc(t,On(a,t.current)),Ie=null;return}}catch(d){if(h!==null)throw Ie=h,d;ft=1,cc(t,On(a,t.current)),Ie=null;return}i.flags&32768?(Ue||o===1?t=!0:Ha||(Oe&536870912)!==0?t=!1:(Ps=t=!0,(o===2||o===9||o===3||o===6)&&(o=vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),__(i,t)):Ac(i)}function Ac(t){var i=t;do{if((i.flags&32768)!==0){__(i,Ps);return}t=i.return;var a=CT(i.alternate,i,ts);if(a!==null){Ie=a;return}if(i=i.sibling,i!==null){Ie=i;return}Ie=i=t}while(i!==null);ft===0&&(ft=5)}function __(t,i){do{var a=NT(t.alternate,t);if(a!==null){a.flags&=32767,Ie=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ie=t;return}Ie=t=a}while(t!==null);ft=6,Ie=null}function v_(t,i,a,o,h,d,v,b,C){t.cancelPendingCommit=null;do wc();while(Vt!==0);if((Qe&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=mf,rf(t,a,d,v,b,C),t===nt&&(Ie=nt=null,Oe=0),Qa=i,zs=t,ns=a,Td=d,Ad=h,l_=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,BT(ys,function(){return w_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=P.T,P.T=null,h=Z.p,Z.p=2,v=Qe,Qe|=4;try{IT(t,i,a)}finally{Qe=v,Z.p=h,P.T=o}}Vt=1,E_(),b_(),T_()}}function E_(){if(Vt===1){Vt=0;var t=zs,i=Qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=P.T,P.T=null;var o=Z.p;Z.p=2;var h=Qe;Qe|=4;try{e_(i,t);var d=Ud,v=ag(t.containerInfo),b=d.focusedElem,C=d.selectionRange;if(v!==b&&b&&b.ownerDocument&&rg(b.ownerDocument.documentElement,b)){if(C!==null&&uf(b)){var z=C.start,Q=C.end;if(Q===void 0&&(Q=z),"selectionStart"in b)b.selectionStart=z,b.selectionEnd=Math.min(Q,b.value.length);else{var J=b.ownerDocument||document,B=J&&J.defaultView||window;if(B.getSelection){var H=B.getSelection(),le=b.textContent.length,ge=Math.min(C.start,le),tt=C.end===void 0?ge:Math.min(C.end,le);!H.extend&&ge>tt&&(v=tt,tt=ge,ge=v);var j=sg(b,ge),V=sg(b,tt);if(j&&V&&(H.rangeCount!==1||H.anchorNode!==j.node||H.anchorOffset!==j.offset||H.focusNode!==V.node||H.focusOffset!==V.offset)){var L=J.createRange();L.setStart(j.node,j.offset),H.removeAllRanges(),ge>tt?(H.addRange(L),H.extend(V.node,V.offset)):(L.setEnd(V.node,V.offset),H.addRange(L))}}}}for(J=[],H=b;H=H.parentNode;)H.nodeType===1&&J.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<J.length;b++){var X=J[b];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}jc=!!Pd,Ud=Pd=null}finally{Qe=h,Z.p=o,P.T=a}}t.current=i,Vt=2}}function b_(){if(Vt===2){Vt=0;var t=zs,i=Qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=P.T,P.T=null;var o=Z.p;Z.p=2;var h=Qe;Qe|=4;try{Xy(t,i.alternate,i)}finally{Qe=h,Z.p=o,P.T=a}}Vt=3}}function T_(){if(Vt===4||Vt===3){Vt=0,mu();var t=zs,i=Qa,a=ns,o=l_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vt=5:(Vt=0,Qa=zs=null,A_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ls=null),Li(a),i=i.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Bn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=P.T,h=Z.p,Z.p=2,P.T=null;try{for(var d=t.onRecoverableError,v=0;v<o.length;v++){var b=o[v];d(b.value,{componentStack:b.stack})}}finally{P.T=i,Z.p=h}}(ns&3)!==0&&wc(),Si(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===wd?vl++:(vl=0,wd=t):vl=0,El(0)}}function A_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,el(i)))}function wc(){return E_(),b_(),T_(),w_()}function w_(){if(Vt!==5)return!1;var t=zs,i=Td;Td=0;var a=Li(ns),o=P.T,h=Z.p;try{Z.p=32>a?32:a,P.T=null,a=Ad,Ad=null;var d=zs,v=ns;if(Vt=0,Qa=zs=null,ns=0,(Qe&6)!==0)throw Error(r(331));var b=Qe;if(Qe|=4,r_(d.current),n_(d,d.current,v,a),Qe=b,El(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Bn,d)}catch{}return!0}finally{Z.p=h,P.T=o,A_(t,i)}}function S_(t,i,a){i=On(a,i),i=nd(t.stateNode,i,2),t=Ms(t,i,2),t!==null&&(br(t,2),Si(t))}function Je(t,i,a){if(t.tag===3)S_(t,t,a);else for(;i!==null;){if(i.tag===3){S_(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ls===null||!Ls.has(o))){t=On(a,t),a=xy(2),o=Ms(i,a,2),o!==null&&(Ry(a,o,i,t),br(o,2),Si(o));break}}i=i.return}}function Rd(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new MT;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(vd=!0,h.add(a),t=UT.bind(null,t,i,a),i.then(t,t))}function UT(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(Oe&a)===a&&(ft===4||ft===3&&(Oe&62914560)===Oe&&300>en()-_c?(Qe&2)===0&&Ka(t,0):Ed|=a,Ga===Oe&&(Ga=0)),Si(t)}function x_(t,i){i===0&&(i=Eu()),t=kr(t,i),t!==null&&(br(t,i),Si(t))}function LT(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),x_(t,a)}function zT(t,i){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),x_(t,a)}function BT(t,i){return Mt(t,i)}var Sc=null,Xa=null,Cd=!1,xc=!1,Nd=!1,qs=0;function Si(t){t!==Xa&&t.next===null&&(Xa===null?Sc=Xa=t:Xa=Xa.next=t),xc=!0,Cd||(Cd=!0,FT())}function El(t,i){if(!Nd&&xc){Nd=!0;do for(var a=!1,o=Sc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var v=o.suspendedLanes,b=o.pingedLanes;d=(1<<31-mt(42|t)+1)-1,d&=h&~(v&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,I_(o,d))}else d=Oe,d=oi(o,o===nt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||qn(o,d)||(a=!0,I_(o,d));o=o.next}while(a);Nd=!1}}function qT(){R_()}function R_(){xc=Cd=!1;var t=0;qs!==0&&WT()&&(t=qs);for(var i=en(),a=null,o=Sc;o!==null;){var h=o.next,d=C_(o,i);d===0?(o.next=null,a===null?Sc=h:a.next=h,h===null&&(Xa=a)):(a=o,(t!==0||(d&3)!==0)&&(xc=!0)),o=h}Vt!==0&&Vt!==5||El(t),qs!==0&&(qs=0)}function C_(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-mt(d),b=1<<v,C=h[v];C===-1?((b&a)===0||(b&o)!==0)&&(h[v]=sf(b,i)):C<=i&&(t.expiredLanes|=b),d&=~b}if(i=nt,a=Oe,a=oi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&($e===2||$e===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&gs(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||qn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&gs(o),Li(a)){case 2:case 8:a=Io;break;case 32:a=ys;break;case 268435456:a=pu;break;default:a=ys}return o=N_.bind(null,t),a=Mt(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&gs(o),t.callbackPriority=2,t.callbackNode=null,2}function N_(t,i){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(wc()&&t.callbackNode!==a)return null;var o=Oe;return o=oi(t,t===nt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(c_(t,o,i),C_(t,en()),t.callbackNode!=null&&t.callbackNode===a?N_.bind(null,t):null)}function I_(t,i){if(wc())return null;c_(t,i,!0)}function FT(){tA(function(){(Qe&6)!==0?Mt(No,qT):R_()})}function Id(){if(qs===0){var t=Va;t===0&&(t=ri,ri<<=1,(ri&261888)===0&&(ri=256)),qs=t}return qs}function D_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:va(""+t)}function O_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function HT(t,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=D_((h[jt]||null).action),v=o.submitter;v&&(i=(i=v[jt]||null)?D_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var b=new _i("action","action",null,o,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(qs!==0){var C=v?O_(h,v):new FormData(h);$f(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(b.preventDefault(),C=v?O_(h,v):new FormData(h),$f(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Dd=0;Dd<df.length;Dd++){var Od=df[Dd],GT=Od.toLowerCase(),QT=Od[0].toUpperCase()+Od.slice(1);$n(GT,"on"+QT)}$n(ug,"onAnimationEnd"),$n(cg,"onAnimationIteration"),$n(hg,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(lT,"onTransitionRun"),$n(uT,"onTransitionStart"),$n(cT,"onTransitionCancel"),$n(fg,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function M_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var d=void 0;if(i)for(var v=o.length-1;0<=v;v--){var b=o[v],C=b.instance,z=b.currentTarget;if(b=b.listener,C!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=z;try{d(h)}catch(Q){Bu(Q)}h.currentTarget=null,d=C}else for(v=0;v<o.length;v++){if(b=o[v],C=b.instance,z=b.currentTarget,b=b.listener,C!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=z;try{d(h)}catch(Q){Bu(Q)}h.currentTarget=null,d=C}}}}function De(t,i){var a=i[ma];a===void 0&&(a=i[ma]=new Set);var o=t+"__bubble";a.has(o)||(V_(i,t,2,!1),a.add(o))}function Md(t,i,a){var o=0;i&&(o|=4),V_(a,t,o,i)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function Vd(t){if(!t[Rc]){t[Rc]=!0,Mo.forEach(function(a){a!=="selectionchange"&&(KT.has(a)||Md(a,!1,t),Md(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Rc]||(i[Rc]=!0,Md("selectionchange",!1,i))}}function V_(t,i,a,o){switch(uv(i)){case 2:var h=bA;break;case 8:h=TA;break;default:h=Xd}a=h.bind(null,i,a,t),h=void 0,!Rr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function kd(t,i,a,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var b=o.stateNode.containerInfo;if(b===h)break;if(v===4)for(v=o.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;b!==null;){if(v=hi(b),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){o=d=v;continue e}b=b.parentNode}}o=o.return}As(function(){var z=d,Q=Cn(a),J=[];e:{var B=dg.get(t);if(B!==void 0){var H=_i,le=t;switch(t){case"keypress":if(Nr(a)===0)break e;case"keydown":case"keyup":H=Uu;break;case"focusin":le="focus",H=Dr;break;case"focusout":le="blur",H=Dr;break;case"beforeblur":case"afterblur":H=Dr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case ug:case cg:case hg:H=Du;break;case fg:H=A;break;case"scroll":case"scrollend":H=Go;break;case"wheel":H=F;break;case"copy":case"cut":case"paste":H=Ou;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=qi;break;case"toggle":case"beforetoggle":H=Se}var ge=(i&4)!==0,tt=!ge&&(t==="scroll"||t==="scrollend"),j=ge?B!==null?B+"Capture":null:B;ge=[];for(var V=z,L;V!==null;){var X=V;if(L=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||L===null||j===null||(X=Qn(V,j),X!=null&&ge.push(Tl(V,X,L))),tt)break;V=V.return}0<ge.length&&(B=new H(B,le,null,a,Q),J.push({event:B,listeners:ge}))}}if((i&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==qo&&(le=a.relatedTarget||a.fromElement)&&(hi(le)||le[ui]))break e;if((H||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,H?(le=a.relatedTarget||a.toElement,H=z,le=le?hi(le):null,le!==null&&(tt=u(le),ge=le.tag,le!==tt||ge!==5&&ge!==27&&ge!==6)&&(le=null)):(H=null,le=z),H!==le)){if(ge=Qo,X="onMouseLeave",j="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ge=qi,X="onPointerLeave",j="onPointerEnter",V="pointer"),tt=H==null?B:pn(H),L=le==null?B:pn(le),B=new ge(X,V+"leave",H,a,Q),B.target=tt,B.relatedTarget=L,X=null,hi(Q)===z&&(ge=new ge(j,V+"enter",le,a,Q),ge.target=L,ge.relatedTarget=tt,X=ge),tt=X,H&&le)t:{for(ge=YT,j=H,V=le,L=0,X=j;X;X=ge(X))L++;X=0;for(var de=V;de;de=ge(de))X++;for(;0<L-X;)j=ge(j),L--;for(;0<X-L;)V=ge(V),X--;for(;L--;){if(j===V||V!==null&&j===V.alternate){ge=j;break t}j=ge(j),V=ge(V)}ge=null}else ge=null;H!==null&&k_(J,B,H,ge,!1),le!==null&&tt!==null&&k_(J,tt,le,ge,!0)}}e:{if(B=z?pn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Fe=Zp;else if($p(B))if(Wp)Fe=rT;else{Fe=iT;var ce=nT}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&_a(z.elementType)&&(Fe=Zp):Fe=sT;if(Fe&&(Fe=Fe(t,z))){Jp(J,Fe,a,Q);break e}ce&&ce(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Lo(B,"number",B.value)}switch(ce=z?pn(z):window,t){case"focusin":($p(ce)||ce.contentEditable==="true")&&(xa=ce,cf=z,Jo=null);break;case"focusout":Jo=cf=xa=null;break;case"mousedown":hf=!0;break;case"contextmenu":case"mouseup":case"dragend":hf=!1,og(J,a,Q);break;case"selectionchange":if(oT)break;case"keydown":case"keyup":og(J,a,Q)}var Ce;if(Ge)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Sa?Or(t,a)&&(Me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(bi&&a.locale!=="ko"&&(Sa||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Sa&&(Ce=Ho()):(yi=Q,Fo="value"in yi?yi.value:yi.textContent,Sa=!0)),ce=Cc(z,Me),0<ce.length&&(Me=new Ei(Me,t,null,a,Q),J.push({event:Me,listeners:ce}),Ce?Me.data=Ce:(Ce=wa(a),Ce!==null&&(Me.data=Ce)))),(Ce=In?Zb(t,a):Wb(t,a))&&(Me=Cc(z,"onBeforeInput"),0<Me.length&&(ce=new Ei("onBeforeInput","beforeinput",null,a,Q),J.push({event:ce,listeners:Me}),ce.data=Ce)),HT(J,t,z,a,Q)}M_(J,i)})}function Tl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Cc(t,i){for(var a=i+"Capture",o=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Qn(t,a),h!=null&&o.unshift(Tl(t,h,d)),h=Qn(t,i),h!=null&&o.push(Tl(t,h,d))),t.tag===3)return o;t=t.return}return[]}function YT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function k_(t,i,a,o,h){for(var d=i._reactName,v=[];a!==null&&a!==o;){var b=a,C=b.alternate,z=b.stateNode;if(b=b.tag,C!==null&&C===o)break;b!==5&&b!==26&&b!==27||z===null||(C=z,h?(z=Qn(a,d),z!=null&&v.unshift(Tl(a,z,C))):h||(z=Qn(a,d),z!=null&&v.push(Tl(a,z,C)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var XT=/\r\n?/g,$T=/\u0000|\uFFFD/g;function j_(t){return(typeof t=="string"?t:""+t).replace(XT,`
`).replace($T,"")}function P_(t,i){return i=j_(i),j_(t)===i}function et(t,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||an(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&an(t,""+o);break;case"className":gn(t,"class",o);break;case"tabIndex":gn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,a,o);break;case"style":Bo(t,o,d);break;case"data":if(i!=="object"){gn(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=va(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&et(t,i,"name",h.name,h,null),et(t,i,"formEncType",h.formEncType,h,null),et(t,i,"formMethod",h.formMethod,h,null),et(t,i,"formTarget",h.formTarget,h,null)):(et(t,i,"encType",h.encType,h,null),et(t,i,"method",h.method,h,null),et(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=va(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Gn);break;case"onScroll":o!=null&&De("scroll",t);break;case"onScrollEnd":o!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=va(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":De("beforetoggle",t),De("toggle",t),ga(t,"popover",o);break;case"xlinkActuate":wt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":wt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":wt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":wt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":wt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":wt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":wt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":wt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":wt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ga(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Cu.get(a)||a,ga(t,a,o))}}function jd(t,i,a,o,h,d){switch(a){case"style":Bo(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?an(t,o):(typeof o=="number"||typeof o=="bigint")&&an(t,""+o);break;case"onScroll":o!=null&&De("scroll",t);break;case"onScrollEnd":o!=null&&De("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[jt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):ga(t,a,o)}}}function Gt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:et(t,i,d,v,a,null)}}h&&et(t,i,"srcSet",a.srcSet,a,null),o&&et(t,i,"src",a.src,a,null);return;case"input":De("invalid",t);var b=d=v=h=null,C=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var Q=a[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":v=Q;break;case"checked":C=Q;break;case"defaultChecked":z=Q;break;case"value":d=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,i));break;default:et(t,i,o,Q,a,null)}}Su(t,d,b,C,z,v,h,!1);return;case"select":De("invalid",t),o=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":v=b;break;case"multiple":o=b;default:et(t,i,h,b,a,null)}i=d,a=v,t.multiple=!!o,i!=null?vs(t,!!o,i,!1):a!=null&&vs(t,!!o,a,!0);return;case"textarea":De("invalid",t),d=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":o=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:et(t,i,v,b,a,null)}Es(t,o,h,d);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:et(t,i,C,o,a,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(o=0;o<bl.length;o++)De(bl[o],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:et(t,i,z,o,a,null)}return;default:if(_a(i)){for(Q in a)a.hasOwnProperty(Q)&&(o=a[Q],o!==void 0&&jd(t,i,Q,o,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(o=a[b],o!=null&&et(t,i,b,o,a,null))}function JT(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,b=null,C=null,z=null,Q=null;for(H in a){var J=a[H];if(a.hasOwnProperty(H)&&J!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=J;default:o.hasOwnProperty(H)||et(t,i,H,null,o,J)}}for(var B in o){var H=o[B];if(J=a[B],o.hasOwnProperty(B)&&(H!=null||J!=null))switch(B){case"type":d=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":Q=H;break;case"value":v=H;break;case"defaultValue":b=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:H!==J&&et(t,i,B,H,o,J)}}ya(t,v,b,C,z,Q,d,h);return;case"select":H=v=b=B=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(d)||et(t,i,d,null,o,C)}for(h in o)if(d=o[h],C=a[h],o.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":B=d;break;case"defaultValue":b=d;break;case"multiple":v=d;default:d!==C&&et(t,i,h,d,o,C)}i=b,a=v,o=H,B!=null?vs(t,!!a,B,!1):!!o!=!!a&&(i!=null?vs(t,!!a,i,!0):vs(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:et(t,i,b,null,o,h)}for(v in o)if(h=o[v],d=a[v],o.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&et(t,i,v,h,o,d)}xu(t,B,H);return;case"option":for(var le in a)if(B=a[le],a.hasOwnProperty(le)&&B!=null&&!o.hasOwnProperty(le))switch(le){case"selected":t.selected=!1;break;default:et(t,i,le,null,o,B)}for(C in o)if(B=o[C],H=a[C],o.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null))switch(C){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:et(t,i,C,B,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)B=a[ge],a.hasOwnProperty(ge)&&B!=null&&!o.hasOwnProperty(ge)&&et(t,i,ge,null,o,B);for(z in o)if(B=o[z],H=a[z],o.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,i));break;default:et(t,i,z,B,o,H)}return;default:if(_a(i)){for(var tt in a)B=a[tt],a.hasOwnProperty(tt)&&B!==void 0&&!o.hasOwnProperty(tt)&&jd(t,i,tt,void 0,o,B);for(Q in o)B=o[Q],H=a[Q],!o.hasOwnProperty(Q)||B===H||B===void 0&&H===void 0||jd(t,i,Q,B,o,H);return}}for(var j in a)B=a[j],a.hasOwnProperty(j)&&B!=null&&!o.hasOwnProperty(j)&&et(t,i,j,null,o,B);for(J in o)B=o[J],H=a[J],!o.hasOwnProperty(J)||B===H||B==null&&H==null||et(t,i,J,B,o,H)}function U_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ZT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],d=h.transferSize,v=h.initiatorType,b=h.duration;if(d&&b&&U_(v)){for(v=0,b=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],z=C.startTime;if(z>b)break;var Q=C.transferSize,J=C.initiatorType;Q&&U_(J)&&(C=C.responseEnd,v+=Q*(C<b?1:(b-z)/(C-z)))}if(--o,i+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Pd=null,Ud=null;function Nc(t){return t.nodeType===9?t:t.ownerDocument}function L_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function z_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Ld(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var zd=null;function WT(){var t=window.event;return t&&t.type==="popstate"?t===zd?!1:(zd=t,!0):(zd=null,!1)}var B_=typeof setTimeout=="function"?setTimeout:void 0,eA=typeof clearTimeout=="function"?clearTimeout:void 0,q_=typeof Promise=="function"?Promise:void 0,tA=typeof queueMicrotask=="function"?queueMicrotask:typeof q_<"u"?function(t){return q_.resolve(null).then(t).catch(nA)}:B_;function nA(t){setTimeout(function(){throw t})}function Fs(t){return t==="head"}function F_(t,i){var a=i,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Wa(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Al(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Al(a);for(var d=a.firstChild;d;){var v=d.nextSibling,b=d.nodeName;d[ci]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Al(t.ownerDocument.body);a=h}while(a);Wa(i)}function H_(t,i){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Bd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Bd(a),pa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function iA(t,i,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ci])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function sA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Pn(t.nextSibling),t===null))return null;return t}function G_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Pn(t.nextSibling),t===null))return null;return t}function qd(t){return t.data==="$?"||t.data==="$~"}function Fd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function rA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Pn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Hd=null;function Q_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Pn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function K_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Y_(t,i,a){switch(i=Nc(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Al(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);pa(t)}var Un=new Map,X_=new Set;function Ic(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var is=Z.d;Z.d={f:aA,r:oA,D:lA,C:uA,L:cA,m:hA,X:dA,S:fA,M:mA};function aA(){var t=is.f(),i=bc();return t||i}function oA(t){var i=Rn(t);i!==null&&i.tag===5&&i.type==="form"?fy(i):is.r(t)}var $a=typeof document>"u"?null:document;function $_(t,i,a){var o=$a;if(o&&typeof i=="string"&&i){var h=rn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),X_.has(h)||(X_.add(h),t={rel:t,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Gt(i,"link",t),At(i),o.head.appendChild(i)))}}function lA(t){is.D(t),$_("dns-prefetch",t,null)}function uA(t,i){is.C(t,i),$_("preconnect",t,i)}function cA(t,i,a){is.L(t,i,a);var o=$a;if(o&&t&&i){var h='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(t)+'"]';var d=h;switch(i){case"style":d=Ja(t);break;case"script":d=Za(t)}Un.has(d)||(t=w({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Un.set(d,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(wl(d))||i==="script"&&o.querySelector(Sl(d))||(i=o.createElement("link"),Gt(i,"link",t),At(i),o.head.appendChild(i)))}}function hA(t,i){is.m(t,i);var a=$a;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(t)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Za(t)}if(!Un.has(d)&&(t=w({rel:"modulepreload",href:t},i),Un.set(d,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Sl(d)))return}o=a.createElement("link"),Gt(o,"link",t),At(o),a.head.appendChild(o)}}}function fA(t,i,a){is.S(t,i,a);var o=$a;if(o&&t){var h=fi(o).hoistableStyles,d=Ja(t);i=i||"default";var v=h.get(d);if(!v){var b={loading:0,preload:null};if(v=o.querySelector(wl(d)))b.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Un.get(d))&&Gd(t,a);var C=v=o.createElement("link");At(C),Gt(C,"link",t),C._p=new Promise(function(z,Q){C.onload=z,C.onerror=Q}),C.addEventListener("load",function(){b.loading|=1}),C.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Dc(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:b},h.set(d,v)}}}function dA(t,i){is.X(t,i);var a=$a;if(a&&t){var o=fi(a).hoistableScripts,h=Za(t),d=o.get(h);d||(d=a.querySelector(Sl(h)),d||(t=w({src:t,async:!0},i),(i=Un.get(h))&&Qd(t,i),d=a.createElement("script"),At(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function mA(t,i){is.M(t,i);var a=$a;if(a&&t){var o=fi(a).hoistableScripts,h=Za(t),d=o.get(h);d||(d=a.querySelector(Sl(h)),d||(t=w({src:t,async:!0,type:"module"},i),(i=Un.get(h))&&Qd(t,i),d=a.createElement("script"),At(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function J_(t,i,a,o){var h=(h=Re.current)?Ic(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ja(a.href),a=fi(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ja(a.href);var d=fi(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(wl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Un.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(t,a),d||pA(h,t,a,v.state))),i&&o===null)throw Error(r(528,""));return v}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Za(a),a=fi(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ja(t){return'href="'+rn(t)+'"'}function wl(t){return'link[rel="stylesheet"]['+t+"]"}function Z_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function pA(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Gt(i,"link",a),At(i),t.head.appendChild(i))}function Za(t){return'[src="'+rn(t)+'"]'}function Sl(t){return"script[async]"+t}function W_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+rn(a.href)+'"]');if(o)return i.instance=o,At(o),o;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),At(o),Gt(o,"style",h),Dc(o,a.precedence,t),i.instance=o;case"stylesheet":h=Ja(a.href);var d=t.querySelector(wl(h));if(d)return i.state.loading|=4,i.instance=d,At(d),d;o=Z_(a),(h=Un.get(h))&&Gd(o,h),d=(t.ownerDocument||t).createElement("link"),At(d);var v=d;return v._p=new Promise(function(b,C){v.onload=b,v.onerror=C}),Gt(d,"link",o),i.state.loading|=4,Dc(d,a.precedence,t),i.instance=d;case"script":return d=Za(a.src),(h=t.querySelector(Sl(d)))?(i.instance=h,At(h),h):(o=a,(h=Un.get(d))&&(o=w({},a),Qd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),At(h),Gt(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Dc(o,a.precedence,t));return i.instance}function Dc(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,v=0;v<o.length;v++){var b=o[v];if(b.dataset.precedence===i)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Gd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Qd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Oc=null;function ev(t,i,a){if(Oc===null){var o=new Map,h=Oc=new Map;h.set(a,o)}else h=Oc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ci]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var b=o.get(v);b?b.push(d):o.set(v,[d])}}return o}function tv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function gA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function nv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function yA(t,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ja(o.href),d=i.querySelector(wl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Mc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,At(d);return}d=i.ownerDocument||i,o=Z_(o),(h=Un.get(h))&&Gd(o,h),d=d.createElement("link"),At(d);var v=d;v._p=new Promise(function(b,C){v.onload=b,v.onerror=C}),Gt(d,"link",o),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Mc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Kd=0;function _A(t,i){return t.stylesheets&&t.count===0&&kc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&kc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Kd===0&&(Kd=62500*ZT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&kc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Kd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vc=null;function kc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vc=new Map,i.forEach(vA,t),Vc=null,Mc.call(t))}function vA(t,i){if(!(i.state.loading&4)){var a=Vc.get(t);if(a)var o=a.get(null);else{a=new Map,Vc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||o,d===o&&a.set(null,h),a.set(v,h),this.count++,o=Mc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var xl={$$typeof:ue,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function EA(t,i,a,o,h,d,v,b,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function iv(t,i,a,o,h,d,v,b,C,z,Q,J){return t=new EA(t,i,a,v,C,z,Q,J,b),i=1,d===!0&&(i|=24),d=_n(3,null,null,i),t.current=d,d.stateNode=t,i=xf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},If(d),t}function sv(t){return t?(t=Na,t):Na}function rv(t,i,a,o,h,d){h=sv(h),o.context===null?o.context=h:o.pendingContext=h,o=Os(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=Ms(t,o,i),a!==null&&(hn(a,t,i),sl(a,t,i))}function av(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Yd(t,i){av(t,i),(t=t.alternate)&&av(t,i)}function ov(t){if(t.tag===13||t.tag===31){var i=kr(t,67108864);i!==null&&hn(i,t,67108864),Yd(t,67108864)}}function lv(t){if(t.tag===13||t.tag===31){var i=An();i=Ar(i);var a=kr(t,i);a!==null&&hn(a,t,i),Yd(t,i)}}var jc=!0;function bA(t,i,a,o){var h=P.T;P.T=null;var d=Z.p;try{Z.p=2,Xd(t,i,a,o)}finally{Z.p=d,P.T=h}}function TA(t,i,a,o){var h=P.T;P.T=null;var d=Z.p;try{Z.p=8,Xd(t,i,a,o)}finally{Z.p=d,P.T=h}}function Xd(t,i,a,o){if(jc){var h=$d(o);if(h===null)kd(t,i,o,Pc,a),cv(t,o);else if(wA(h,t,i,a,o))o.stopPropagation();else if(cv(t,o),i&4&&-1<AA.indexOf(t)){for(;h!==null;){var d=Rn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=ai(d.pendingLanes);if(v!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var C=1<<31-mt(v);b.entanglements[1]|=C,v&=~C}Si(d),(Qe&6)===0&&(vc=en()+500,El(0))}}break;case 31:case 13:b=kr(d,2),b!==null&&hn(b,d,2),bc(),Yd(d,2)}if(d=$d(o),d===null&&kd(t,i,o,Pc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else kd(t,i,o,null,a)}}function $d(t){return t=Cn(t),Jd(t)}var Pc=null;function Jd(t){if(Pc=null,t=hi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=g(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Pc=t,null}function uv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vr()){case No:return 2;case Io:return 8;case ys:case nf:return 32;case pu:return 268435456;default:return 32}default:return 32}}var Zd=!1,Hs=null,Gs=null,Qs=null,Rl=new Map,Cl=new Map,Ks=[],AA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cv(t,i){switch(t){case"focusin":case"focusout":Hs=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":Rl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(i.pointerId)}}function Nl(t,i,a,o,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Rn(i),i!==null&&ov(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function wA(t,i,a,o,h){switch(i){case"focusin":return Hs=Nl(Hs,t,i,a,o,h),!0;case"dragenter":return Gs=Nl(Gs,t,i,a,o,h),!0;case"mouseover":return Qs=Nl(Qs,t,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return Rl.set(d,Nl(Rl.get(d)||null,t,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,Cl.set(d,Nl(Cl.get(d)||null,t,i,a,o,h)),!0}return!1}function hv(t){var i=hi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){lv(a)});return}}else if(i===31){if(i=g(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){lv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=$d(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);qo=o,a.target.dispatchEvent(o),qo=null}else return i=Rn(a),i!==null&&ov(i),t.blockedOn=a,!1;i.shift()}return!0}function fv(t,i,a){Uc(t)&&a.delete(i)}function SA(){Zd=!1,Hs!==null&&Uc(Hs)&&(Hs=null),Gs!==null&&Uc(Gs)&&(Gs=null),Qs!==null&&Uc(Qs)&&(Qs=null),Rl.forEach(fv),Cl.forEach(fv)}function Lc(t,i){t.blockedOn===i&&(t.blockedOn=null,Zd||(Zd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,SA)))}var zc=null;function dv(t){zc!==t&&(zc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){zc===t&&(zc=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(Jd(o||a)===null)continue;break}var d=Rn(a);d!==null&&(t.splice(i,3),i-=3,$f(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Wa(t){function i(C){return Lc(C,t)}Hs!==null&&Lc(Hs,t),Gs!==null&&Lc(Gs,t),Qs!==null&&Lc(Qs,t),Rl.forEach(i),Cl.forEach(i);for(var a=0;a<Ks.length;a++){var o=Ks[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Ks.length&&(a=Ks[0],a.blockedOn===null);)hv(a),a.blockedOn===null&&Ks.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],v=h[jt]||null;if(typeof d=="function")v||dv(a);else if(v){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[jt]||null)b=v.formAction;else if(Jd(h)!==null)continue}else b=v.action;typeof b=="function"?a[o+1]=b:(a.splice(o,3),o-=3),dv(a)}}}function mv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Wd(t){this._internalRoot=t}Bc.prototype.render=Wd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=An();rv(a,o,t,i,null,null)},Bc.prototype.unmount=Wd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;rv(t.current,2,null,t,null,null),bc(),i[ui]=null}};function Bc(t){this._internalRoot=t}Bc.prototype.unstable_scheduleHydration=function(t){if(t){var i=bu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Ks.length&&i!==0&&i<Ks[a].priority;a++);Ks.splice(a,0,t),a===0&&hv(t)}};var pv=e.version;if(pv!=="19.2.0")throw Error(r(527,pv,"19.2.0"));Z.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var xA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qc.isDisabled&&qc.supportsFiber)try{Bn=qc.inject(xA),zt=qc}catch{}}return Dl.createRoot=function(t,i){if(!l(t))throw Error(r(299));var a=!1,o="",h=Ty,d=Ay,v=wy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=iv(t,1,!1,null,null,a,o,null,h,d,v,mv),t[ui]=i.current,Vd(t),new Wd(i)},Dl.hydrateRoot=function(t,i,a){if(!l(t))throw Error(r(299));var o=!1,h="",d=Ty,v=Ay,b=wy,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=iv(t,1,!0,i,a??null,o,h,C,d,v,b,mv),i.context=sv(null),a=i.current,o=An(),o=Ar(o),h=Os(o),h.callback=null,Ms(a,h,o),a=o,i.current.lanes=a,br(i,a),Si(i),t[ui]=i.current,Vd(t),new Bc(i)},Dl.version="19.2.0",Dl}var Sv;function PA(){if(Sv)return nm.exports;Sv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),nm.exports=jA(),nm.exports}var UA=PA();const LA=fE(UA);const zA=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BA=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),xv=s=>{const e=BA(s);return e.charAt(0).toUpperCase()+e.slice(1)},dE=(...s)=>s.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),qA=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var FA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const HA=pe.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:u,iconNode:f,...g},p)=>pe.createElement("svg",{ref:p,...FA,width:e,height:e,stroke:s,strokeWidth:r?Number(n)*24/Number(e):n,className:dE("lucide",l),...!u&&!qA(g)&&{"aria-hidden":"true"},...g},[...f.map(([y,T])=>pe.createElement(y,T)),...Array.isArray(u)?u:[u]]));const Ye=(s,e)=>{const n=pe.forwardRef(({className:r,...l},u)=>pe.createElement(HA,{ref:u,iconNode:e,className:dE(`lucide-${zA(xv(s))}`,`lucide-${s}`,r),...l}));return n.displayName=xv(s),n};const GA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],so=Ye("arrow-right",GA);const QA=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],KA=Ye("badge-check",QA);const YA=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],XA=Ye("bot",YA);const $A=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],JA=Ye("briefcase",$A);const ZA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],WA=Ye("calendar",ZA);const ew=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],tw=Ye("check",ew);const nw=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],mE=Ye("chevron-down",nw);const iw=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],pE=Ye("chevron-left",iw);const sw=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],rw=Ye("chevron-right",sw);const aw=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ow=Ye("circle-check-big",aw);const lw=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],uw=Ye("coffee",lw);const cw=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],gE=Ye("download",cw);const hw=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],fw=Ye("facebook",hw);const dw=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],mw=Ye("github",dw);const pw=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],yE=Ye("linkedin",pw);const gw=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],yw=Ye("lock",gw);const _w=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],vw=Ye("menu",_w);const Ew=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],bw=Ye("message-square",Ew);const Tw=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Aw=Ye("monitor",Tw);const ww=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Sw=Ye("play",ww);const xw=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Rw=Ye("send",xw);const Cw=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Nw=Ye("star",Cw);const Iw=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],Dw=Ye("terminal",Iw);const Ow=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],_E=Ye("trophy",Ow);const Mw=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],vE=Ye("twitter",Mw);const Vw=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Km=Ye("user",Vw);const kw=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],jw=Ye("users",kw);const Pw=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Uw=Ye("video",Pw);const Lw=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ah=Ye("x",Lw);const zw=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],oh=Ye("zap",zw),Bw=()=>{};var Rv={};const EE=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},qw=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[n++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[n++],f=s[n++],g=s[n++],p=((l&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const u=s[n++],f=s[n++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},bE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],f=l+1<s.length,g=f?s[l+1]:0,p=l+2<s.length,y=p?s[l+2]:0,T=u>>2,w=(u&3)<<4|g>>4;let N=(g&15)<<2|y>>6,q=y&63;p||(q=64,f||(N=64)),r.push(n[T],n[w],n[N],n[q])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(EE(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):qw(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=n[s.charAt(l++)],g=l<s.length?n[s.charAt(l)]:0;++l;const y=l<s.length?n[s.charAt(l)]:64;++l;const w=l<s.length?n[s.charAt(l)]:64;if(++l,u==null||g==null||y==null||w==null)throw new Fw;const N=u<<2|g>>4;if(r.push(N),y!==64){const q=g<<4&240|y>>2;if(r.push(q),w!==64){const G=y<<6&192|w;r.push(G)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Fw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hw=function(s){const e=EE(s);return bE.encodeByteArray(e,!0)},lh=function(s){return Hw(s).replace(/\./g,"")},TE=function(s){try{return bE.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Gw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Qw=()=>Gw().__FIREBASE_DEFAULTS__,Kw=()=>{if(typeof process>"u"||typeof Rv>"u")return;const s=Rv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Yw=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&TE(s[1]);return e&&JSON.parse(e)},Dh=()=>{try{return Bw()||Qw()||Kw()||Yw()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},AE=s=>Dh()?.emulatorHosts?.[s],wE=s=>{const e=AE(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},SE=()=>Dh()?.config,xE=s=>Dh()?.[`_${s}`];class Xw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function aa(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ym(s){return(await fetch(s,{credentials:"include"})).ok}function RE(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[lh(JSON.stringify(n)),lh(JSON.stringify(f)),""].join(".")}const zl={};function $w(){const s={prod:[],emulator:[]};for(const e of Object.keys(zl))zl[e]?s.emulator.push(e):s.prod.push(e);return s}function Jw(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let Cv=!1;function Xm(s,e){if(typeof window>"u"||typeof document>"u"||!aa(window.location.host)||zl[s]===e||zl[s]||Cv)return;zl[s]=e;function n(N){return`__firebase__banner__${N}`}const r="__firebase__banner",u=$w().prod.length>0;function f(){const N=document.getElementById(r);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function p(N,q){N.setAttribute("width","24"),N.setAttribute("id",q),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function y(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{Cv=!0,f()},N}function T(N,q){N.setAttribute("id",q),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function w(){const N=Jw(r),q=n("text"),G=document.getElementById(q)||document.createElement("span"),ee=n("learnmore"),K=document.getElementById(ee)||document.createElement("a"),re=n("preprendIcon"),he=document.getElementById(re)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const ue=N.element;g(ue),T(K,ee);const fe=y();p(he,re),ue.append(he,G,K,fe),document.body.appendChild(ue)}u?(G.innerText="Preview backend disconnected.",he.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(he.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function Ww(){const s=Dh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function nS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iS(){const s=Wt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function sS(){return!Ww()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rS(){try{return typeof indexedDB=="object"}catch{return!1}}function aS(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}const oS="FirebaseError";class ji extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=oS,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nu.prototype.create)}}class nu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?lS(u,r):"Error",g=`${this.serviceName}: ${f} (${l}).`;return new ji(l,g,r)}}function lS(s,e){return s.replace(uS,(n,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const uS=/\{\$([^}]+)}/g;function cS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function rr(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const l of n){if(!r.includes(l))return!1;const u=s[l],f=e[l];if(Nv(u)&&Nv(f)){if(!rr(u,f))return!1}else if(u!==f)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function Nv(s){return s!==null&&typeof s=="object"}function iu(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ol(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Ml(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function hS(s,e){const n=new fS(s,e);return n.subscribe.bind(n)}class fS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let l;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");dS(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:r},l.next===void 0&&(l.next=am),l.error===void 0&&(l.error=am),l.complete===void 0&&(l.complete=am);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dS(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function am(){}function vt(s){return s&&s._delegate?s._delegate:s}class ar{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xr="[DEFAULT]";class mS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Xw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gS(e))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=Xr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xr){return this.instances.has(e)}getOptions(e=Xr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);r===g&&f.resolve(l)}return l}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&e(u,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xr){return this.component?this.component.multipleInstances?e:Xr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pS(s){return s===Xr?void 0:s}function gS(s){return s.instantiationMode==="EAGER"}class yS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ve||(Ve={}));const _S={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},vS=Ve.INFO,ES={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},bS=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=ES[e];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $m{constructor(e){this.name=e,this._logLevel=vS,this._logHandler=bS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_S[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const TS=(s,e)=>e.some(n=>s instanceof n);let Iv,Dv;function AS(){return Iv||(Iv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wS(){return Dv||(Dv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CE=new WeakMap,vm=new WeakMap,NE=new WeakMap,om=new WeakMap,Jm=new WeakMap;function SS(s){const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(tr(s.result)),l()},f=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&CE.set(n,s)}).catch(()=>{}),Jm.set(e,s),e}function xS(s){if(vm.has(s))return;const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});vm.set(s,e)}let Em={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return vm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||NE.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tr(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function RS(s){Em=s(Em)}function CS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(lm(this),e,...n);return NE.set(r,e.sort?e.sort():[e]),tr(r)}:wS().includes(s)?function(...e){return s.apply(lm(this),e),tr(CE.get(this))}:function(...e){return tr(s.apply(lm(this),e))}}function NS(s){return typeof s=="function"?CS(s):(s instanceof IDBTransaction&&xS(s),TS(s,AS())?new Proxy(s,Em):s)}function tr(s){if(s instanceof IDBRequest)return SS(s);if(om.has(s))return om.get(s);const e=NS(s);return e!==s&&(om.set(s,e),Jm.set(e,s)),e}const lm=s=>Jm.get(s);function IS(s,e,{blocked:n,upgrade:r,blocking:l,terminated:u}={}){const f=indexedDB.open(s,e),g=tr(f);return r&&f.addEventListener("upgradeneeded",p=>{r(tr(f.result),p.oldVersion,p.newVersion,tr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const DS=["get","getKey","getAll","getAllKeys","count"],OS=["put","add","delete","clear"],um=new Map;function Ov(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(um.get(e))return um.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,l=OS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||DS.includes(n)))return;const u=async function(f,...g){const p=this.transaction(f,l?"readwrite":"readonly");let y=p.store;return r&&(y=y.index(g.shift())),(await Promise.all([y[n](...g),l&&p.done]))[0]};return um.set(e,u),u}RS(s=>({...s,get:(e,n,r)=>Ov(e,n)||s.get(e,n,r),has:(e,n)=>!!Ov(e,n)||s.has(e,n)}));class MS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function VS(s){return s.getComponent()?.type==="VERSION"}const bm="@firebase/app",Mv="0.14.6";const cs=new $m("@firebase/app"),kS="@firebase/app-compat",jS="@firebase/analytics-compat",PS="@firebase/analytics",US="@firebase/app-check-compat",LS="@firebase/app-check",zS="@firebase/auth",BS="@firebase/auth-compat",qS="@firebase/database",FS="@firebase/data-connect",HS="@firebase/database-compat",GS="@firebase/functions",QS="@firebase/functions-compat",KS="@firebase/installations",YS="@firebase/installations-compat",XS="@firebase/messaging",$S="@firebase/messaging-compat",JS="@firebase/performance",ZS="@firebase/performance-compat",WS="@firebase/remote-config",ex="@firebase/remote-config-compat",tx="@firebase/storage",nx="@firebase/storage-compat",ix="@firebase/firestore",sx="@firebase/ai",rx="@firebase/firestore-compat",ax="firebase",ox="12.6.0";const Tm="[DEFAULT]",lx={[bm]:"fire-core",[kS]:"fire-core-compat",[PS]:"fire-analytics",[jS]:"fire-analytics-compat",[LS]:"fire-app-check",[US]:"fire-app-check-compat",[zS]:"fire-auth",[BS]:"fire-auth-compat",[qS]:"fire-rtdb",[FS]:"fire-data-connect",[HS]:"fire-rtdb-compat",[GS]:"fire-fn",[QS]:"fire-fn-compat",[KS]:"fire-iid",[YS]:"fire-iid-compat",[XS]:"fire-fcm",[$S]:"fire-fcm-compat",[JS]:"fire-perf",[ZS]:"fire-perf-compat",[WS]:"fire-rc",[ex]:"fire-rc-compat",[tx]:"fire-gcs",[nx]:"fire-gcs-compat",[ix]:"fire-fst",[rx]:"fire-fst-compat",[sx]:"fire-vertex","fire-js":"fire-js",[ax]:"fire-js-all"};const uh=new Map,ux=new Map,Am=new Map;function Vv(s,e){try{s.container.addComponent(e)}catch(n){cs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function ta(s){const e=s.name;if(Am.has(e))return cs.debug(`There were multiple attempts to register component ${e}.`),!1;Am.set(e,s);for(const n of uh.values())Vv(n,s);for(const n of ux.values())Vv(n,s);return!0}function Oh(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function dn(s){return s==null?!1:s.settings!==void 0}const cx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},nr=new nu("app","Firebase",cx);class hx{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ar("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nr.create("app-deleted",{appName:this._name})}}const oa=ox;function IE(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:Tm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw nr.create("bad-app-name",{appName:String(l)});if(n||(n=SE()),!n)throw nr.create("no-options");const u=uh.get(l);if(u){if(rr(n,u.options)&&rr(r,u.config))return u;throw nr.create("duplicate-app",{appName:l})}const f=new yS(l);for(const p of Am.values())f.addComponent(p);const g=new hx(n,r,f);return uh.set(l,g),g}function Zm(s=Tm){const e=uh.get(s);if(!e&&s===Tm&&SE())return IE();if(!e)throw nr.create("no-app",{appName:s});return e}function Ci(s,e,n){let r=lx[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${r}" with version "${e}":`];l&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cs.warn(f.join(" "));return}ta(new ar(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const fx="firebase-heartbeat-database",dx=1,Ql="firebase-heartbeat-store";let cm=null;function DE(){return cm||(cm=IS(fx,dx,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Ql)}catch(n){console.warn(n)}}}}).catch(s=>{throw nr.create("idb-open",{originalErrorMessage:s.message})})),cm}async function mx(s){try{const n=(await DE()).transaction(Ql),r=await n.objectStore(Ql).get(OE(s));return await n.done,r}catch(e){if(e instanceof ji)cs.warn(e.message);else{const n=nr.create("idb-get",{originalErrorMessage:e?.message});cs.warn(n.message)}}}async function kv(s,e){try{const r=(await DE()).transaction(Ql,"readwrite");await r.objectStore(Ql).put(e,OE(s)),await r.done}catch(n){if(n instanceof ji)cs.warn(n.message);else{const r=nr.create("idb-set",{originalErrorMessage:n?.message});cs.warn(r.message)}}}function OE(s){return`${s.name}!${s.options.appId}`}const px=1024,gx=30;class yx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=jv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>gx){const l=Ex(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){cs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=jv(),{heartbeatsToSend:n,unsentEntries:r}=_x(this._heartbeatsCache.heartbeats),l=lh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return cs.warn(e),""}}}function jv(){return new Date().toISOString().substring(0,10)}function _x(s,e=px){const n=[];let r=s.slice();for(const l of s){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),Pv(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Pv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class vx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rS()?aS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return kv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return kv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Pv(s){return lh(JSON.stringify({version:2,heartbeats:s})).length}function Ex(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function bx(s){ta(new ar("platform-logger",e=>new MS(e),"PRIVATE")),ta(new ar("heartbeat",e=>new yx(e),"PRIVATE")),Ci(bm,Mv,s),Ci(bm,Mv,"esm2020"),Ci("fire-js","")}bx("");var Tx="firebase",Ax="12.6.0";Ci(Tx,Ax,"app");function ME(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wx=ME,VE=new nu("auth","Firebase",ME());const ch=new $m("@firebase/auth");function Sx(s,...e){ch.logLevel<=Ve.WARN&&ch.warn(`Auth (${oa}): ${s}`,...e)}function $c(s,...e){ch.logLevel<=Ve.ERROR&&ch.error(`Auth (${oa}): ${s}`,...e)}function zn(s,...e){throw ep(s,...e)}function ti(s,...e){return ep(s,...e)}function Wm(s,e,n){const r={...wx(),[e]:n};return new nu("auth","Firebase",r).create(e,{appName:s.name})}function ls(s){return Wm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xx(s,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&zn(s,"argument-error"),Wm(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ep(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return VE.create(s,...e)}function ye(s,e,...n){if(!s)throw ep(e,...n)}function rs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw $c(e),new Error(e)}function hs(s,e){s||rs(e)}function wm(){return typeof self<"u"&&self.location?.href||""}function Rx(){return Uv()==="http:"||Uv()==="https:"}function Uv(){return typeof self<"u"&&self.location?.protocol||null}function Cx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Rx()||tS()||"connection"in navigator)?navigator.onLine:!0}function Nx(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class su{constructor(e,n){this.shortDelay=e,this.longDelay=n,hs(n>e,"Short delay should be less than long delay!"),this.isMobile=Zw()||nS()}get(){return Cx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tp(s,e){hs(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class kE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ix={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Dx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ox=new su(3e4,6e4);function ms(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Pi(s,e,n,r,l={}){return jE(s,l,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const g=iu({key:s.config.apiKey,...f}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:p,...u};return eS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&aa(s.emulatorConfig.host)&&(y.credentials="include"),kE.fetch()(await PE(s,s.config.apiHost,n,g),y)})}async function jE(s,e,n){s._canInitEmulator=!1;const r={...Ix,...e};try{const l=new Vx(s),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Fc(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const g=u.ok?f.errorMessage:f.error.message,[p,y]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fc(s,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Fc(s,"email-already-in-use",f);if(p==="USER_DISABLED")throw Fc(s,"user-disabled",f);const T=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Wm(s,T,y);zn(s,T)}}catch(l){if(l instanceof ji)throw l;zn(s,"network-request-failed",{message:String(l)})}}async function ru(s,e,n,r,l={}){const u=await Pi(s,e,n,r,l);return"mfaPendingCredential"in u&&zn(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function PE(s,e,n,r){const l=`${e}${n}?${r}`,u=s,f=u.config.emulator?tp(s.config,l):`${s.config.apiScheme}://${l}`;return Dx.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function Mx(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Vx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ti(this.auth,"network-request-failed")),Ox.get())})}}function Fc(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=ti(s,e,r);return l.customData._tokenResponse=n,l}function Lv(s){return s!==void 0&&s.enterprise!==void 0}class kx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Mx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jx(s,e){return Pi(s,"GET","/v2/recaptchaConfig",ms(s,e))}async function Px(s,e){return Pi(s,"POST","/v1/accounts:delete",e)}async function hh(s,e){return Pi(s,"POST","/v1/accounts:lookup",e)}function Bl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ux(s,e=!1){const n=vt(s),r=await n.getIdToken(e),l=np(r);ye(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u?.sign_in_provider;return{claims:l,token:r,authTime:Bl(hm(l.auth_time)),issuedAtTime:Bl(hm(l.iat)),expirationTime:Bl(hm(l.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function hm(s){return Number(s)*1e3}function np(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return $c("JWT malformed, contained fewer than 3 sections"),null;try{const l=TE(n);return l?JSON.parse(l):($c("Failed to decode base64 JWT payload"),null)}catch(l){return $c("Caught error parsing JWT payload as JSON",l?.toString()),null}}function zv(s){const e=np(s);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function co(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ji&&Lx(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function Lx({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class zx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Sm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function fh(s){const e=s.auth,n=await s.getIdToken(),r=await co(s,hh(e,{idToken:n}));ye(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?UE(l.providerUserInfo):[],f=qx(s.providerData,u),g=s.isAnonymous,p=!(s.email&&l.passwordHash)&&!f?.length,y=g?p:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Sm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function Bx(s){const e=vt(s);await fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qx(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function UE(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Fx(s,e){const n=await jE(s,{},async()=>{const r=iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,f=await PE(s,l,"/v1/token",`key=${u}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:r};return s.emulatorConfig&&aa(s.emulatorConfig.host)&&(p.credentials="include"),kE.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Hx(s,e){return Pi(s,"POST","/v2/accounts:revokeToken",ms(s,e))}class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=zv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:l,expiresIn:u}=await Fx(e,n);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:l,expirationTime:u}=n,f=new ro;return r&&(ye(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),l&&(ye(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(ye(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return rs("not implemented")}}function Xs(s,e){ye(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Wn{constructor({uid:e,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new zx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Sm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await co(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Ux(this,e)}reload(){return Bx(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await fh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dn(this.auth.app))return Promise.reject(ls(this.auth));const e=await this.getIdToken();return await co(this,Px(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,g=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:w,emailVerified:N,isAnonymous:q,providerData:G,stsTokenManager:ee}=n;ye(w&&ee,e,"internal-error");const K=ro.fromJSON(this.name,ee);ye(typeof w=="string",e,"internal-error"),Xs(r,e.name),Xs(l,e.name),ye(typeof N=="boolean",e,"internal-error"),ye(typeof q=="boolean",e,"internal-error"),Xs(u,e.name),Xs(f,e.name),Xs(g,e.name),Xs(p,e.name),Xs(y,e.name),Xs(T,e.name);const re=new Wn({uid:w,auth:e,email:l,emailVerified:N,displayName:r,isAnonymous:q,photoURL:f,phoneNumber:u,tenantId:g,stsTokenManager:K,createdAt:y,lastLoginAt:T});return G&&Array.isArray(G)&&(re.providerData=G.map(he=>({...he}))),p&&(re._redirectEventId=p),re}static async _fromIdTokenResponse(e,n,r=!1){const l=new ro;l.updateFromServerResponse(n);const u=new Wn({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await fh(u),u}static async _fromGetAccountInfoResponse(e,n,r){const l=n.users[0];ye(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?UE(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!u?.length,g=new ro;g.updateFromIdToken(r);const p=new Wn({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:f}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Sm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(p,y),p}}const Bv=new Map;function as(s){hs(s instanceof Function,"Expected a class definition");let e=Bv.get(s);return e?(hs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Bv.set(s,e),e)}class LE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}LE.type="NONE";const qv=LE;function Jc(s,e,n){return`firebase:${s}:${e}:${n}`}class ao{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=Jc(this.userKey,l.apiKey,u),this.fullPersistenceKey=Jc("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await hh(this.auth,{idToken:e}).catch(()=>{});return n?Wn._fromGetAccountInfoResponse(this.auth,n,e):null}return Wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ao(as(qv),e,r);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||as(qv);const f=Jc(r,e.config.apiKey,e.name);let g=null;for(const y of n)try{const T=await y._get(f);if(T){let w;if(typeof T=="string"){const N=await hh(e,{idToken:T}).catch(()=>{});if(!N)break;w=await Wn._fromGetAccountInfoResponse(e,N,T)}else w=Wn._fromJSON(e,T);y!==u&&(g=w),u=y;break}}catch{}const p=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ao(u,e,r):(u=p[0],g&&await u._set(f,g.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new ao(u,e,r))}}function Fv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GE(e))return"Blackberry";if(QE(e))return"Webos";if(BE(e))return"Safari";if((e.includes("chrome/")||qE(e))&&!e.includes("edge/"))return"Chrome";if(HE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function zE(s=Wt()){return/firefox\//i.test(s)}function BE(s=Wt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qE(s=Wt()){return/crios\//i.test(s)}function FE(s=Wt()){return/iemobile/i.test(s)}function HE(s=Wt()){return/android/i.test(s)}function GE(s=Wt()){return/blackberry/i.test(s)}function QE(s=Wt()){return/webos/i.test(s)}function ip(s=Wt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Gx(s=Wt()){return ip(s)&&!!window.navigator?.standalone}function Qx(){return iS()&&document.documentMode===10}function KE(s=Wt()){return ip(s)||HE(s)||QE(s)||GE(s)||/windows phone/i.test(s)||FE(s)}function YE(s,e=[]){let n;switch(s){case"Browser":n=Fv(Wt());break;case"Worker":n=`${Fv(Wt())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oa}/${r}`}class Kx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((f,g)=>{try{const p=e(u);f(p)}catch(p){g(p)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Yx(s,e={}){return Pi(s,"GET","/v2/passwordPolicy",ms(s,e))}const Xx=6;class $x{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Xx,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class Jx{constructor(e,n,r,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hv(this),this.idTokenSubscription=new Hv(this),this.beforeStateQueue=new Kx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=as(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ao.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hh(this,{idToken:e}),r=await Wn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(dn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=r?._redirectEventId,g=await this.tryRedirectSignIn(e);(!u||u===f)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Nx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dn(this.app))return Promise.reject(ls(this));const n=e?vt(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return dn(this.app)?Promise.reject(ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dn(this.app)?Promise.reject(ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(as(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Yx(this),n=new $x(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new nu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Hx(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&as(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[as(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(g,this,"internal-error"),g.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,r,l);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Sx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ps(s){return vt(s)}class Hv{constructor(e){this.auth=e,this.observer=null,this.addObserver=hS(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Zx(s){Mh=s}function XE(s){return Mh.loadJS(s)}function Wx(){return Mh.recaptchaEnterpriseScript}function e2(){return Mh.gapiScript}function t2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class n2{constructor(){this.enterprise=new i2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class i2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const s2="recaptcha-enterprise",$E="NO_RECAPTCHA";class r2{constructor(e){this.type=s2,this.auth=ps(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,g)=>{jx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const y=new kx(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{g(p)})})}function l(u,f,g){const p=window.grecaptcha;Lv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f($E)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new n2().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{r(this.auth).then(g=>{if(!n&&Lv(window.grecaptcha))l(g,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Wx();p.length!==0&&(p+=g),XE(p).then(()=>{l(g,u,f)}).catch(y=>{f(y)})}}).catch(g=>{f(g)})})}}async function Gv(s,e,n,r=!1,l=!1){const u=new r2(s);let f;if(l)f=$E;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const g={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,y=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return r?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function dh(s,e,n,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Gv(s,e,n,n==="getOobCode");return r(s,u)}else return r(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Gv(s,e,n,n==="getOobCode");return r(s,f)}else return Promise.reject(u)})}function a2(s,e){const n=Oh(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(rr(u,e??{}))return l;zn(l,"already-initialized")}return n.initialize({options:e})}function o2(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(as);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function l2(s,e,n){const r=ps(s);ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=JE(e),{host:f,port:g}=u2(e),p=g===null?"":`:${g}`,y={url:`${u}//${f}${p}/`},T=Object.freeze({host:f,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){ye(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ye(rr(y,r.config.emulator)&&rr(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,aa(f)?(Ym(`${u}//${f}${p}`),Xm("Auth",!0)):c2()}function JE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function u2(s){const e=JE(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:Qv(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:Qv(f)}}}function Qv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function c2(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class sp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rs("not implemented")}_getIdTokenResponse(e){return rs("not implemented")}_linkToIdToken(e,n){return rs("not implemented")}_getReauthenticationResolver(e){return rs("not implemented")}}async function h2(s,e){return Pi(s,"POST","/v1/accounts:signUp",e)}async function f2(s,e){return ru(s,"POST","/v1/accounts:signInWithPassword",ms(s,e))}async function d2(s,e){return Pi(s,"POST","/v1/accounts:sendOobCode",ms(s,e))}async function m2(s,e){return d2(s,e)}async function p2(s,e){return ru(s,"POST","/v1/accounts:signInWithEmailLink",ms(s,e))}async function g2(s,e){return ru(s,"POST","/v1/accounts:signInWithEmailLink",ms(s,e))}class Kl extends sp{constructor(e,n,r,l=null){super("password",r),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new Kl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Kl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dh(e,n,"signInWithPassword",f2);case"emailLink":return p2(e,{email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dh(e,r,"signUpPassword",h2);case"emailLink":return g2(e,{idToken:n,email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function oo(s,e){return ru(s,"POST","/v1/accounts:signInWithIdp",ms(s,e))}const y2="http://localhost";class na extends sp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...u}=n;if(!r||!l)return null;const f=new na(r,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return oo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,oo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,oo(e,n)}buildRequest(){const e={requestUri:y2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=iu(n)}return e}}function _2(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function v2(s){const e=Ol(Ml(s)).link,n=e?Ol(Ml(e)).deep_link_id:null,r=Ol(Ml(s)).deep_link_id;return(r?Ol(Ml(r)).link:null)||r||n||e||s}class rp{constructor(e){const n=Ol(Ml(e)),r=n.apiKey??null,l=n.oobCode??null,u=_2(n.mode??null);ye(r&&l&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=v2(e);try{return new rp(n)}catch{return null}}}class vo{constructor(){this.providerId=vo.PROVIDER_ID}static credential(e,n){return Kl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=rp.parseLink(n);return ye(r,"argument-error"),Kl._fromEmailAndCode(e,r.code,r.tenantId)}}vo.PROVIDER_ID="password";vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ap{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class au extends ap{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $s extends au{constructor(){super("facebook.com")}static credential(e){return na._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $s.credential(e.oauthAccessToken)}catch{return null}}}$s.FACEBOOK_SIGN_IN_METHOD="facebook.com";$s.PROVIDER_ID="facebook.com";class ss extends au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return na._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ss.credential(n,r)}catch{return null}}}ss.GOOGLE_SIGN_IN_METHOD="google.com";ss.PROVIDER_ID="google.com";class Js extends au{constructor(){super("github.com")}static credential(e){return na._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.GITHUB_SIGN_IN_METHOD="github.com";Js.PROVIDER_ID="github.com";class Zs extends au{constructor(){super("twitter.com")}static credential(e,n){return na._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Zs.credential(n,r)}catch{return null}}}Zs.TWITTER_SIGN_IN_METHOD="twitter.com";Zs.PROVIDER_ID="twitter.com";async function E2(s,e){return ru(s,"POST","/v1/accounts:signUp",ms(s,e))}class ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,l=!1){const u=await Wn._fromIdTokenResponse(e,r,l),f=Kv(r);return new ia({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const l=Kv(r);return new ia({user:e,providerId:l,_tokenResponse:r,operationType:n})}}function Kv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class mh extends ji{constructor(e,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,l){return new mh(e,n,r,l)}}function ZE(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(s,u,e,r):u})}async function b2(s,e,n=!1){const r=await co(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return ia._forOperation(s,"link",r)}async function T2(s,e,n=!1){const{auth:r}=s;if(dn(r.app))return Promise.reject(ls(r));const l="reauthenticate";try{const u=await co(s,ZE(r,l,e,s),n);ye(u.idToken,r,"internal-error");const f=np(u.idToken);ye(f,r,"internal-error");const{sub:g}=f;return ye(s.uid===g,r,"user-mismatch"),ia._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&zn(r,"user-mismatch"),u}}async function WE(s,e,n=!1){if(dn(s.app))return Promise.reject(ls(s));const r="signIn",l=await ZE(s,r,e),u=await ia._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(u.user),u}async function A2(s,e){return WE(ps(s),e)}async function e1(s){const e=ps(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function w2(s,e,n){const r=ps(s);await dh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",m2)}async function S2(s,e,n){if(dn(s.app))return Promise.reject(ls(s));const r=ps(s),f=await dh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",E2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&e1(s),p}),g=await ia._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(g.user),g}function x2(s,e,n){return dn(s.app)?Promise.reject(ls(s)):A2(vt(s),vo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&e1(s),r})}async function R2(s,e){return Pi(s,"POST","/v1/accounts:update",e)}async function Yv(s,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=vt(s),u={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await co(r,R2(r.auth,u));r.displayName=f.displayName||null,r.photoURL=f.photoUrl||null;const g=r.providerData.find(({providerId:p})=>p==="password");g&&(g.displayName=r.displayName,g.photoURL=r.photoURL),await r._updateTokensIfNecessary(f)}function C2(s,e,n,r){return vt(s).onIdTokenChanged(e,n,r)}function N2(s,e,n){return vt(s).beforeAuthStateChanged(e,n)}function I2(s,e,n,r){return vt(s).onAuthStateChanged(e,n,r)}function Xv(s){return vt(s).signOut()}const ph="__sak";class t1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ph,"1"),this.storage.removeItem(ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const D2=1e3,O2=10;class n1 extends t1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&e(n,l,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const r=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);Qx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,O2):l()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},D2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}n1.type="LOCAL";const M2=n1;class i1 extends t1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}i1.type="SESSION";const s1=i1;function V2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Vh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const r=new Vh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:l,data:u}=n.data,f=this.handlersMap[l];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(f).map(async y=>y(n.origin,u)),p=await V2(g);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vh.receivers=[];function op(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class k2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((g,p)=>{const y=op("",20);l.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},r);f={messageChannel:l,onMessage(w){const N=w;if(N.data.eventId===y)switch(N.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(N.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ni(){return window}function j2(s){Ni().location.href=s}function r1(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function P2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function U2(){return navigator?.serviceWorker?.controller||null}function L2(){return r1()?self:null}const a1="firebaseLocalStorageDb",z2=1,gh="firebaseLocalStorage",o1="fbase_key";class ou{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kh(s,e){return s.transaction([gh],e?"readwrite":"readonly").objectStore(gh)}function B2(){const s=indexedDB.deleteDatabase(a1);return new ou(s).toPromise()}function xm(){const s=indexedDB.open(a1,z2);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(gh,{keyPath:o1})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(gh)?e(r):(r.close(),await B2(),e(await xm()))})})}async function $v(s,e,n){const r=kh(s,!0).put({[o1]:e,value:n});return new ou(r).toPromise()}async function q2(s,e){const n=kh(s,!1).get(e),r=await new ou(n).toPromise();return r===void 0?null:r.value}function Jv(s,e){const n=kh(s,!0).delete(e);return new ou(n).toPromise()}const F2=800,H2=3;class l1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>H2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return r1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vh._getInstance(L2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await P2(),!this.activeServiceWorker)return;this.sender=new k2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||U2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xm();return await $v(e,ph,"1"),await Jv(e,ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$v(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>q2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Jv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=kh(l,!1).getAll();return new ou(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),F2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}l1.type="LOCAL";const G2=l1;new su(3e4,6e4);function u1(s,e){return e?as(e):(ye(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class lp extends sp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return oo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Q2(s){return WE(s.auth,new lp(s),s.bypassAuthState)}function K2(s){const{auth:e,user:n}=s;return ye(n,e,"internal-error"),T2(n,new lp(s),s.bypassAuthState)}async function Y2(s){const{auth:e,user:n}=s;return ye(n,e,"internal-error"),b2(n,new lp(s),s.bypassAuthState)}class c1{constructor(e,n,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:l,tenantId:u,error:f,type:g}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Q2;case"linkViaPopup":case"linkViaRedirect":return Y2;case"reauthViaPopup":case"reauthViaRedirect":return K2;default:zn(this.auth,"internal-error")}}resolve(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const X2=new su(2e3,1e4);async function $2(s,e,n){if(dn(s.app))return Promise.reject(ti(s,"operation-not-supported-in-this-environment"));const r=ps(s);xx(s,e,ap);const l=u1(r,n);return new $r(r,"signInViaPopup",e,l).executeNotNull()}class $r extends c1{constructor(e,n,r,l,u){super(e,n,l,u),this.provider=r,this.authWindow=null,this.pollId=null,$r.currentPopupAction&&$r.currentPopupAction.cancel(),$r.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){hs(this.filter.length===1,"Popup operations only handle one event");const e=op();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$r.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,X2.get())};e()}}$r.currentPopupAction=null;const J2="pendingRedirect",Zc=new Map;class Z2 extends c1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Zc.get(this.auth._key());if(!e){try{const r=await W2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Zc.set(this.auth._key(),e)}return this.bypassAuthState||Zc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function W2(s,e){const n=nR(e),r=tR(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function eR(s,e){Zc.set(s._key(),e)}function tR(s){return as(s._redirectPersistence)}function nR(s){return Jc(J2,s.config.apiKey,s.name)}async function iR(s,e,n=!1){if(dn(s.app))return Promise.reject(ls(s));const r=ps(s),l=u1(r,e),f=await new Z2(r,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}const sR=600*1e3;class rR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!h1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ti(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zv(e))}saveEventToCache(e){this.cachedEventUids.add(Zv(e)),this.lastProcessedEventTime=Date.now()}}function Zv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function h1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function aR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return h1(s);default:return!1}}async function oR(s,e={}){return Pi(s,"GET","/v1/projects",e)}const lR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uR=/^https?/;async function cR(s){if(s.config.emulator)return;const{authorizedDomains:e}=await oR(s);for(const n of e)try{if(hR(n))return}catch{}zn(s,"unauthorized-domain")}function hR(s){const e=wm(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!uR.test(n))return!1;if(lR.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const fR=new su(3e4,6e4);function Wv(){const s=Ni().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function dR(s){return new Promise((e,n)=>{function r(){Wv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Wv(),n(ti(s,"network-request-failed"))},timeout:fR.get()})}if(Ni().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ni().gapi?.load)r();else{const l=t2("iframefcb");return Ni()[l]=()=>{gapi.load?r():n(ti(s,"network-request-failed"))},XE(`${e2()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Wc=null,e})}let Wc=null;function mR(s){return Wc=Wc||dR(s),Wc}const pR=new su(5e3,15e3),gR="__/auth/iframe",yR="emulator/auth/iframe",_R={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ER(s){const e=s.config;ye(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?tp(e,yR):`https://${s.config.authDomain}/${gR}`,r={apiKey:e.apiKey,appName:s.name,v:oa},l=vR.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${iu(r).slice(1)}`}async function bR(s){const e=await mR(s),n=Ni().gapi;return ye(n,s,"internal-error"),e.open({where:document.body,url:ER(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_R,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const f=ti(s,"network-request-failed"),g=Ni().setTimeout(()=>{u(f)},pR.get());function p(){Ni().clearTimeout(g),l(r)}r.ping(p).then(p,()=>{u(f)})}))}const TR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AR=500,wR=600,SR="_blank",xR="http://localhost";class e0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RR(s,e,n,r=AR,l=wR){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const p={...TR,width:r.toString(),height:l.toString(),top:u,left:f},y=Wt().toLowerCase();n&&(g=qE(y)?SR:n),zE(y)&&(e=e||xR,p.scrollbars="yes");const T=Object.entries(p).reduce((N,[q,G])=>`${N}${q}=${G},`,"");if(Gx(y)&&g!=="_self")return CR(e||"",g),new e0(null);const w=window.open(e||"",g,T);ye(w,s,"popup-blocked");try{w.focus()}catch{}return new e0(w)}function CR(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const NR="__/auth/handler",IR="emulator/auth/handler",DR=encodeURIComponent("fac");async function t0(s,e,n,r,l,u){ye(s.config.authDomain,s,"auth-domain-config-required"),ye(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:oa,eventId:l};if(e instanceof ap){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",cS(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,w]of Object.entries({}))f[T]=w}if(e instanceof au){const T=e.getScopes().filter(w=>w!=="");T.length>0&&(f.scopes=T.join(","))}s.tenantId&&(f.tid=s.tenantId);const g=f;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const p=await s._getAppCheckToken(),y=p?`#${DR}=${encodeURIComponent(p)}`:"";return`${OR(s)}?${iu(g).slice(1)}${y}`}function OR({config:s}){return s.emulator?tp(s,IR):`https://${s.authDomain}/${NR}`}const fm="webStorageSupport";class MR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=s1,this._completeRedirectFn=iR,this._overrideRedirectResult=eR}async _openPopup(e,n,r,l){hs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await t0(e,n,r,wm(),l);return RR(e,u,op())}async _openRedirect(e,n,r,l){await this._originValidation(e);const u=await t0(e,n,r,wm(),l);return j2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(hs(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await bR(e),r=new rR(e);return n.register("authEvent",l=>(ye(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fm,{type:fm},l=>{const u=l?.[0]?.[fm];u!==void 0&&n(!!u),zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return KE()||BE()||ip()}}const VR=MR;var n0="@firebase/auth",i0="1.11.1";class kR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function jR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PR(s){ta(new ar("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=r.options;ye(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:f,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YE(s)},y=new Jx(r,l,u,p);return o2(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ta(new ar("auth-internal",e=>{const n=ps(e.getProvider("auth").getImmediate());return(r=>new kR(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ci(n0,i0,jR(s)),Ci(n0,i0,"esm2020")}const UR=300,LR=xE("authIdTokenMaxAge")||UR;let s0=null;const zR=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>LR)return;const l=n?.token;s0!==l&&(s0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function BR(s=Zm()){const e=Oh(s,"auth");if(e.isInitialized())return e.getImmediate();const n=a2(s,{popupRedirectResolver:VR,persistence:[G2,M2,s1]}),r=xE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=zR(u.toString());N2(n,f,()=>f(n.currentUser)),C2(n,g=>f(g))}}const l=AE("auth");return l&&l2(n,`http://${l}`),n}function qR(){return document.getElementsByTagName("head")?.[0]??document}Zx({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const u=ti("internal-error");u.customData=l,n(u)},r.type="text/javascript",r.charset="UTF-8",qR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PR("Browser");var r0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ir,f1;(function(){var s;function e(I,S){function R(){}R.prototype=S.prototype,I.F=S.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(O,D,k){for(var x=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)x[Be-2]=arguments[Be];return S.prototype[D].apply(O,x)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,S,R){R||(R=0);const O=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)O[D]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(D=0;D<16;++D)O[D]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=I.g[0],R=I.g[1],D=I.g[2];let k=I.g[3],x;x=S+(k^R&(D^k))+O[0]+3614090360&4294967295,S=R+(x<<7&4294967295|x>>>25),x=k+(D^S&(R^D))+O[1]+3905402710&4294967295,k=S+(x<<12&4294967295|x>>>20),x=D+(R^k&(S^R))+O[2]+606105819&4294967295,D=k+(x<<17&4294967295|x>>>15),x=R+(S^D&(k^S))+O[3]+3250441966&4294967295,R=D+(x<<22&4294967295|x>>>10),x=S+(k^R&(D^k))+O[4]+4118548399&4294967295,S=R+(x<<7&4294967295|x>>>25),x=k+(D^S&(R^D))+O[5]+1200080426&4294967295,k=S+(x<<12&4294967295|x>>>20),x=D+(R^k&(S^R))+O[6]+2821735955&4294967295,D=k+(x<<17&4294967295|x>>>15),x=R+(S^D&(k^S))+O[7]+4249261313&4294967295,R=D+(x<<22&4294967295|x>>>10),x=S+(k^R&(D^k))+O[8]+1770035416&4294967295,S=R+(x<<7&4294967295|x>>>25),x=k+(D^S&(R^D))+O[9]+2336552879&4294967295,k=S+(x<<12&4294967295|x>>>20),x=D+(R^k&(S^R))+O[10]+4294925233&4294967295,D=k+(x<<17&4294967295|x>>>15),x=R+(S^D&(k^S))+O[11]+2304563134&4294967295,R=D+(x<<22&4294967295|x>>>10),x=S+(k^R&(D^k))+O[12]+1804603682&4294967295,S=R+(x<<7&4294967295|x>>>25),x=k+(D^S&(R^D))+O[13]+4254626195&4294967295,k=S+(x<<12&4294967295|x>>>20),x=D+(R^k&(S^R))+O[14]+2792965006&4294967295,D=k+(x<<17&4294967295|x>>>15),x=R+(S^D&(k^S))+O[15]+1236535329&4294967295,R=D+(x<<22&4294967295|x>>>10),x=S+(D^k&(R^D))+O[1]+4129170786&4294967295,S=R+(x<<5&4294967295|x>>>27),x=k+(R^D&(S^R))+O[6]+3225465664&4294967295,k=S+(x<<9&4294967295|x>>>23),x=D+(S^R&(k^S))+O[11]+643717713&4294967295,D=k+(x<<14&4294967295|x>>>18),x=R+(k^S&(D^k))+O[0]+3921069994&4294967295,R=D+(x<<20&4294967295|x>>>12),x=S+(D^k&(R^D))+O[5]+3593408605&4294967295,S=R+(x<<5&4294967295|x>>>27),x=k+(R^D&(S^R))+O[10]+38016083&4294967295,k=S+(x<<9&4294967295|x>>>23),x=D+(S^R&(k^S))+O[15]+3634488961&4294967295,D=k+(x<<14&4294967295|x>>>18),x=R+(k^S&(D^k))+O[4]+3889429448&4294967295,R=D+(x<<20&4294967295|x>>>12),x=S+(D^k&(R^D))+O[9]+568446438&4294967295,S=R+(x<<5&4294967295|x>>>27),x=k+(R^D&(S^R))+O[14]+3275163606&4294967295,k=S+(x<<9&4294967295|x>>>23),x=D+(S^R&(k^S))+O[3]+4107603335&4294967295,D=k+(x<<14&4294967295|x>>>18),x=R+(k^S&(D^k))+O[8]+1163531501&4294967295,R=D+(x<<20&4294967295|x>>>12),x=S+(D^k&(R^D))+O[13]+2850285829&4294967295,S=R+(x<<5&4294967295|x>>>27),x=k+(R^D&(S^R))+O[2]+4243563512&4294967295,k=S+(x<<9&4294967295|x>>>23),x=D+(S^R&(k^S))+O[7]+1735328473&4294967295,D=k+(x<<14&4294967295|x>>>18),x=R+(k^S&(D^k))+O[12]+2368359562&4294967295,R=D+(x<<20&4294967295|x>>>12),x=S+(R^D^k)+O[5]+4294588738&4294967295,S=R+(x<<4&4294967295|x>>>28),x=k+(S^R^D)+O[8]+2272392833&4294967295,k=S+(x<<11&4294967295|x>>>21),x=D+(k^S^R)+O[11]+1839030562&4294967295,D=k+(x<<16&4294967295|x>>>16),x=R+(D^k^S)+O[14]+4259657740&4294967295,R=D+(x<<23&4294967295|x>>>9),x=S+(R^D^k)+O[1]+2763975236&4294967295,S=R+(x<<4&4294967295|x>>>28),x=k+(S^R^D)+O[4]+1272893353&4294967295,k=S+(x<<11&4294967295|x>>>21),x=D+(k^S^R)+O[7]+4139469664&4294967295,D=k+(x<<16&4294967295|x>>>16),x=R+(D^k^S)+O[10]+3200236656&4294967295,R=D+(x<<23&4294967295|x>>>9),x=S+(R^D^k)+O[13]+681279174&4294967295,S=R+(x<<4&4294967295|x>>>28),x=k+(S^R^D)+O[0]+3936430074&4294967295,k=S+(x<<11&4294967295|x>>>21),x=D+(k^S^R)+O[3]+3572445317&4294967295,D=k+(x<<16&4294967295|x>>>16),x=R+(D^k^S)+O[6]+76029189&4294967295,R=D+(x<<23&4294967295|x>>>9),x=S+(R^D^k)+O[9]+3654602809&4294967295,S=R+(x<<4&4294967295|x>>>28),x=k+(S^R^D)+O[12]+3873151461&4294967295,k=S+(x<<11&4294967295|x>>>21),x=D+(k^S^R)+O[15]+530742520&4294967295,D=k+(x<<16&4294967295|x>>>16),x=R+(D^k^S)+O[2]+3299628645&4294967295,R=D+(x<<23&4294967295|x>>>9),x=S+(D^(R|~k))+O[0]+4096336452&4294967295,S=R+(x<<6&4294967295|x>>>26),x=k+(R^(S|~D))+O[7]+1126891415&4294967295,k=S+(x<<10&4294967295|x>>>22),x=D+(S^(k|~R))+O[14]+2878612391&4294967295,D=k+(x<<15&4294967295|x>>>17),x=R+(k^(D|~S))+O[5]+4237533241&4294967295,R=D+(x<<21&4294967295|x>>>11),x=S+(D^(R|~k))+O[12]+1700485571&4294967295,S=R+(x<<6&4294967295|x>>>26),x=k+(R^(S|~D))+O[3]+2399980690&4294967295,k=S+(x<<10&4294967295|x>>>22),x=D+(S^(k|~R))+O[10]+4293915773&4294967295,D=k+(x<<15&4294967295|x>>>17),x=R+(k^(D|~S))+O[1]+2240044497&4294967295,R=D+(x<<21&4294967295|x>>>11),x=S+(D^(R|~k))+O[8]+1873313359&4294967295,S=R+(x<<6&4294967295|x>>>26),x=k+(R^(S|~D))+O[15]+4264355552&4294967295,k=S+(x<<10&4294967295|x>>>22),x=D+(S^(k|~R))+O[6]+2734768916&4294967295,D=k+(x<<15&4294967295|x>>>17),x=R+(k^(D|~S))+O[13]+1309151649&4294967295,R=D+(x<<21&4294967295|x>>>11),x=S+(D^(R|~k))+O[4]+4149444226&4294967295,S=R+(x<<6&4294967295|x>>>26),x=k+(R^(S|~D))+O[11]+3174756917&4294967295,k=S+(x<<10&4294967295|x>>>22),x=D+(S^(k|~R))+O[2]+718787259&4294967295,D=k+(x<<15&4294967295|x>>>17),x=R+(k^(D|~S))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(D+(x<<21&4294967295|x>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+k&4294967295}r.prototype.v=function(I,S){S===void 0&&(S=I.length);const R=S-this.blockSize,O=this.C;let D=this.h,k=0;for(;k<S;){if(D==0)for(;k<=R;)l(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<S;)if(O[D++]=I.charCodeAt(k++),D==this.blockSize){l(this,O),D=0;break}}else for(;k<S;)if(O[D++]=I[k++],D==this.blockSize){l(this,O),D=0;break}}this.h=D,this.o+=S},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,R=0;R<4;++R)for(let O=0;O<32;O+=8)I[S++]=this.g[R]>>>O&255;return I};function u(I,S){var R=g;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=S(I)}function f(I,S){this.h=S;const R=[];let O=!0;for(let D=I.length-1;D>=0;D--){const k=I[D]|0;O&&k==S||(R[D]=k,O=!1)}this.g=R}var g={};function p(I){return-128<=I&&I<128?u(I,function(S){return new f([S|0],S<0?-1:0)}):new f([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return w;if(I<0)return K(y(-I));const S=[];let R=1;for(let O=0;I>=R;O++)S[O]=I/R|0,R*=4294967296;return new f(S,0)}function T(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return K(T(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(S,8));let O=w;for(let k=0;k<I.length;k+=8){var D=Math.min(8,I.length-k);const x=parseInt(I.substring(k,k+D),S);D<8?(D=y(Math.pow(S,D)),O=O.j(D).add(y(x))):(O=O.j(R),O=O.add(y(x)))}return O}var w=p(0),N=p(1),q=p(16777216);s=f.prototype,s.m=function(){if(ee(this))return-K(this).m();let I=0,S=1;for(let R=0;R<this.g.length;R++){const O=this.i(R);I+=(O>=0?O:4294967296+O)*S,S*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(G(this))return"0";if(ee(this))return"-"+K(this).toString(I);const S=y(Math.pow(I,6));var R=this;let O="";for(;;){const D=fe(R,S).g;R=re(R,D.j(S));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=D,G(R))return k+O;for(;k.length<6;)k="0"+k;O=k+O}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function G(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function ee(I){return I.h==-1}s.l=function(I){return I=re(this,I),ee(I)?-1:G(I)?0:1};function K(I){const S=I.g.length,R=[];for(let O=0;O<S;O++)R[O]=~I.g[O];return new f(R,~I.h).add(N)}s.abs=function(){return ee(this)?K(this):this},s.add=function(I){const S=Math.max(this.g.length,I.g.length),R=[];let O=0;for(let D=0;D<=S;D++){let k=O+(this.i(D)&65535)+(I.i(D)&65535),x=(k>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);O=x>>>16,k&=65535,x&=65535,R[D]=x<<16|k}return new f(R,R[R.length-1]&-2147483648?-1:0)};function re(I,S){return I.add(K(S))}s.j=function(I){if(G(this)||G(I))return w;if(ee(this))return ee(I)?K(this).j(K(I)):K(K(this).j(I));if(ee(I))return K(this.j(K(I)));if(this.l(q)<0&&I.l(q)<0)return y(this.m()*I.m());const S=this.g.length+I.g.length,R=[];for(var O=0;O<2*S;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<I.g.length;D++){const k=this.i(O)>>>16,x=this.i(O)&65535,Be=I.i(D)>>>16,qe=I.i(D)&65535;R[2*O+2*D]+=x*qe,he(R,2*O+2*D),R[2*O+2*D+1]+=k*qe,he(R,2*O+2*D+1),R[2*O+2*D+1]+=x*Be,he(R,2*O+2*D+1),R[2*O+2*D+2]+=k*Be,he(R,2*O+2*D+2)}for(I=0;I<S;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=S;I<2*S;I++)R[I]=0;return new f(R,0)};function he(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function ue(I,S){this.g=I,this.h=S}function fe(I,S){if(G(S))throw Error("division by zero");if(G(I))return new ue(w,w);if(ee(I))return S=fe(K(I),S),new ue(K(S.g),K(S.h));if(ee(S))return S=fe(I,K(S)),new ue(K(S.g),S.h);if(I.g.length>30){if(ee(I)||ee(S))throw Error("slowDivide_ only works with positive integers.");for(var R=N,O=S;O.l(I)<=0;)R=Pe(R),O=Pe(O);var D=we(R,1),k=we(O,1);for(O=we(O,2),R=we(R,2);!G(O);){var x=k.add(O);x.l(I)<=0&&(D=D.add(R),k=x),O=we(O,1),R=we(R,1)}return S=re(I,D.j(S)),new ue(D,S)}for(D=w;I.l(S)>=0;){for(R=Math.max(1,Math.floor(I.m()/S.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),k=y(R),x=k.j(S);ee(x)||x.l(I)>0;)R-=O,k=y(R),x=k.j(S);G(k)&&(k=N),D=D.add(k),I=re(I,x)}return new ue(D,I)}s.B=function(I){return fe(this,I).h},s.and=function(I){const S=Math.max(this.g.length,I.g.length),R=[];for(let O=0;O<S;O++)R[O]=this.i(O)&I.i(O);return new f(R,this.h&I.h)},s.or=function(I){const S=Math.max(this.g.length,I.g.length),R=[];for(let O=0;O<S;O++)R[O]=this.i(O)|I.i(O);return new f(R,this.h|I.h)},s.xor=function(I){const S=Math.max(this.g.length,I.g.length),R=[];for(let O=0;O<S;O++)R[O]=this.i(O)^I.i(O);return new f(R,this.h^I.h)};function Pe(I){const S=I.g.length+1,R=[];for(let O=0;O<S;O++)R[O]=I.i(O)<<1|I.i(O-1)>>>31;return new f(R,I.h)}function we(I,S){const R=S>>5;S%=32;const O=I.g.length-R,D=[];for(let k=0;k<O;k++)D[k]=S>0?I.i(k+R)>>>S|I.i(k+R+1)<<32-S:I.i(k+R);return new f(D,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,f1=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=T,ir=f}).apply(typeof r0<"u"?r0:typeof self<"u"?self:typeof window<"u"?window:{});var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var d1,Vl,m1,eh,Rm,p1,g1,y1;(function(){var s,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hc=="object"&&Hc];for(var m=0;m<c.length;++m){var E=c[m];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function l(c,m){if(m)e:{var E=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var U=c[A];if(!(U in E))break e;E=E[U]}c=c[c.length-1],A=E[c],m=m(A),m!=A&&m!=null&&e(E,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var E=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&E.push([A,m[A]]);return E}});var u=u||{},f=this||self;function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function p(c,m,E){return c.call.apply(c.bind,arguments)}function y(c,m,E){return y=p,y.apply(null,arguments)}function T(c,m){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function w(c,m){function E(){}E.prototype=m.prototype,c.Z=m.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(A,U,F){for(var ne=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)ne[Se-2]=arguments[Se];return m.prototype[U].apply(A,ne)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function q(c){const m=c.length;if(m>0){const E=Array(m);for(let A=0;A<m;A++)E[A]=c[A];return E}return[]}function G(c,m){for(let A=1;A<arguments.length;A++){const U=arguments[A];var E=typeof U;if(E=E!="object"?E:U?Array.isArray(U)?"array":E:"null",E=="array"||E=="object"&&typeof U.length=="number"){E=c.length||0;const F=U.length||0;c.length=E+F;for(let ne=0;ne<F;ne++)c[E+ne]=U[ne]}else c.push(U)}}class ee{constructor(m,E){this.i=m,this.j=E,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function K(c){f.setTimeout(()=>{throw c},0)}function re(){var c=I;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class he{constructor(){this.h=this.g=null}add(m,E){const A=ue.get();A.set(m,E),this.h?this.h.next=A:this.g=A,this.h=A}}var ue=new ee(()=>new fe,c=>c.reset());class fe{constructor(){this.next=this.g=this.h=null}set(m,E){this.h=m,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Pe,we=!1,I=new he,S=()=>{const c=Promise.resolve(void 0);Pe=()=>{c.then(R)}};function R(){for(var c;c=re();){try{c.h.call(c.g)}catch(E){K(E)}var m=ue;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}we=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};f.addEventListener("test",E,m),f.removeEventListener("test",E,m)}catch{}return c})();function x(c){return/^[\s\xa0]*$/.test(c)}function Be(c,m){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}w(Be,D),Be.prototype.init=function(c,m){const E=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(E=="mouseover"?m=c.fromElement:E=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Be.Z.h.call(this)},Be.prototype.h=function(){Be.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var qe="closure_listenable_"+(Math.random()*1e6|0),P=0;function Z(c,m,E,A,U){this.listener=c,this.proxy=null,this.src=m,this.type=E,this.capture=!!A,this.ha=U,this.key=++P,this.da=this.fa=!1}function ie(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ee(c,m,E){for(const A in c)m.call(E,c[A],A,c)}function Ne(c,m){for(const E in c)m.call(void 0,c[E],E,c)}function M(c){const m={};for(const E in c)m[E]=c[E];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(c,m){let E,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(E in A)c[E]=A[E];for(let F=0;F<Y.length;F++)E=Y[F],Object.prototype.hasOwnProperty.call(A,E)&&(c[E]=A[E])}}function ae(c){this.src=c,this.g={},this.h=0}ae.prototype.add=function(c,m,E,A,U){const F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);const ne=Re(c,m,A,U);return ne>-1?(m=c[ne],E||(m.fa=!1)):(m=new Z(m,this.src,F,!!A,U),m.fa=E,c.push(m)),m};function ve(c,m){const E=m.type;if(E in c.g){var A=c.g[E],U=Array.prototype.indexOf.call(A,m,void 0),F;(F=U>=0)&&Array.prototype.splice.call(A,U,1),F&&(ie(m),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Re(c,m,E,A){for(let U=0;U<c.length;++U){const F=c[U];if(!F.da&&F.listener==m&&F.capture==!!E&&F.ha==A)return U}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),Ot={};function ot(c,m,E,A,U){if(Array.isArray(m)){for(let F=0;F<m.length;F++)ot(c,m[F],E,A,U);return null}return E=Co(E),c&&c[qe]?c.J(m,E,g(A)?!!A.capture:!1,U):yr(c,m,E,!1,A,U)}function yr(c,m,E,A,U,F){if(!m)throw Error("Invalid event type");const ne=g(U)?!!U.capture:!!U;let Se=_r(c);if(Se||(c[Le]=Se=new ae(c)),E=Se.add(m,E,A,ne,F),E.proxy)return E;if(A=ca(),E.proxy=A,A.src=c,A.listener=E,c.addEventListener)k||(U=ne),U===void 0&&(U=!1),c.addEventListener(m.toString(),A,U);else if(c.attachEvent)c.attachEvent(si(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ca(){function c(E){return m.call(c.src,c.listener,E)}const m=xo;return c}function ha(c,m,E,A,U){if(Array.isArray(m))for(var F=0;F<m.length;F++)ha(c,m[F],E,A,U);else A=g(A)?!!A.capture:!!A,E=Co(E),c&&c[qe]?(c=c.i,F=String(m).toString(),F in c.g&&(m=c.g[F],E=Re(m,E,A,U),E>-1&&(ie(m[E]),Array.prototype.splice.call(m,E,1),m.length==0&&(delete c.g[F],c.h--)))):c&&(c=_r(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Re(m,E,A,U)),(E=c>-1?m[c]:null)&&fa(E))}function fa(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[qe])ve(m.i,c);else{var E=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(E,A,c.capture):m.detachEvent?m.detachEvent(si(E),A):m.addListener&&m.removeListener&&m.removeListener(A),(E=_r(m))?(ve(E,c),E.h==0&&(E.src=null,m[Le]=null)):ie(c)}}}function si(c){return c in Ot?Ot[c]:Ot[c]="on"+c}function xo(c,m){if(c.da)c=!0;else{m=new Be(m,this);const E=c.listener,A=c.ha||c.src;c.fa&&fa(c),c=E.call(A,m)}return c}function _r(c){return c=c[Le],c instanceof ae?c:null}var Ro="__closure_events_fn_"+(Math.random()*1e9>>>0);function Co(c){return typeof c=="function"?c:(c[Ro]||(c[Ro]=function(m){return c.handleEvent(m)}),c[Ro])}function Et(){O.call(this),this.i=new ae(this),this.M=this,this.G=null}w(Et,O),Et.prototype[qe]=!0,Et.prototype.removeEventListener=function(c,m,E,A){ha(this,c,m,E,A)};function Mt(c,m){var E,A=c.G;if(A)for(E=[];A;A=A.G)E.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new D(m,c);else if(m instanceof D)m.target=m.target||c;else{var U=m;m=new D(A,c),te(m,U)}U=!0;let F,ne;if(E)for(ne=E.length-1;ne>=0;ne--)F=m.g=E[ne],U=gs(F,A,!0,m)&&U;if(F=m.g=c,U=gs(F,A,!0,m)&&U,U=gs(F,A,!1,m)&&U,E)for(ne=0;ne<E.length;ne++)F=m.g=E[ne],U=gs(F,A,!1,m)&&U}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const E=c.g[m];for(let A=0;A<E.length;A++)ie(E[A]);delete c.g[m],c.h--}}this.G=null},Et.prototype.J=function(c,m,E,A){return this.i.add(String(c),m,!1,E,A)},Et.prototype.K=function(c,m,E,A){return this.i.add(String(c),m,!0,E,A)};function gs(c,m,E,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let F=0;F<m.length;++F){const ne=m[F];if(ne&&!ne.da&&ne.capture==E){const Se=ne.listener,pt=ne.ha||ne.src;ne.fa&&ve(c.i,ne),U=Se.call(pt,A)!==!1&&U}}return U&&!A.defaultPrevented}function tf(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(c,m||0)}function mu(c){c.g=tf(()=>{c.g=null,c.i&&(c.i=!1,mu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class en extends O{constructor(m,E){super(),this.m=m,this.l=E,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:mu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vr(c){O.call(this),this.h=c,this.g={}}w(vr,O);var No=[];function Io(c){Ee(c.g,function(m,E){this.g.hasOwnProperty(E)&&fa(m)},c),c.g={}}vr.prototype.N=function(){vr.Z.N.call(this),Io(this)},vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ys=f.JSON.stringify,nf=f.JSON.parse,pu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function gu(){}function yu(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){D.call(this,"d")}w(zt,D);function xn(){D.call(this,"c")}w(xn,D);var mt={},_u=null;function da(){return _u=_u||new Et}mt.Ia="serverreachability";function vu(c){D.call(this,mt.Ia,c)}w(vu,D);function ri(c){const m=da();Mt(m,new vu(m))}mt.STAT_EVENT="statevent";function Er(c,m){D.call(this,mt.STAT_EVENT,c),this.stat=m}w(Er,D);function bt(c){const m=da();Mt(m,new Er(m,c))}mt.Ja="timingevent";function ai(c,m){D.call(this,mt.Ja,c),this.size=m}w(ai,D);function oi(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},m)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function sf(c,m,E,A,U,F){c.info(function(){if(c.g)if(F){var ne="",Se=F.split("&");for(let Ge=0;Ge<Se.length;Ge++){var pt=Se[Ge].split("=");if(pt.length>1){const lt=pt[0];pt=pt[1];const In=lt.split("_");ne=In.length>=2&&In[1]=="type"?ne+(lt+"="+pt+"&"):ne+(lt+"=redacted&")}}}else ne=null;else ne=F;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+m+`
`+E+`
`+ne})}function Eu(c,m,E,A,U,F,ne){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+m+`
`+E+`
`+F+" "+ne})}function li(c,m,E,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+rf(c,E)+(A?" "+A:"")})}function br(c,m){c.info(function(){return"TIMEOUT: "+m})}qn.prototype.info=function(){};function rf(c,m){if(!c.g)return m;if(!m)return null;try{const F=JSON.parse(m);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var E=F[c];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var U=A[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ne=1;ne<A.length;ne++)A[ne]=""}}}}return ys(F)}catch{return m}}var Tr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Do={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Oo;function Ar(){}w(Ar,gu),Ar.prototype.g=function(){return new XMLHttpRequest},Oo=new Ar;function Li(c){return encodeURIComponent(String(c))}function bu(c){var m=1;c=c.split(":");const E=[];for(;m>0&&c.length;)E.push(c.shift()),m--;return c.length&&E.push(c.join(":")),E}function Fn(c,m,E,A){this.j=c,this.i=m,this.l=E,this.S=A||1,this.V=new vr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var Tt={},jt={};function ui(c,m,E){c.M=1,c.A=wr(wt(m)),c.u=E,c.R=!0,ma(c,null)}function ma(c,m){c.F=Date.now(),ci(c),c.B=wt(c.A);var E=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),_a(E.i,"t",A),c.C=0,E=c.j.L,c.h=new Hn,c.g=ju(c.j,E?m:null,!c.u),c.P>0&&(c.O=new en(y(c.Y,c,c.g),c.P)),m=c.V,E=c.g,A=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(No[0]=U.toString()),U=No);for(let F=0;F<U.length;F++){const ne=ot(E,U[F],A||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ri(),sf(c.i,c.v,c.B,c.l,c.S,c.u)}Fn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Kn(c)==3?m.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)e:{const Se=Kn(this.g),pt=this.g.ya(),Ge=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||Se!=4||pt==7||(pt==8||Ge<=0?ri(3):ri(2)),hi(this);var m=this.g.ca();this.X=m;var E=af(this);if(this.o=m==200,Eu(this.i,this.v,this.B,this.l,this.S,Se,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,U=this.g;if((A=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(A)){var F=A;break t}}F=null}if(c=F)li(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fi(this,c);else{this.o=!1,this.m=3,bt(12),pn(this),Rn(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<E.length;)if(lt=Au(this,E),lt==jt){Se==4&&(this.m=4,bt(14),c=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==Tt){this.m=4,bt(15),li(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else li(this.i,this.l,lt,null),fi(this,lt);if(Tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||E.length!=0||this.h.h||(this.m=1,bt(16),c=!1),this.o=this.o&&c,!c)li(this.i,this.l,E,"[Invalid Chunked Response]"),pn(this),Rn(this);else if(E.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Ko(ne),ne.P=!0,bt(11))}}else li(this.i,this.l,E,null),fi(this,E);Se==4&&pn(this),this.o&&!this.K&&(Se==4?Ou(this.j,this):(this.o=!1,ci(this)))}else Bi(this.g),m==400&&E.indexOf("Unknown SID")>0?(this.m=3,bt(12)):(this.m=0,bt(13)),pn(this),Rn(this)}}}catch{}finally{}};function af(c){if(!Tu(c))return c.g.la();const m=Bt(c.g);if(m==="")return"";let E="";const A=m.length,U=Kn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),Rn(c),"";c.h.i=new f.TextDecoder}for(let F=0;F<A;F++)c.h.h=!0,E+=c.h.i.decode(m[F],{stream:!(U&&F==A-1)});return m.length=0,c.h.g+=E,c.C=0,c.h.g}function Tu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Au(c,m){var E=c.C,A=m.indexOf(`
`,E);return A==-1?jt:(E=Number(m.substring(E,A)),isNaN(E)?Tt:(A+=1,A+E>m.length?jt:(m=m.slice(A,A+E),c.C=A+E,m)))}Fn.prototype.cancel=function(){this.K=!0,pn(this)};function ci(c){c.T=Date.now()+c.H,pa(c,c.H)}function pa(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=oi(y(c.aa,c),m)}function hi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Fn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(br(this.i,this.B),this.M!=2&&(ri(),bt(17)),pn(this),this.m=2,Rn(this)):pa(this,this.T-c)};function Rn(c){c.j.I==0||c.K||Ou(c.j,c)}function pn(c){hi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,Io(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function fi(c,m){try{var E=c.j;if(E.I!=0&&(E.g==c||mi(E.h,c))){if(!c.L&&mi(E.h,c)&&E.I==3){try{var A=E.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Aa(E),Ss(E);else break e;Dr(E),bt(18)}}else E.xa=U[1],0<E.xa-E.K&&U[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=oi(y(E.Va,E),6e3));di(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ei(E,11)}else if((c.L||E.g==c)&&Aa(E),!x(m))for(U=E.Ba.g.parse(m),m=0;m<U.length;m++){let Ge=U[m];const lt=Ge[0];if(!(lt<=E.K))if(E.K=lt,Ge=Ge[1],E.I==2)if(Ge[0]=="c"){E.M=Ge[1],E.ba=Ge[2];const In=Ge[3];In!=null&&(E.ka=In,E.j.info("VER="+E.ka));const bi=Ge[4];bi!=null&&(E.za=bi,E.j.info("SVER="+E.za));const Yn=Ge[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(A=1.5*Yn,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const Xn=c.g;if(Xn){const Or=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Or){var F=A.h;F.g||Or.indexOf("spdy")==-1&&Or.indexOf("quic")==-1&&Or.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(ko(F,F.h),F.h=null))}if(A.G){const wa=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;wa&&(A.wa=wa,Xe(A.J,A.G,wa))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var ne=c;if(A.na=ku(A,A.L?A.ba:null,A.W),ne.L){jo(A.h,ne);var Se=ne,pt=A.O;pt&&(Se.H=pt),Se.D&&(hi(Se),ci(Se)),A.g=ne}else Iu(A);E.i.length>0&&vi(E)}else Ge[0]!="stop"&&Ge[0]!="close"||Ei(E,7);else E.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Ei(E,7):Go(E):Ge[0]!="noop"&&E.l&&E.l.qa(Ge),E.A=0)}}ri(4)}catch{}}var At=class{constructor(c,m){this.g=c,this.map=m}};function Mo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function di(c){return c.h?1:c.g?c.g.size:0}function mi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function ko(c,m){c.g?c.g.add(m):c.h=m}function jo(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Mo.prototype.cancel=function(){if(this.i=Po(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Po(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const E of c.g.values())m=m.concat(E.G);return m}return q(c.i)}var wu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ga(c,m){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const A=c[E].indexOf("=");let U,F=null;A>=0?(U=c[E].substring(0,A),F=c[E].substring(A+1)):U=c[E],m(U,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof gn?(this.l=c.l,Pt(this,c.j),this.o=c.o,this.g=c.g,_s(this,c.u),this.h=c.h,Uo(this,Cu(c.i)),this.m=c.m):c&&(m=String(c).match(wu))?(this.l=!1,Pt(this,m[1]||"",!0),this.o=pi(m[2]||""),this.g=pi(m[3]||"",!0),_s(this,m[4]),this.h=pi(m[5]||"",!0),Uo(this,m[6]||"",!0),this.m=pi(m[7]||"")):(this.l=!1,this.i=new Es(null,this.l))}gn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(Sr(m,ya,!0),":");var E=this.g;return(E||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Sr(m,ya,!0),"@"),c.push(Li(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Sr(E,E.charAt(0)=="/"?Lo:Su,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Sr(E,xu)),c.join("")},gn.prototype.resolve=function(c){const m=wt(this);let E=!!c.j;E?Pt(m,c.j):E=!!c.o,E?m.o=c.o:E=!!c.g,E?m.g=c.g:E=c.u!=null;var A=c.h;if(E)_s(m,c.u);else if(E=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var U=m.h.lastIndexOf("/");U!=-1&&(A=m.h.slice(0,U+1)+A)}if(U=A,U==".."||U==".")A="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){A=U.lastIndexOf("/",0)==0,U=U.split("/");const F=[];for(let ne=0;ne<U.length;){const Se=U[ne++];Se=="."?A&&ne==U.length&&F.push(""):Se==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),A&&ne==U.length&&F.push("")):(F.push(Se),A=!0)}A=F.join("/")}else A=U}return E?m.h=A:E=c.i.toString()!=="",E?Uo(m,Cu(c.i)):E=!!c.m,E&&(m.m=c.m),m};function wt(c){return new gn(c)}function Pt(c,m,E){c.j=E?pi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function _s(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Uo(c,m,E){m instanceof Es?(c.i=m,va(c.i,c.l)):(E||(m=Sr(m,vs)),c.i=new Es(m,c.l))}function Xe(c,m,E){c.i.set(m,E)}function wr(c){return Xe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function pi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Sr(c,m,E){return typeof c=="string"?(c=encodeURI(c).replace(m,rn),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ya=/[#\/\?@]/g,Su=/[#\?:]/g,Lo=/[#\?]/g,vs=/[#\?@]/g,xu=/#/g;function Es(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function an(c){c.g||(c.g=new Map,c.h=0,c.i&&ga(c.i,function(m,E){c.add(decodeURIComponent(m.replace(/\+/g," ")),E)}))}s=Es.prototype,s.add=function(c,m){an(this),this.i=null,c=bs(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(m),this.h+=1,this};function Ru(c,m){an(c),m=bs(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function zo(c,m){return an(c),m=bs(c,m),c.g.has(m)}s.forEach=function(c,m){an(this),this.g.forEach(function(E,A){E.forEach(function(U){c.call(m,U,A,this)},this)},this)};function Bo(c,m){an(c);let E=[];if(typeof m=="string")zo(c,m)&&(E=E.concat(c.g.get(bs(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)E=E.concat(c[m]);return E}s.set=function(c,m){return an(this),this.i=null,c=bs(this,c),zo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=Bo(this,c),c.length>0?String(c[0]):m):m};function _a(c,m,E){Ru(c,m),E.length>0&&(c.i=null,c.g.set(bs(c,m),q(E)),c.h+=E.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var E=m[A];const U=Li(E);E=Bo(this,E);for(let F=0;F<E.length;F++){let ne=U;E[F]!==""&&(ne+="="+Li(E[F])),c.push(ne)}}return this.i=c.join("&")};function Cu(c){const m=new Es;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function bs(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function va(c,m){m&&!c.j&&(an(c),c.i=null,c.g.forEach(function(E,A){const U=A.toLowerCase();A!=U&&(Ru(this,A),_a(this,U,E))},c)),c.j=m}function Gn(c,m){const E=new qn;if(f.Image){const A=new Image;A.onload=T(Cn,E,"TestLoadImage: loaded",!0,m,A),A.onerror=T(Cn,E,"TestLoadImage: error",!1,m,A),A.onabort=T(Cn,E,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(Cn,E,"TestLoadImage: timeout",!1,m,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function qo(c,m){const E=new qn,A=new AbortController,U=setTimeout(()=>{A.abort(),Cn(E,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(F=>{clearTimeout(U),F.ok?Cn(E,"TestPingServer: ok",!0,m):Cn(E,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Cn(E,"TestPingServer: error",!1,m)})}function Cn(c,m,E,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(E)}catch{}}function Ts(){this.g=new pu}function gi(c){this.i=c.Sb||null,this.h=c.ab||!1}w(gi,gu),gi.prototype.g=function(){return new xr(this.i,this.h)};function xr(c,m){Et.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(xr,Et),s=xr.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Qn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,As(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ea(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ea(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?As(this):Qn(this),this.readyState==3&&Ea(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,As(this))},s.Na=function(c){this.g&&(this.response=c,As(this))},s.ga=function(){this.g&&As(this)};function As(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Qn(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var E=m.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=m.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nn(c){let m="";return Ee(c,function(E,A){m+=A,m+=":",m+=E,m+=`\r
`}),m}function Rr(c,m,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=Nn(E),typeof c=="string"?E!=null&&Li(E):Xe(c,m,E))}function Ze(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Ze,Et);var yi=/^https?$/i,Fo=["POST","PUT"];s=Ze.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Oo.g(),this.g.onreadystatechange=N(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(F){Cr(this,F);return}if(c=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)E.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())E.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(F=>F.toLowerCase()=="content-type"),U=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Fo,m,void 0)>=0)||A||U||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ne]of E)this.g.setRequestHeader(F,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(F){Cr(this,F)}};function Cr(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Ho(c),zi(c)}function Ho(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Mt(this,"complete"),Mt(this,"abort"),zi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),Ze.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Nr(this):this.Xa())},s.Xa=function(){Nr(this)};function Nr(c){if(c.h&&typeof u<"u"){if(c.v&&Kn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Mt(c,"readystatechange"),Kn(c)==4){c.h=!1;try{const F=c.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var E;if(!(E=m)){var A;if(A=F===0){let ne=String(c.D).match(wu)[1]||null;!ne&&f.self&&f.self.location&&(ne=f.self.location.protocol.slice(0,-1)),A=!yi.test(ne?ne.toLowerCase():"")}E=A}if(E)Mt(c,"complete"),Mt(c,"success");else{c.o=6;try{var U=Kn(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",Ho(c)}}finally{zi(c)}}}}function zi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,m||Mt(c,"ready");try{E.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Kn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),nf(m)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(c){const m={};c=(c.g&&Kn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(x(c[A]))continue;var E=bu(c[A]);const U=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const F=m[U]||[];m[U]=F,F.push(E)}Ne(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _i(c,m,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||m}function ws(c){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_i("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_i("baseRetryDelayMs",5e3,c),this.Za=_i("retryDelaySeedMs",1e4,c),this.Ta=_i("forwardChannelMaxRetries",2,c),this.va=_i("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Mo(c&&c.concurrentRequestLimit),this.Ba=new Ts,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ws.prototype,s.ka=8,s.I=1,s.connect=function(c,m,E,A){bt(0),this.W=c,this.H=m||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=ku(this,null,this.W),vi(this)};function Go(c){if(ba(c),c.I==3){var m=c.V++,E=wt(c.J);if(Xe(E,"SID",c.M),Xe(E,"RID",m),Xe(E,"TYPE","terminate"),Ir(c,E),m=new Fn(c,c.j,m),m.M=2,m.A=wr(wt(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!E&&f.Image&&(new Image().src=m.A,E=!0),E||(m.g=ju(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ci(m)}Vu(c)}function Ss(c){c.g&&(Ko(c),c.g.cancel(),c.g=null)}function ba(c){Ss(c),c.v&&(f.clearTimeout(c.v),c.v=null),Aa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function vi(c){if(!Vo(c.h)&&!c.m){c.m=!0;var m=c.Ea;Pe||S(),we||(Pe(),we=!0),I.add(m,c),c.D=0}}function Ta(c,m){return di(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=oi(y(c.Ea,c,m),Mu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new Fn(this,this.j,c);let F=this.o;if(this.U&&(F?(F=M(F),te(F,this.U)):F=this.U),this.u!==null||this.R||(U.J=F,F=null),this.S)e:{for(var m=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=E;break e}if(m===4096||E===this.i.length-1){m=E+1;break e}}m=1e3}else m=1e3;m=Nu(this,U,m),E=wt(this.J),Xe(E,"RID",c),Xe(E,"CVER",22),this.G&&Xe(E,"X-HTTP-Session-Id",this.G),Ir(this,E),F&&(this.R?m="headers="+Li(Nn(F))+"&"+m:this.u&&Rr(E,this.u,F)),ko(this.h,U),this.Ra&&Xe(E,"TYPE","init"),this.S?(Xe(E,"$req",m),Xe(E,"SID","null"),U.U=!0,ui(U,E,null)):ui(U,E,m),this.I=2}}else this.I==3&&(c?Qo(this,c):this.i.length==0||Vo(this.h)||Qo(this))};function Qo(c,m){var E;m?E=m.l:E=c.V++;const A=wt(c.J);Xe(A,"SID",c.M),Xe(A,"RID",E),Xe(A,"AID",c.K),Ir(c,A),c.u&&c.o&&Rr(A,c.u,c.o),E=new Fn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Nu(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ko(c.h,E),ui(E,A,m)}function Ir(c,m){c.H&&Ee(c.H,function(E,A){Xe(m,A,E)}),c.l&&Ee({},function(E,A){Xe(m,A,E)})}function Nu(c,m,E){E=Math.min(c.i.length,E);const A=c.l?y(c.l.Ka,c.l,c):null;e:{var U=c.i;let Se=-1;for(;;){const pt=["count="+E];Se==-1?E>0?(Se=U[0].g,pt.push("ofs="+Se)):Se=0:pt.push("ofs="+Se);let Ge=!0;for(let lt=0;lt<E;lt++){var F=U[lt].g;const In=U[lt].map;if(F-=Se,F<0)Se=Math.max(0,U[lt].g-100),Ge=!1;else try{F="req"+F+"_"||"";try{var ne=In instanceof Map?In:Object.entries(In);for(const[bi,Yn]of ne){let Xn=Yn;g(Yn)&&(Xn=ys(Yn)),pt.push(F+bi+"="+encodeURIComponent(Xn))}}catch(bi){throw pt.push(F+"type="+encodeURIComponent("_badmap")),bi}}catch{A&&A(In)}}if(Ge){ne=pt.join("&");break e}}ne=void 0}return c=c.i.splice(0,E),m.G=c,ne}function Iu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;Pe||S(),we||(Pe(),we=!0),I.add(m,c),c.A=0}}function Dr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=oi(y(c.Da,c),Mu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Du(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=oi(y(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bt(10),Ss(this),Du(this))};function Ko(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Du(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=wt(c.na);Xe(m,"RID","rpc"),Xe(m,"SID",c.M),Xe(m,"AID",c.K),Xe(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Xe(m,"TO",c.ia),Xe(m,"TYPE","xmlhttp"),Ir(c,m),c.u&&c.o&&Rr(m,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=wr(wt(m)),E.u=null,E.R=!0,ma(E,c)}s.Va=function(){this.C!=null&&(this.C=null,Ss(this),Dr(this),bt(19))};function Aa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Ou(c,m){var E=null;if(c.g==m){Aa(c),Ko(c),c.g=null;var A=2}else if(mi(c.h,m))E=m.G,jo(c.h,m),A=1;else return;if(c.I!=0){if(m.o)if(A==1){E=m.u?m.u.length:0,m=Date.now()-m.F;var U=c.D;A=da(),Mt(A,new ai(A,E)),vi(c)}else Iu(c);else if(U=m.m,U==3||U==0&&m.X>0||!(A==1&&Ta(c,m)||A==2&&Dr(c)))switch(E&&E.length>0&&(m=c.h,m.i=m.i.concat(E)),U){case 1:Ei(c,5);break;case 4:Ei(c,10);break;case 3:Ei(c,6);break;default:Ei(c,2)}}}function Mu(c,m){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*m}function Ei(c,m){if(c.j.info("Error code "+m),m==2){var E=y(c.bb,c),A=c.Ua;const U=!A;A=new gn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Pt(A,"https"),wr(A),U?Gn(A.toString(),E):qo(A.toString(),E)}else bt(2);c.I=0,c.l&&c.l.pa(m),Vu(c),ba(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function Vu(c){if(c.I=0,c.ja=[],c.l){const m=Po(c.h);(m.length!=0||c.i.length!=0)&&(G(c.ja,m),G(c.ja,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.oa()}}function ku(c,m,E){var A=E instanceof gn?wt(E):new gn(E);if(A.g!="")m&&(A.g=m+"."+A.g),_s(A,A.u);else{var U=f.location;A=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const F=new gn(null);A&&Pt(F,A),m&&(F.g=m),U&&_s(F,U),E&&(F.h=E),A=F}return E=c.G,m=c.wa,E&&m&&Xe(A,E,m),Xe(A,"VER",c.ka),Ir(c,A),A}function ju(c,m,E){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Ze(new gi({ab:E})):new Ze(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pu(){}s=Pu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function xs(){}xs.prototype.g=function(c,m){return new tn(c,m)};function tn(c,m){Et.call(this),this.g=new ws(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!x(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new qi(this)}w(tn,Et),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Go(this.g)},tn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=ys(c),c=E);m.i.push(new At(m.Ya++,c)),m.I==3&&vi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Go(this.g),delete this.g,tn.Z.N.call(this)};function Uu(c){zt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const E in m){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}w(Uu,zt);function Lu(){xn.call(this),this.status=1}w(Lu,xn);function qi(c){this.g=c}w(qi,Pu),qi.prototype.ra=function(){Mt(this.g,"a")},qi.prototype.qa=function(c){Mt(this.g,new Uu(c))},qi.prototype.pa=function(c){Mt(this.g,new Lu)},qi.prototype.oa=function(){Mt(this.g,"b")},xs.prototype.createWebChannel=xs.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,y1=function(){return new xs},g1=function(){return da()},p1=mt,Rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Tr.NO_ERROR=0,Tr.TIMEOUT=8,Tr.HTTP_ERROR=6,eh=Tr,Do.COMPLETE="complete",m1=Do,yu.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Vl=yu,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,d1=Ze}).apply(typeof Hc<"u"?Hc:typeof self<"u"?self:typeof window<"u"?window:{});const a0="@firebase/firestore",o0="4.9.2";class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");let Eo="12.3.0";const sa=new $m("@firebase/firestore");function eo(){return sa.logLevel}function oe(s,...e){if(sa.logLevel<=Ve.DEBUG){const n=e.map(up);sa.debug(`Firestore (${Eo}): ${s}`,...n)}}function fs(s,...e){if(sa.logLevel<=Ve.ERROR){const n=e.map(up);sa.error(`Firestore (${Eo}): ${s}`,...n)}}function ho(s,...e){if(sa.logLevel<=Ve.WARN){const n=e.map(up);sa.warn(`Firestore (${Eo}): ${s}`,...n)}}function up(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function _e(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,_1(s,r,n)}function _1(s,e,n){let r=`FIRESTORE (${Eo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw fs(r),new Error(r)}function Ke(s,e,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||_1(e,l,r)}function Ae(s,e){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends ji{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class us{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class v1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jt.UNAUTHENTICATED)))}shutdown(){}}class HR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class GR{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let r=this.i;const l=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let u=new us;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new us,e.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},g=p=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new us)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string",31837,{l:r}),new v1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class QR{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class KR{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new QR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class l0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const r=u=>{u.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,oe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const l=u=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new l0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new l0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function XR(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class cp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=XR(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<n&&(r+=e.charAt(l[u]%62))}return r}}function ke(s,e){return s<e?-1:s>e?1:0}function Cm(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const l=s.charAt(r),u=e.charAt(r);if(l!==u)return dm(l)===dm(u)?ke(l,u):dm(l)?1:-1}return ke(s.length,e.length)}const $R=55296,JR=57343;function dm(s){const e=s.charCodeAt(0);return e>=$R&&e<=JR}function fo(s,e,n){return s.length===e.length&&s.every(((r,l)=>n(r,e[l])))}const u0="__name__";class xi{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let l=0;l<r;l++){const u=xi.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return ke(e.length,n.length)}static compareSegments(e,n){const r=xi.isNumericId(e),l=xi.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?xi.extractNumericId(e).compare(xi.extractNumericId(n)):Cm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ir.fromString(e.substring(4,e.length-2))}}class it extends xi{construct(e,n,r){return new it(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const ZR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends xi{construct(e,n,r){return new Kt(e,n,r)}static isValidIdentifier(e){return ZR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===u0}static keyField(){return new Kt([u0])}static fromServerFormat(e){const n=[];let r="",l=0;const u=()=>{if(r.length===0)throw new se($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new se($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new se($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,l+=2}else g==="`"?(f=!f,l++):g!=="."||f?(r+=g,l++):(u(),l++)}if(u(),f)throw new se($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(it.fromString(e))}static fromName(e){return new me(it.fromString(e).popFirst(5))}static empty(){return new me(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new it(e.slice()))}}function E1(s,e,n){if(!n)throw new se($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function WR(s,e,n,r){if(e===!0&&r===!0)throw new se($.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function c0(s){if(!me.isDocumentKey(s))throw new se($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function h0(s){if(me.isDocumentKey(s))throw new se($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function b1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function jh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":_e(12329,{type:typeof s})}function Sn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new se($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jh(s);throw new se($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function Dt(s,e){const n={typeString:s};return e&&(n.value=e),n}function lu(s,e){if(!b1(s))throw new se($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const l=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(l&&typeof f!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new se($.INVALID_ARGUMENT,n);return!0}const f0=-62135596800,d0=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*d0);return new at(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<f0)throw new se($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/d0}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lu(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-f0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Dt("string",at._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new at(0,0))}static max(){return new be(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Yl=-1;function eC(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=be.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new or(l,me.empty(),e)}function tC(s){return new or(s.readTime,s.key,Yl)}class or{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new or(be.min(),me.empty(),Yl)}static max(){return new or(be.max(),me.empty(),Yl)}}function nC(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(s.documentKey,e.documentKey),n!==0?n:ke(s.largestBatchId,e.largestBatchId))}const iC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function bo(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==iC)throw s;oe("LocalStore","Unexpectedly lost primary lease")}class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):W.reject(n)}static resolve(e){return new W(((n,r)=>{n(e)}))}static reject(e){return new W(((n,r)=>{r(e)}))}static waitFor(e){return new W(((n,r)=>{let l=0,u=0,f=!1;e.forEach((g=>{++l,g.next((()=>{++u,f&&u===l&&n()}),(p=>r(p)))})),f=!0,u===l&&n()}))}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next((l=>l?W.resolve(l):r()));return n}static forEach(e,n){const r=[];return e.forEach(((l,u)=>{r.push(n.call(this,l,u))})),this.waitFor(r)}static mapArray(e,n){return new W(((r,l)=>{const u=e.length,f=new Array(u);let g=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next((T=>{f[y]=T,++g,g===u&&r(f)}),(T=>l(T)))}}))}static doWhile(e,n){return new W(((r,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):r()};u()}))}}function rC(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function To(s){return s.name==="IndexedDbTransactionError"}class Ph{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ph.ce=-1;const hp=-1;function Uh(s){return s==null}function yh(s){return s===0&&1/s==-1/0}function aC(s){return typeof s=="number"&&Number.isInteger(s)&&!yh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const T1="";function oC(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=m0(e)),e=lC(s.get(n),e);return m0(e)}function lC(s,e){let n=e;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":n+="";break;case T1:n+="";break;default:n+=u}}return n}function m0(s){return s+T1+""}function p0(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function mr(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function A1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ct{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gc(this.root,e,this.comparator,!0)}}class Gc{constructor(e,n,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,r,l,u){this.key=e,this.value=n,this.color=r??Qt.RED,this.left=l??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,l,u){return new Qt(e??this.key,n??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let l=this;const u=r(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,r),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Qt.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,r,l,u){return this}insert(e,n,r){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new g0(this.data.getIterator())}getIteratorFrom(e){return new g0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class g0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new wn([])}unionWith(e){let n=new kt(Kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class w1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new w1("Invalid base64 string: "+u):u}})(e);return new Yt(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u})(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const uC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lr(s){if(Ke(!!s,39018),typeof s=="string"){let e=0;const n=uC.exec(s);if(Ke(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(s.seconds),nanos:_t(s.nanos)}}function _t(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ur(s){return typeof s=="string"?Yt.fromBase64String(s):Yt.fromUint8Array(s)}const S1="server_timestamp",x1="__type__",R1="__previous_value__",C1="__local_write_time__";function fp(s){return(s?.mapValue?.fields||{})[x1]?.stringValue===S1}function Lh(s){const e=s.mapValue.fields[R1];return fp(e)?Lh(e):e}function Xl(s){const e=lr(s.mapValue.fields[C1].timestampValue);return new at(e.seconds,e.nanos)}class cC{constructor(e,n,r,l,u,f,g,p,y,T){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=T}}const _h="(default)";class $l{constructor(e,n){this.projectId=e,this.database=n||_h}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===_h}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}const N1="__type__",hC="__max__",Qc={mapValue:{}},I1="__vector__",vh="value";function cr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?fp(s)?4:dC(s)?9007199254740991:fC(s)?10:11:_e(28295,{value:s})}function Vi(s,e){if(s===e)return!0;const n=cr(s);if(n!==cr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Xl(s).isEqual(Xl(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=lr(l.timestampValue),g=lr(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,u){return ur(l.bytesValue).isEqual(ur(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,u){return _t(l.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(l.geoPointValue.longitude)===_t(u.geoPointValue.longitude)})(s,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return _t(l.integerValue)===_t(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=_t(l.doubleValue),g=_t(u.doubleValue);return f===g?yh(f)===yh(g):isNaN(f)&&isNaN(g)}return!1})(s,e);case 9:return fo(s.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:case 11:return(function(l,u){const f=l.mapValue.fields||{},g=u.mapValue.fields||{};if(p0(f)!==p0(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!Vi(f[p],g[p])))return!1;return!0})(s,e);default:return _e(52216,{left:s})}}function Jl(s,e){return(s.values||[]).find((n=>Vi(n,e)))!==void 0}function mo(s,e){if(s===e)return 0;const n=cr(s),r=cr(e);if(n!==r)return ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(s.booleanValue,e.booleanValue);case 2:return(function(u,f){const g=_t(u.integerValue||u.doubleValue),p=_t(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(s,e);case 3:return y0(s.timestampValue,e.timestampValue);case 4:return y0(Xl(s),Xl(e));case 5:return Cm(s.stringValue,e.stringValue);case 6:return(function(u,f){const g=ur(u),p=ur(f);return g.compareTo(p)})(s.bytesValue,e.bytesValue);case 7:return(function(u,f){const g=u.split("/"),p=f.split("/");for(let y=0;y<g.length&&y<p.length;y++){const T=ke(g[y],p[y]);if(T!==0)return T}return ke(g.length,p.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,f){const g=ke(_t(u.latitude),_t(f.latitude));return g!==0?g:ke(_t(u.longitude),_t(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return _0(s.arrayValue,e.arrayValue);case 10:return(function(u,f){const g=u.fields||{},p=f.fields||{},y=g[vh]?.arrayValue,T=p[vh]?.arrayValue,w=ke(y?.values?.length||0,T?.values?.length||0);return w!==0?w:_0(y,T)})(s.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Qc.mapValue&&f===Qc.mapValue)return 0;if(u===Qc.mapValue)return 1;if(f===Qc.mapValue)return-1;const g=u.fields||{},p=Object.keys(g),y=f.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let w=0;w<p.length&&w<T.length;++w){const N=Cm(p[w],T[w]);if(N!==0)return N;const q=mo(g[p[w]],y[T[w]]);if(q!==0)return q}return ke(p.length,T.length)})(s.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function y0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return ke(s,e);const n=lr(s),r=lr(e),l=ke(n.seconds,r.seconds);return l!==0?l:ke(n.nanos,r.nanos)}function _0(s,e){const n=s.values||[],r=e.values||[];for(let l=0;l<n.length&&l<r.length;++l){const u=mo(n[l],r[l]);if(u)return u}return ke(n.length,r.length)}function po(s){return Nm(s)}function Nm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=lr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return ur(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return me.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",l=!0;for(const u of n.values||[])l?l=!1:r+=",",r+=Nm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of r)u?u=!1:l+=",",l+=`${f}:${Nm(n.fields[f])}`;return l+"}"})(s.mapValue):_e(61005,{value:s})}function th(s){switch(cr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lh(s);return e?16+th(e):16;case 5:return 2*s.stringValue.length;case 6:return ur(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+th(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return mr(r.fields,((u,f)=>{l+=u.length+th(f)})),l})(s.mapValue);default:throw _e(13486,{value:s})}}function v0(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Im(s){return!!s&&"integerValue"in s}function dp(s){return!!s&&"arrayValue"in s}function E0(s){return!!s&&"nullValue"in s}function b0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function nh(s){return!!s&&"mapValue"in s}function fC(s){return(s?.mapValue?.fields||{})[N1]?.stringValue===I1}function ql(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return mr(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=ql(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ql(s.arrayValue.values[n]);return e}return{...s}}function dC(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===hC}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!nh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ql(n)}setAll(e){let n=Kt.emptyPath(),r={},l=[];e.forEach(((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,r,l),r={},l=[],n=g.popLast()}f?r[g.lastSegment()]=ql(f):l.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,l)}delete(e){const n=this.field(e.popLast());nh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=n.mapValue.fields[e.get(r)];nh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,r){mr(n,((l,u)=>e[l]=u));for(const l of r)delete e[l]}clone(){return new mn(ql(this.value))}}function D1(s){const e=[];return mr(s.fields,((n,r)=>{const l=new Kt([n]);if(nh(r)){const u=D1(r.mapValue).fields;if(u.length===0)e.push(l);else for(const f of u)e.push(l.child(f))}else e.push(l)})),new wn(e)}class Zt{constructor(e,n,r,l,u,f,g){this.key=e,this.documentType=n,this.version=r,this.readTime=l,this.createTime=u,this.data=f,this.documentState=g}static newInvalidDocument(e){return new Zt(e,0,be.min(),be.min(),be.min(),mn.empty(),0)}static newFoundDocument(e,n,r,l){return new Zt(e,1,n,be.min(),r,l,0)}static newNoDocument(e,n){return new Zt(e,2,n,be.min(),be.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,be.min(),be.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Eh{constructor(e,n){this.position=e,this.inclusive=n}}function T0(s,e,n){let r=0;for(let l=0;l<s.position.length;l++){const u=e[l],f=s.position[l];if(u.field.isKeyField()?r=me.comparator(me.fromName(f.referenceValue),n.key):r=mo(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function A0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Vi(s.position[n],e.position[n]))return!1;return!0}class Zl{constructor(e,n="asc"){this.field=e,this.dir=n}}function mC(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class O1{}class It extends O1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new gC(e,n,r):n==="array-contains"?new vC(e,r):n==="in"?new EC(e,r):n==="not-in"?new bC(e,r):n==="array-contains-any"?new TC(e,r):new It(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new yC(e,r):new _C(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(mo(n,this.value)):n!==null&&cr(this.value)===cr(n)&&this.matchesComparison(mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends O1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ii(e,n)}matches(e){return M1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function M1(s){return s.op==="and"}function V1(s){return pC(s)&&M1(s)}function pC(s){for(const e of s.filters)if(e instanceof ii)return!1;return!0}function Dm(s){if(s instanceof It)return s.field.canonicalString()+s.op.toString()+po(s.value);if(V1(s))return s.filters.map((e=>Dm(e))).join(",");{const e=s.filters.map((n=>Dm(n))).join(",");return`${s.op}(${e})`}}function k1(s,e){return s instanceof It?(function(r,l){return l instanceof It&&r.op===l.op&&r.field.isEqual(l.field)&&Vi(r.value,l.value)})(s,e):s instanceof ii?(function(r,l){return l instanceof ii&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,f,g)=>u&&k1(f,l.filters[g])),!0):!1})(s,e):void _e(19439)}function j1(s){return s instanceof It?(function(n){return`${n.field.canonicalString()} ${n.op} ${po(n.value)}`})(s):s instanceof ii?(function(n){return n.op.toString()+" {"+n.getFilters().map(j1).join(" ,")+"}"})(s):"Filter"}class gC extends It{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class yC extends It{constructor(e,n){super(e,"in",n),this.keys=P1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class _C extends It{constructor(e,n){super(e,"not-in",n),this.keys=P1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function P1(s,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class vC extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return dp(n)&&Jl(n.arrayValue,this.value)}}class EC extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jl(this.value.arrayValue,n)}}class bC extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jl(this.value.arrayValue,n)}}class TC extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!dp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Jl(this.value.arrayValue,r)))}}class AC{constructor(e,n=null,r=[],l=[],u=null,f=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=f,this.endAt=g,this.Te=null}}function w0(s,e=null,n=[],r=[],l=null,u=null,f=null){return new AC(s,e,n,r,l,u,f)}function mp(s){const e=Ae(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Dm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>po(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>po(r))).join(",")),e.Te=n}return e.Te}function pp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!mC(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!k1(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!A0(s.startAt,e.startAt)&&A0(s.endAt,e.endAt)}function Om(s){return me.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Ao{constructor(e,n=null,r=[],l=[],u=null,f="F",g=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function wC(s,e,n,r,l,u,f,g){return new Ao(s,e,n,r,l,u,f,g)}function zh(s){return new Ao(s)}function S0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function U1(s){return s.collectionGroup!==null}function Fl(s){const e=Ae(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new kt(Kt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Zl(u,r))})),n.has(Kt.keyField().canonicalString())||e.Ie.push(new Zl(Kt.keyField(),r))}return e.Ie}function Ii(s){const e=Ae(s);return e.Ee||(e.Ee=SC(e,Fl(s))),e.Ee}function SC(s,e){if(s.limitType==="F")return w0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Zl(l.field,u)}));const n=s.endAt?new Eh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Eh(s.startAt.position,s.startAt.inclusive):null;return w0(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Mm(s,e){const n=s.filters.concat([e]);return new Ao(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function Vm(s,e,n){return new Ao(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Bh(s,e){return pp(Ii(s),Ii(e))&&s.limitType===e.limitType}function L1(s){return`${mp(Ii(s))}|lt:${s.limitType}`}function to(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>j1(l))).join(", ")}]`),Uh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>po(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>po(l))).join(",")),`Target(${r})`})(Ii(s))}; limitType=${s.limitType})`}function qh(s,e){return e.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):me.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,l){for(const u of Fl(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(f,g,p){const y=T0(f,g,p);return f.inclusive?y<=0:y<0})(r.startAt,Fl(r),l)||r.endAt&&!(function(f,g,p){const y=T0(f,g,p);return f.inclusive?y>=0:y>0})(r.endAt,Fl(r),l))})(s,e)}function xC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function z1(s){return(e,n)=>{let r=!1;for(const l of Fl(s)){const u=RC(l,e,n);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function RC(s,e,n){const r=s.field.isKeyField()?me.comparator(e.key,n.key):(function(u,f,g){const p=f.data.field(u),y=g.data.field(u);return p!==null&&y!==null?mo(p,y):_e(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:s.dir})}}class la{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){mr(this.inner,((n,r)=>{for(const[l,u]of r)e(l,u)}))}isEmpty(){return A1(this.inner)}size(){return this.innerSize}}const CC=new ct(me.comparator);function ds(){return CC}const B1=new ct(me.comparator);function kl(...s){let e=B1;for(const n of s)e=e.insert(n.key,n);return e}function q1(s){let e=B1;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Jr(){return Hl()}function F1(){return Hl()}function Hl(){return new la((s=>s.toString()),((s,e)=>s.isEqual(e)))}const NC=new ct(me.comparator),IC=new kt(me.comparator);function je(...s){let e=IC;for(const n of s)e=e.add(n);return e}const DC=new kt(ke);function OC(){return DC}function gp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(e)?"-0":e}}function H1(s){return{integerValue:""+s}}function MC(s,e){return aC(e)?H1(e):gp(s,e)}class Fh{constructor(){this._=void 0}}function VC(s,e,n){return s instanceof Wl?(function(l,u){const f={fields:{[x1]:{stringValue:S1},[C1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&fp(u)&&(u=Lh(u)),u&&(f.fields[R1]=u),{mapValue:f}})(n,e):s instanceof go?Q1(s,e):s instanceof eu?K1(s,e):(function(l,u){const f=G1(l,u),g=x0(f)+x0(l.Ae);return Im(f)&&Im(l.Ae)?H1(g):gp(l.serializer,g)})(s,e)}function kC(s,e,n){return s instanceof go?Q1(s,e):s instanceof eu?K1(s,e):n}function G1(s,e){return s instanceof bh?(function(r){return Im(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class Wl extends Fh{}class go extends Fh{constructor(e){super(),this.elements=e}}function Q1(s,e){const n=Y1(e);for(const r of s.elements)n.some((l=>Vi(l,r)))||n.push(r);return{arrayValue:{values:n}}}class eu extends Fh{constructor(e){super(),this.elements=e}}function K1(s,e){let n=Y1(e);for(const r of s.elements)n=n.filter((l=>!Vi(l,r)));return{arrayValue:{values:n}}}class bh extends Fh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function x0(s){return _t(s.integerValue||s.doubleValue)}function Y1(s){return dp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class X1{constructor(e,n){this.field=e,this.transform=n}}function jC(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof go&&l instanceof go||r instanceof eu&&l instanceof eu?fo(r.elements,l.elements,Vi):r instanceof bh&&l instanceof bh?Vi(r.Ae,l.Ae):r instanceof Wl&&l instanceof Wl})(s.transform,e.transform)}class PC{constructor(e,n){this.version=e,this.transformResults=n}}class ni{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ih(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Hh{}function $1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Z1(s.key,ni.none()):new uu(s.key,s.data,ni.none());{const n=s.data,r=mn.empty();let l=new kt(Kt.comparator);for(let u of e.fields)if(!l.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),l=l.add(u)}return new pr(s.key,r,new wn(l.toArray()),ni.none())}}function UC(s,e,n){s instanceof uu?(function(l,u,f){const g=l.value.clone(),p=C0(l.fieldTransforms,u,f.transformResults);g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(s,e,n):s instanceof pr?(function(l,u,f){if(!ih(l.precondition,u))return void u.convertToUnknownDocument(f.version);const g=C0(l.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(J1(l)),p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(s,e,n):(function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Gl(s,e,n,r){return s instanceof uu?(function(u,f,g,p){if(!ih(u.precondition,f))return g;const y=u.value.clone(),T=N0(u.fieldTransforms,p,f);return y.setAll(T),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(s,e,n,r):s instanceof pr?(function(u,f,g,p){if(!ih(u.precondition,f))return g;const y=N0(u.fieldTransforms,p,f),T=f.data;return T.setAll(J1(u)),T.setAll(y),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(s,e,n,r):(function(u,f,g){return ih(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(s,e,n)}function LC(s,e){let n=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),u=G1(r.transform,l||null);u!=null&&(n===null&&(n=mn.empty()),n.set(r.field,u))}return n||null}function R0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&fo(r,l,((u,f)=>jC(u,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class uu extends Hh{constructor(e,n,r,l=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class pr extends Hh{constructor(e,n,r,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function J1(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function C0(s,e,n){const r=new Map;Ke(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let l=0;l<n.length;l++){const u=s[l],f=u.transform,g=e.data.field(u.field);r.set(u.field,kC(f,g,n[l]))}return r}function N0(s,e,n){const r=new Map;for(const l of s){const u=l.transform,f=n.data.field(l.field);r.set(l.field,VC(u,f,e))}return r}class Z1 extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zC extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class BC{constructor(e,n,r,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&UC(u,e,r[l])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Gl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Gl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=F1();return this.mutations.forEach((l=>{const u=e.get(l.key),f=u.overlayedDocument;let g=this.applyToLocalView(f,u.mutatedFields);g=n.has(l.key)?null:g;const p=$1(f,g);p!==null&&r.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(be.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),je())}isEqual(e){return this.batchId===e.batchId&&fo(this.mutations,e.mutations,((n,r)=>R0(n,r)))&&fo(this.baseMutations,e.baseMutations,((n,r)=>R0(n,r)))}}class yp{constructor(e,n,r,l){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(e,n,r){Ke(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return NC})();const u=e.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,r[f].version);return new yp(e,n,r,l)}}class qC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class FC{constructor(e,n){this.count=e,this.unchangedNames=n}}var Nt,ze;function HC(s){switch(s){case $.OK:return _e(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return _e(15467,{code:s})}}function W1(s){if(s===void 0)return fs("GRPC error has no .code"),$.UNKNOWN;switch(s){case Nt.OK:return $.OK;case Nt.CANCELLED:return $.CANCELLED;case Nt.UNKNOWN:return $.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return $.INTERNAL;case Nt.UNAVAILABLE:return $.UNAVAILABLE;case Nt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Nt.NOT_FOUND:return $.NOT_FOUND;case Nt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Nt.ABORTED:return $.ABORTED;case Nt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Nt.DATA_LOSS:return $.DATA_LOSS;default:return _e(39323,{code:s})}}(ze=Nt||(Nt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";function GC(){return new TextEncoder}const QC=new ir([4294967295,4294967295],0);function I0(s){const e=GC().encode(s),n=new f1;return n.update(e),new Uint8Array(n.digest())}function D0(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ir([n,r],0),new ir([l,u],0)]}class _p{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new jl(`Invalid padding: ${n}`);if(r<0)throw new jl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new jl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ir.fromNumber(this.ge)}ye(e,n,r){let l=e.add(n.multiply(ir.fromNumber(r)));return l.compare(QC)===1&&(l=new ir([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=I0(e),[r,l]=D0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,l,u);if(!this.we(f))return!1}return!0}static create(e,n,r){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new _p(u,l,n);return r.forEach((g=>f.insert(g))),f}insert(e){if(this.ge===0)return;const n=I0(e),[r,l]=D0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,l,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Gh{constructor(e,n,r,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const l=new Map;return l.set(e,cu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gh(be.min(),l,new ct(ke),ds(),je())}}class cu{constructor(e,n,r,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new cu(r,n,je(),je(),je())}}class sh{constructor(e,n,r,l){this.be=e,this.removedTargetIds=n,this.key=r,this.De=l}}class eb{constructor(e,n){this.targetId=e,this.Ce=n}}class tb{constructor(e,n,r=Yt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=l}}class O0{constructor(){this.ve=0,this.Fe=M0(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),n=je(),r=je();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:_e(38017,{changeType:u})}})),new cu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=M0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class KC{constructor(e){this.Ge=e,this.ze=new Map,this.je=ds(),this.Je=Kc(),this.He=Kc(),this.Ye=new ct(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,r=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if(Om(u))if(r===0){const f=new me(u.path);this.et(n,f,Zt.newNoDocument(f,be.min()))}else Ke(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const g=this.ut(e),p=g?this.ct(g,e,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=n;let f,g;try{f=ur(r).toUint8Array()}catch(p){if(p instanceof w1)return ho("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new _p(f,l,u)}catch(p){return ho(p instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((u=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const g=this.ot(f);if(g){if(u.current&&Om(g.target)){const p=new me(g.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Zt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let r=je();this.He.forEach(((u,f)=>{let g=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const l=new Gh(e,n,this.Ye,this.je,r);return this.je=ds(),this.Je=Kc(),this.He=Kc(),this.Ye=new ct(ke),l}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new O0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new kt(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new kt(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new O0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Kc(){return new ct(me.comparator)}function M0(){return new ct(me.comparator)}const YC={asc:"ASCENDING",desc:"DESCENDING"},XC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$C={and:"AND",or:"OR"};class JC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function km(s,e){return s.useProto3Json||Uh(e)?e:{value:e}}function Th(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nb(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function ZC(s,e){return Th(s,e.toTimestamp())}function Di(s){return Ke(!!s,49232),be.fromTimestamp((function(n){const r=lr(n);return new at(r.seconds,r.nanos)})(s))}function vp(s,e){return jm(s,e).canonicalString()}function jm(s,e){const n=(function(l){return new it(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?n:n.child(e)}function ib(s){const e=it.fromString(s);return Ke(lb(e),10190,{key:e.toString()}),e}function Pm(s,e){return vp(s.databaseId,e.path)}function mm(s,e){const n=ib(e);if(n.get(1)!==s.databaseId.projectId)throw new se($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new se($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new me(rb(n))}function sb(s,e){return vp(s.databaseId,e)}function WC(s){const e=ib(s);return e.length===4?it.emptyPath():rb(e)}function Um(s){return new it(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function rb(s){return Ke(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function V0(s,e,n){return{name:Pm(s,e),fields:n.value.mapValue.fields}}function eN(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_e(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(y,T){return y.useProto3Json?(Ke(T===void 0||typeof T=="string",58123),Yt.fromBase64String(T||"")):(Ke(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Yt.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&(function(y){const T=y.code===void 0?$.UNKNOWN:W1(y.code);return new se(T,y.message||"")})(f);n=new tb(r,l,u,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=mm(s,r.document.name),u=Di(r.document.updateTime),f=r.document.createTime?Di(r.document.createTime):be.min(),g=new mn({mapValue:{fields:r.document.fields}}),p=Zt.newFoundDocument(l,u,f,g),y=r.targetIds||[],T=r.removedTargetIds||[];n=new sh(y,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=mm(s,r.document),u=r.readTime?Di(r.readTime):be.min(),f=Zt.newNoDocument(l,u),g=r.removedTargetIds||[];n=new sh([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=mm(s,r.document),u=r.removedTargetIds||[];n=new sh([],u,l,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,f=new FC(l,u),g=r.targetId;n=new eb(g,f)}}return n}function tN(s,e){let n;if(e instanceof uu)n={update:V0(s,e.key,e.value)};else if(e instanceof Z1)n={delete:Pm(s,e.key)};else if(e instanceof pr)n={update:V0(s,e.key,e.data),updateMask:cN(e.fieldMask)};else{if(!(e instanceof zC))return _e(16599,{Vt:e.type});n={verify:Pm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,f){const g=f.transform;if(g instanceof Wl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof go)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof eu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof bh)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw _e(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:ZC(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_e(27497)})(s,e.precondition)),n}function nN(s,e){return s&&s.length>0?(Ke(e!==void 0,14353),s.map((n=>(function(l,u){let f=l.updateTime?Di(l.updateTime):Di(u);return f.isEqual(be.min())&&(f=Di(u)),new PC(f,l.transformResults||[])})(n,e)))):[]}function iN(s,e){return{documents:[sb(s,e.path)]}}function sN(s,e){const n={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sb(s,l);const u=(function(y){if(y.length!==0)return ob(ii.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((T=>(function(N){return{field:no(N.field),direction:oN(N.dir)}})(T)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const g=km(s,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:l}}function rN(s){let e=WC(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){Ke(r===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(w){const N=ab(w);return N instanceof ii&&V1(N)?N.getFilters():[N]})(n.where));let f=[];n.orderBy&&(f=(function(w){return w.map((N=>(function(G){return new Zl(io(G.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(N)))})(n.orderBy));let g=null;n.limit&&(g=(function(w){let N;return N=typeof w=="object"?w.value:w,Uh(N)?null:N})(n.limit));let p=null;n.startAt&&(p=(function(w){const N=!!w.before,q=w.values||[];return new Eh(q,N)})(n.startAt));let y=null;return n.endAt&&(y=(function(w){const N=!w.before,q=w.values||[];return new Eh(q,N)})(n.endAt)),wC(e,l,f,u,g,"F",p,y)}function aN(s,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ab(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=io(n.unaryFilter.field);return It.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=io(n.unaryFilter.field);return It.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=io(n.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=io(n.unaryFilter.field);return It.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(s):s.fieldFilter!==void 0?(function(n){return It.create(io(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return ii.create(n.compositeFilter.filters.map((r=>ab(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(s):_e(30097,{filter:s})}function oN(s){return YC[s]}function lN(s){return XC[s]}function uN(s){return $C[s]}function no(s){return{fieldPath:s.canonicalString()}}function io(s){return Kt.fromServerFormat(s.fieldPath)}function ob(s){return s instanceof It?(function(n){if(n.op==="=="){if(b0(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NAN"}};if(E0(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(b0(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NAN"}};if(E0(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(n.field),op:lN(n.op),value:n.value}}})(s):s instanceof ii?(function(n){const r=n.getFilters().map((l=>ob(l)));return r.length===1?r[0]:{compositeFilter:{op:uN(n.op),filters:r}}})(s):_e(54877,{filter:s})}function cN(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function lb(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Ws{constructor(e,n,r,l,u=be.min(),f=be.min(),g=Yt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new Ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class hN{constructor(e){this.yt=e}}function fN(s){const e=rN({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Vm(e,e.limit,"L"):e}class dN{constructor(){this.Cn=new mN}addToCollectionParentIndex(e,n){return this.Cn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(or.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(or.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class mN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n]||new kt(it.comparator),u=!l.has(r);return this.index[n]=l.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(e){return(this.index[e]||new kt(it.comparator)).toArray()}}const k0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ub=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(ub,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class yo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new yo(0)}static cr(){return new yo(-1)}}const j0="LruGarbageCollector",pN=1048576;function P0([s,e],[n,r]){const l=ke(s,n);return l===0?ke(e,r):l}class gN{constructor(e){this.Ir=e,this.buffer=new kt(P0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();P0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yN{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(j0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){To(n)?oe(j0,"Ignoring IndexedDB error during garbage collection: ",n):await bo(n)}await this.Vr(3e5)}))}}class _N{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Ph.ce);const r=new gN(n);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(k0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),k0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,l,u,f,g,p,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,f=Date.now(),this.nthSequenceNumber(e,l)))).next((w=>(r=w,g=Date.now(),this.removeTargets(e,r,n)))).next((w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(y=Date.now(),eo()<=Ve.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${l} in `+(g-f)+`ms
	Removed ${u} targets in `+(p-g)+`ms
	Removed ${w} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:w}))))}}function vN(s,e){return new _N(s,e)}class EN{constructor(){this.changes=new la((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class bN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class TN{constructor(e,n,r,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(r!==null&&Gl(r.mutation,l,wn.empty(),at.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,je()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=je()){const l=Jr();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,r).next((u=>{let f=kl();return u.forEach(((g,p)=>{f=f.insert(g,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const r=Jr();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,je())))}populateOverlays(e,n,r){const l=[];return r.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((f,g)=>{n.set(f,g)}))}))}computeViews(e,n,r,l){let u=ds();const f=Hl(),g=(function(){return Hl()})();return n.forEach(((p,y)=>{const T=r.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof pr)?u=u.insert(y.key,y):T!==void 0?(f.set(y.key,T.mutation.getFieldMask()),Gl(T.mutation,y,T.mutation.getFieldMask(),at.now())):f.set(y.key,wn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,T)=>f.set(y,T))),n.forEach(((y,T)=>g.set(y,new bN(T,f.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,n){const r=Hl();let l=new ct(((f,g)=>f-g)),u=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const g of f)g.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let T=r.get(p)||wn.empty();T=g.applyToLocalView(y,T),r.set(p,T);const w=(l.get(g.batchId)||je()).add(p);l=l.insert(g.batchId,w)}))})).next((()=>{const f=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,T=p.value,w=F1();T.forEach((N=>{if(!u.has(N)){const q=$1(n.get(N),r.get(N));q!==null&&w.set(N,q),u=u.add(N)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,w))}return W.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,l){return(function(f){return me.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):U1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,l):this.getDocumentsMatchingCollectionQuery(e,n,r,l)}getNextDocuments(e,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,l).next((u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,l-u.size):W.resolve(Jr());let g=Yl,p=u;return f.next((y=>W.forEach(y,((T,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),u.get(T)?W.resolve():this.remoteDocumentCache.getEntry(e,T).next((N=>{p=p.insert(T,N)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,je()))).next((T=>({batchId:g,changes:q1(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((r=>{let l=kl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,l){const u=n.collectionGroup;let f=kl();return this.indexManager.getCollectionParents(e,u).next((g=>W.forEach(g,(p=>{const y=(function(w,N){return new Ao(N,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,r,l).next((T=>{T.forEach(((w,N)=>{f=f.insert(w,N)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,l)))).next((f=>{u.forEach(((p,y)=>{const T=y.getKey();f.get(T)===null&&(f=f.insert(T,Zt.newInvalidDocument(T)))}));let g=kl();return f.forEach(((p,y)=>{const T=u.get(p);T!==void 0&&Gl(T.mutation,y,wn.empty(),at.now()),qh(n,y)&&(g=g.insert(p,y))})),g}))}}class AN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return W.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Di(l.createTime)}})(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:fN(l.bundledQuery),readTime:Di(l.readTime)}})(n)),W.resolve()}}class wN{constructor(){this.overlays=new ct(me.comparator),this.qr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Jr();return W.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((l,u)=>{this.St(e,n,u)})),W.resolve()}removeOverlaysForBatchId(e,n,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const l=Jr(),u=n.length+1,f=new me(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>r&&l.set(p.getKey(),p)}return W.resolve(l)}getOverlaysForCollectionGroup(e,n,r,l){let u=new ct(((y,T)=>y-T));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let T=u.get(y.largestBatchId);T===null&&(T=Jr(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const g=Jr(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,T)=>g.set(y,T))),!(g.size()>=l)););return W.resolve(g)}St(e,n,r){const l=this.overlays.get(r.key);if(l!==null){const f=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new qC(n,r));let u=this.qr.get(n);u===void 0&&(u=je(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}class SN{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}class Ep{constructor(){this.Qr=new kt(Lt.$r),this.Ur=new kt(Lt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Lt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Lt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new me(new it([])),r=new Lt(n,e),l=new Lt(n,e+1),u=[];return this.Ur.forEachInRange([r,l],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new me(new it([])),r=new Lt(n,e),l=new Lt(n,e+1);let u=je();return this.Ur.forEachInRange([r,l],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Lt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Lt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return me.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||me.comparator(e.key,n.key)}}class xN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new kt(Lt.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new BC(u,n,r,l);this.mutationQueue.push(f);for(const g of l)this.Zr=this.Zr.add(new Lt(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return W.resolve(f)}lookupMutationBatch(e,n){return W.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,l=this.ei(r),u=l<0?0:l;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?hp:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Lt(n,0),l=new Lt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,l],(f=>{const g=this.Xr(f.Yr);u.push(g)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kt(ke);return n.forEach((l=>{const u=new Lt(l,0),f=new Lt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(g=>{r=r.add(g.Yr)}))})),W.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,l=r.length+1;let u=r;me.isDocumentKey(u)||(u=u.child(""));const f=new Lt(new me(u),0);let g=new kt(ke);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(g=g.add(p.Yr)),!0)}),f),W.resolve(this.ti(g))}ti(e){const n=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){Ke(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return W.forEach(n.mutations,(l=>{const u=new Lt(l.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Lt(n,0),l=this.Zr.firstAfterOrEqual(r);return W.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class RN{constructor(e){this.ri=e,this.docs=(function(){return new ct(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,l=this.docs.get(r),u=l?l.size:0,f=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let r=ds();return n.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():Zt.newInvalidDocument(l))})),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,l){let u=ds();const f=n.path,g=new me(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||nC(tC(T),r)<=0||(l.has(T.key)||qh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,n,r,l){_e(9500)}ii(e,n){return W.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new CN(this)}getSize(e){return W.resolve(this.size)}}class CN extends EN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),W.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class NN{constructor(e){this.persistence=e,this.si=new la((n=>mp(n)),pp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new Ep,this.targetCount=0,this.ai=yo.ur()}forEachTarget(e,n){return this.si.forEach(((r,l)=>n(l))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),W.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new yo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Pr(n),W.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let l=0;const u=[];return this.si.forEach(((f,g)=>{g.sequenceNumber<=n&&r.get(g.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),W.waitFor(u).next((()=>l))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),W.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((f=>{u.push(l.markPotentiallyOrphaned(e,f))})),W.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this._i.containsKey(n))}}class cb{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ph(0),this.li=!1,this.li=!0,this.hi=new SN,this.referenceDelegate=e(this),this.Pi=new NN(this),this.indexManager=new dN,this.remoteDocumentCache=(function(l){return new RN(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new hN(n),this.Ii=new AN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new xN(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){oe("MemoryPersistence","Starting transaction:",e);const l=new IN(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,n){return W.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class IN extends sC{constructor(e){super(),this.currentSequenceNumber=e}}class bp{constructor(e){this.persistence=e,this.Ri=new Ep,this.Vi=null}static mi(e){return new bp(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(r=>{const l=me.fromPath(r);return this.gi(e,l).next((u=>{u||n.removeEntry(l,be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ah{constructor(e,n){this.persistence=e,this.pi=new la((r=>oC(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=vN(this,n)}static mi(e,n){return new Ah(e,n)}Ei(){}di(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((l=>r+l))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return W.forEach(this.pi,((r,l)=>this.br(e,r,l).next((u=>u?W.resolve():n(l)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(f=>this.br(e,f,n).next((g=>{g||(r++,u.removeEntry(f,be.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=th(e.data.value)),n}br(e,n,r){return W.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return W.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Tp{constructor(e,n,r,l){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=l}static As(e,n){let r=je(),l=je();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Tp(e,n.fromCache,r,l)}}class DN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ON{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return sS()?8:rC(Wt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,l){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,l,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new DN;return this.Ss(e,n,f).next((g=>{if(u.result=g,this.Vs)return this.bs(e,n,f,g.size)}))})).next((()=>u.result))}bs(e,n,r,l){return r.documentReadCount<this.fs?(eo()<=Ve.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",to(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(eo()<=Ve.DEBUG&&oe("QueryEngine","Query:",to(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(eo()<=Ve.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",to(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ii(n))):W.resolve())}ys(e,n){if(S0(n))return W.resolve(null);let r=Ii(n);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Vm(n,null,"F"),r=Ii(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const f=je(...u);return this.ps.getDocuments(e,f).next((g=>this.indexManager.getMinOffset(e,r).next((p=>{const y=this.Ds(n,g);return this.Cs(n,y,f,p.readTime)?this.ys(e,Vm(n,null,"F")):this.vs(e,y,n,p)}))))})))))}ws(e,n,r,l){return S0(n)||l.isEqual(be.min())?W.resolve(null):this.ps.getDocuments(e,r).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,r,l)?W.resolve(null):(eo()<=Ve.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),to(n)),this.vs(e,f,n,eC(l,Yl)).next((g=>g)))}))}Ds(e,n){let r=new kt(z1(e));return n.forEach(((l,u)=>{qh(e,u)&&(r=r.add(u))})),r}Cs(e,n,r,l){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,n,r){return eo()<=Ve.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",to(n)),this.ps.getDocumentsMatchingQuery(e,n,or.min(),r)}vs(e,n,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Ap="LocalStore",MN=3e8;class VN{constructor(e,n,r,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new ct(ke),this.xs=new la((u=>mp(u)),pp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function kN(s,e,n,r){return new VN(s,e,n,r)}async function hb(s,e){const n=Ae(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],g=[];let p=je();for(const y of l){f.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of u){g.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(r,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:g})))}))}))}function jN(s,e){const n=Ae(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,y,T){const w=y.batch,N=w.keys();let q=W.resolve();return N.forEach((G=>{q=q.next((()=>T.getEntry(p,G))).next((ee=>{const K=y.docVersions.get(G);Ke(K!==null,48541),ee.version.compareTo(K)<0&&(w.applyToRemoteDocument(ee,y),ee.isValidDocument()&&(ee.setReadTime(y.commitVersion),T.addEntry(ee)))}))})),q.next((()=>g.mutationQueue.removeMutationBatch(p,w)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let p=je();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function fb(s){const e=Ae(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function PN(s,e){const n=Ae(s),r=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const g=[];e.targetChanges.forEach(((T,w)=>{const N=l.get(w);if(!N)return;g.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,w).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,w))));let q=N.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?q=q.withResumeToken(Yt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):T.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(T.resumeToken,r)),l=l.insert(w,q),(function(ee,K,re){return ee.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=MN?!0:re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0})(N,q,T)&&g.push(n.Pi.updateTargetData(u,q))}));let p=ds(),y=je();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),g.push(UN(u,f,e.documentUpdates).next((T=>{p=T.ks,y=T.qs}))),!r.isEqual(be.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((w=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));g.push(T)}return W.waitFor(g).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.Ms=l,u)))}function UN(s,e,n){let r=je(),l=je();return n.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let f=ds();return n.forEach(((g,p)=>{const y=u.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(g,p.readTime),f=f.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(g,p)):oe(Ap,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:l}}))}function LN(s,e){const n=Ae(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=hp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function zN(s,e){const n=Ae(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.Pi.getTargetData(r,e).next((u=>u?(l=u,W.resolve(l)):n.Pi.allocateTargetId(r).next((f=>(l=new Ws(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Lm(s,e,n){const r=Ae(s),l=r.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!To(f))throw f;oe(Ap,`Failed to update sequence numbers for target ${e}: ${f}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function U0(s,e,n){const r=Ae(s);let l=be.min(),u=je();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,T){const w=Ae(p),N=w.xs.get(T);return N!==void 0?W.resolve(w.Ms.get(N)):w.Pi.getTargetData(y,T)})(r,f,Ii(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,g.targetId).next((p=>{u=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,e,n?l:be.min(),n?u:je()))).next((g=>(BN(r,xC(e),g),{documents:g,Qs:u})))))}function BN(s,e,n){let r=s.Os.get(e)||be.min();n.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(e,r)}class L0{constructor(){this.activeTargetIds=OC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qN{constructor(){this.Mo=new L0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new L0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class FN{Oo(e){}shutdown(){}}const z0="ConnectivityMonitor";class B0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(z0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(z0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Yc=null;function zm(){return Yc===null?Yc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yc++,"0x"+Yc.toString(16)}const pm="RestConnection",HN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===_h?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,n,r,l,u){const f=zm(),g=this.zo(e,n.toUriEncodedString());oe(pm,`Sending RPC '${e}' ${f}:`,g,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,l,u);const{host:y}=new URL(g),T=aa(y);return this.Jo(e,g,p,r,T).then((w=>(oe(pm,`Received RPC '${e}' ${f}: `,w),w)),(w=>{throw ho(pm,`RPC '${e}' ${f} failed with error: `,w,"url: ",g,"request:",r),w}))}Ho(e,n,r,l,u,f){return this.Go(e,n,r,l,u)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Eo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),r&&r.headers.forEach(((l,u)=>e[u]=l))}zo(e,n){const r=HN[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class QN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const $t="WebChannelConnection";class KN extends GN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,l,u){const f=zm();return new Promise(((g,p)=>{const y=new d1;y.setWithCredentials(!0),y.listenOnce(m1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case eh.NO_ERROR:const w=y.getResponseJson();oe($t,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),g(w);break;case eh.TIMEOUT:oe($t,`RPC '${e}' ${f} timed out`),p(new se($.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const N=y.getStatus();if(oe($t,`RPC '${e}' ${f} failed with status:`,N,"response text:",y.getResponseText()),N>0){let q=y.getResponseJson();Array.isArray(q)&&(q=q[0]);const G=q?.error;if(G&&G.status&&G.message){const ee=(function(re){const he=re.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(he)>=0?he:$.UNKNOWN})(G.status);p(new se(ee,G.message))}else p(new se($.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new se($.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{oe($t,`RPC '${e}' ${f} completed.`)}}));const T=JSON.stringify(l);oe($t,`RPC '${e}' ${f} sending request:`,l),y.send(n,"POST",T,r,15)}))}T_(e,n,r){const l=zm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=y1(),g=g1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const T=u.join("");oe($t,`Creating RPC '${e}' stream ${l}: ${T}`,p);const w=f.createWebChannel(T,p);this.I_(w);let N=!1,q=!1;const G=new QN({Yo:K=>{q?oe($t,`Not sending because RPC '${e}' stream ${l} is closed:`,K):(N||(oe($t,`Opening RPC '${e}' stream ${l} transport.`),w.open(),N=!0),oe($t,`RPC '${e}' stream ${l} sending:`,K),w.send(K))},Zo:()=>w.close()}),ee=(K,re,he)=>{K.listen(re,(ue=>{try{he(ue)}catch(fe){setTimeout((()=>{throw fe}),0)}}))};return ee(w,Vl.EventType.OPEN,(()=>{q||(oe($t,`RPC '${e}' stream ${l} transport opened.`),G.o_())})),ee(w,Vl.EventType.CLOSE,(()=>{q||(q=!0,oe($t,`RPC '${e}' stream ${l} transport closed`),G.a_(),this.E_(w))})),ee(w,Vl.EventType.ERROR,(K=>{q||(q=!0,ho($t,`RPC '${e}' stream ${l} transport errored. Name:`,K.name,"Message:",K.message),G.a_(new se($.UNAVAILABLE,"The operation could not be completed")))})),ee(w,Vl.EventType.MESSAGE,(K=>{if(!q){const re=K.data[0];Ke(!!re,16349);const he=re,ue=he?.error||he[0]?.error;if(ue){oe($t,`RPC '${e}' stream ${l} received error:`,ue);const fe=ue.status;let Pe=(function(S){const R=Nt[S];if(R!==void 0)return W1(R)})(fe),we=ue.message;Pe===void 0&&(Pe=$.INTERNAL,we="Unknown error status: "+fe+" with message "+ue.message),q=!0,G.a_(new se(Pe,we)),w.close()}else oe($t,`RPC '${e}' stream ${l} received:`,re),G.u_(re)}})),ee(g,p1.STAT_EVENT,(K=>{K.stat===Rm.PROXY?oe($t,`RPC '${e}' stream ${l} detected buffering proxy`):K.stat===Rm.NOPROXY&&oe($t,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function gm(){return typeof document<"u"?document:null}function Qh(s){return new JC(s,!0)}class db{constructor(e,n,r=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&oe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const q0="PersistentStream";class mb{constructor(e,n,r,l,u,f,g,p){this.Mi=e,this.S_=r,this.b_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new db(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(fs(n.toString()),fs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{e((()=>{const l=new se($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(q0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(oe(q0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class YN extends mb{constructor(e,n,r,l,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=eN(this.serializer,e),r=(function(u){if(!("targetChange"in u))return be.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?Di(f.readTime):be.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Um(this.serializer),n.addTarget=(function(u,f){let g;const p=f.target;if(g=Om(p)?{documents:iN(u,p)}:{query:sN(u,p).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=nb(u,f.resumeToken);const y=km(u,f.expectedCount);y!==null&&(g.expectedCount=y)}else if(f.snapshotVersion.compareTo(be.min())>0){g.readTime=Th(u,f.snapshotVersion.toTimestamp());const y=km(u,f.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const r=aN(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Um(this.serializer),n.removeTarget=e,this.q_(n)}}class XN extends mb{constructor(e,n,r,l,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=nN(e.writeResults,e.commitTime),r=Di(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Um(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>tN(this.serializer,r)))};this.q_(n)}}class $N{}class JN extends $N{constructor(e,n,r,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new se($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,jm(n,r),l,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new se($.UNKNOWN,u.toString())}))}Ho(e,n,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Ho(e,jm(n,r),l,f,g,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new se($.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ZN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fs(n),this.aa=!1):oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ra="RemoteStore";class WN{constructor(e,n,r,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{ua(this)&&(oe(ra,"Restarting streams for network reachability change."),await(async function(p){const y=Ae(p);y.Ea.add(4),await hu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Kh(y)})(this))}))})),this.Ra=new ZN(r,l)}}async function Kh(s){if(ua(s))for(const e of s.da)await e(!0)}async function hu(s){for(const e of s.da)await e(!1)}function pb(s,e){const n=Ae(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Rp(n)?xp(n):wo(n).O_()&&Sp(n,e))}function wp(s,e){const n=Ae(s),r=wo(n);n.Ia.delete(e),r.O_()&&gb(n,e),n.Ia.size===0&&(r.O_()?r.L_():ua(n)&&n.Ra.set("Unknown"))}function Sp(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wo(s).Y_(e)}function gb(s,e){s.Va.Ue(e),wo(s).Z_(e)}function xp(s){s.Va=new KC({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),wo(s).start(),s.Ra.ua()}function Rp(s){return ua(s)&&!wo(s).x_()&&s.Ia.size>0}function ua(s){return Ae(s).Ea.size===0}function yb(s){s.Va=void 0}async function eI(s){s.Ra.set("Online")}async function tI(s){s.Ia.forEach(((e,n)=>{Sp(s,e)}))}async function nI(s,e){yb(s),Rp(s)?(s.Ra.ha(e),xp(s)):s.Ra.set("Unknown")}async function iI(s,e,n){if(s.Ra.set("Online"),e instanceof tb&&e.state===2&&e.cause)try{await(async function(l,u){const f=u.cause;for(const g of u.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,f),l.Ia.delete(g),l.Va.removeTarget(g))})(s,e)}catch(r){oe(ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wh(s,r)}else if(e instanceof sh?s.Va.Ze(e):e instanceof eb?s.Va.st(e):s.Va.tt(e),!n.isEqual(be.min()))try{const r=await fb(s.localStore);n.compareTo(r)>=0&&await(function(u,f){const g=u.Va.Tt(f);return g.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.Ia.get(y);T&&u.Ia.set(y,T.withResumeToken(p.resumeToken,f))}})),g.targetMismatches.forEach(((p,y)=>{const T=u.Ia.get(p);if(!T)return;u.Ia.set(p,T.withResumeToken(Yt.EMPTY_BYTE_STRING,T.snapshotVersion)),gb(u,p);const w=new Ws(T.target,p,y,T.sequenceNumber);Sp(u,w)})),u.remoteSyncer.applyRemoteEvent(g)})(s,n)}catch(r){oe(ra,"Failed to raise snapshot:",r),await wh(s,r)}}async function wh(s,e,n){if(!To(e))throw e;s.Ea.add(1),await hu(s),s.Ra.set("Offline"),n||(n=()=>fb(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{oe(ra,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Kh(s)}))}function _b(s,e){return e().catch((n=>wh(s,n,e)))}async function Yh(s){const e=Ae(s),n=hr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:hp;for(;sI(e);)try{const l=await LN(e.localStore,r);if(l===null){e.Ta.length===0&&n.L_();break}r=l.batchId,rI(e,l)}catch(l){await wh(e,l)}vb(e)&&Eb(e)}function sI(s){return ua(s)&&s.Ta.length<10}function rI(s,e){s.Ta.push(e);const n=hr(s);n.O_()&&n.X_&&n.ea(e.mutations)}function vb(s){return ua(s)&&!hr(s).x_()&&s.Ta.length>0}function Eb(s){hr(s).start()}async function aI(s){hr(s).ra()}async function oI(s){const e=hr(s);for(const n of s.Ta)e.ea(n.mutations)}async function lI(s,e,n){const r=s.Ta.shift(),l=yp.from(r,e,n);await _b(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Yh(s)}async function uI(s,e){e&&hr(s).X_&&await(async function(r,l){if((function(f){return HC(f)&&f!==$.ABORTED})(l.code)){const u=r.Ta.shift();hr(r).B_(),await _b(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Yh(r)}})(s,e),vb(s)&&Eb(s)}async function F0(s,e){const n=Ae(s);n.asyncQueue.verifyOperationInProgress(),oe(ra,"RemoteStore received new credentials");const r=ua(n);n.Ea.add(3),await hu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Kh(n)}async function cI(s,e){const n=Ae(s);e?(n.Ea.delete(2),await Kh(n)):e||(n.Ea.add(2),await hu(n),n.Ra.set("Unknown"))}function wo(s){return s.ma||(s.ma=(function(n,r,l){const u=Ae(n);return u.sa(),new YN(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:eI.bind(null,s),t_:tI.bind(null,s),r_:nI.bind(null,s),H_:iI.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Rp(s)?xp(s):s.Ra.set("Unknown")):(await s.ma.stop(),yb(s))}))),s.ma}function hr(s){return s.fa||(s.fa=(function(n,r,l){const u=Ae(n);return u.sa(),new XN(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:aI.bind(null,s),r_:uI.bind(null,s),ta:oI.bind(null,s),na:lI.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Yh(s)):(await s.fa.stop(),s.Ta.length>0&&(oe(ra,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Cp{constructor(e,n,r,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,l,u){const f=Date.now()+r,g=new Cp(e,n,f,l,u);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Np(s,e){if(fs("AsyncQueue",`${e}: ${s}`),To(s))return new se($.UNAVAILABLE,`${e}: ${s}`);throw s}class lo{static emptySet(e){return new lo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=kl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof lo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new lo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class H0{constructor(){this.ga=new ct(me.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class _o{constructor(e,n,r,l,u,f,g,p,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,l,u){const f=[];return n.forEach((g=>{f.push({type:0,doc:g})})),new _o(e,n,lo.emptySet(n),f,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class hI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class fI{constructor(){this.queries=G0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=Ae(n),u=l.queries;l.queries=G0(),u.forEach(((f,g)=>{for(const p of g.Sa)p.onError(r)}))})(this,new se($.ABORTED,"Firestore shutting down"))}}function G0(){return new la((s=>L1(s)),Bh)}async function Ip(s,e){const n=Ae(s);let r=3;const l=e.query;let u=n.queries.get(l);u?!u.ba()&&e.Da()&&(r=2):(u=new hI,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const g=Np(f,`Initialization of query '${to(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Op(n)}async function Dp(s,e){const n=Ae(s),r=e.query;let l=3;const u=n.queries.get(r);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function dI(s,e){const n=Ae(s);let r=!1;for(const l of e){const u=l.query,f=n.queries.get(u);if(f){for(const g of f.Sa)g.Fa(l)&&(r=!0);f.wa=l}}r&&Op(n)}function mI(s,e,n){const r=Ae(s),l=r.queries.get(e);if(l)for(const u of l.Sa)u.onError(n);r.queries.delete(e)}function Op(s){s.Ca.forEach((e=>{e.next()}))}var Bm,Q0;(Q0=Bm||(Bm={})).Ma="default",Q0.Cache="cache";class Mp{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new _o(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Bm.Cache}}class bb{constructor(e){this.key=e}}class Tb{constructor(e){this.key=e}}class pI{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=z1(e),this.tu=new lo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new H0,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,w)=>{const N=l.get(T),q=qh(this.query,w)?w:null,G=!!N&&this.mutatedKeys.has(N.key),ee=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let K=!1;N&&q?N.data.isEqual(q.data)?G!==ee&&(r.track({type:3,doc:q}),K=!0):this.su(N,q)||(r.track({type:2,doc:q}),K=!0,(p&&this.eu(q,p)>0||y&&this.eu(q,y)<0)&&(g=!0)):!N&&q?(r.track({type:0,doc:q}),K=!0):N&&!q&&(r.track({type:1,doc:N}),K=!0,(p||y)&&(g=!0)),K&&(q?(f=f.add(q),u=ee?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:f,iu:r,Cs:g,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((T,w)=>(function(q,G){const ee=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:K})}};return ee(q)-ee(G)})(T.type,w.type)||this.eu(T.doc,w.doc))),this.ou(r),l=l??!1;const g=n&&!l?this._u():[],p=this.Xa.size===0&&this.current&&!l?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new _o(this.query,e.tu,u,f,e.mutatedKeys,p===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new H0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new Tb(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new bb(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return _o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Vp="SyncEngine";class gI{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class yI{constructor(e){this.key=e,this.hu=!1}}class _I{constructor(e,n,r,l,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new la((g=>L1(g)),Bh),this.Iu=new Map,this.Eu=new Set,this.du=new ct(me.comparator),this.Au=new Map,this.Ru=new Ep,this.Vu={},this.mu=new Map,this.fu=yo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vI(s,e,n=!0){const r=Cb(s);let l;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await Ab(r,e,n,!0),l}async function EI(s,e){const n=Cb(s);await Ab(n,e,!0,!1)}async function Ab(s,e,n,r){const l=await zN(s.localStore,Ii(e)),u=l.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let g;return r&&(g=await bI(s,e,u,f==="current",l.resumeToken)),s.isPrimaryClient&&n&&pb(s.remoteStore,l),g}async function bI(s,e,n,r,l){s.pu=(w,N,q)=>(async function(ee,K,re,he){let ue=K.view.ru(re);ue.Cs&&(ue=await U0(ee.localStore,K.query,!1).then((({documents:I})=>K.view.ru(I,ue))));const fe=he&&he.targetChanges.get(K.targetId),Pe=he&&he.targetMismatches.get(K.targetId)!=null,we=K.view.applyChanges(ue,ee.isPrimaryClient,fe,Pe);return Y0(ee,K.targetId,we.au),we.snapshot})(s,w,N,q);const u=await U0(s.localStore,e,!0),f=new pI(e,u.Qs),g=f.ru(u.documents),p=cu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),y=f.applyChanges(g,s.isPrimaryClient,p);Y0(s,n,y.au);const T=new gI(e,n,f);return s.Tu.set(e,T),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function TI(s,e,n){const r=Ae(s),l=r.Tu.get(e),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((f=>!Bh(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Lm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&wp(r.remoteStore,l.targetId),qm(r,l.targetId)})).catch(bo)):(qm(r,l.targetId),await Lm(r.localStore,l.targetId,!0))}async function AI(s,e){const n=Ae(s),r=n.Tu.get(e),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),wp(n.remoteStore,r.targetId))}async function wI(s,e,n){const r=DI(s);try{const l=await(function(f,g){const p=Ae(f),y=at.now(),T=g.reduce(((q,G)=>q.add(G.key)),je());let w,N;return p.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let G=ds(),ee=je();return p.Ns.getEntries(q,T).next((K=>{G=K,G.forEach(((re,he)=>{he.isValidDocument()||(ee=ee.add(re))}))})).next((()=>p.localDocuments.getOverlayedDocuments(q,G))).next((K=>{w=K;const re=[];for(const he of g){const ue=LC(he,w.get(he.key).overlayedDocument);ue!=null&&re.push(new pr(he.key,ue,D1(ue.value.mapValue),ni.exists(!0)))}return p.mutationQueue.addMutationBatch(q,y,re,g)})).next((K=>{N=K;const re=K.applyToLocalDocumentSet(w,ee);return p.documentOverlayCache.saveOverlays(q,K.batchId,re)}))})).then((()=>({batchId:N.batchId,changes:q1(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(f,g,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new ct(ke)),y=y.insert(g,p),f.Vu[f.currentUser.toKey()]=y})(r,l.batchId,n),await fu(r,l.changes),await Yh(r.remoteStore)}catch(l){const u=Np(l,"Failed to persist write");n.reject(u)}}async function wb(s,e){const n=Ae(s);try{const r=await PN(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const f=n.Au.get(u);f&&(Ke(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?Ke(f.hu,14607):l.removedDocuments.size>0&&(Ke(f.hu,42227),f.hu=!1))})),await fu(n,r,e)}catch(r){await bo(r)}}function K0(s,e,n){const r=Ae(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((u,f)=>{const g=f.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(f,g){const p=Ae(f);p.onlineState=g;let y=!1;p.queries.forEach(((T,w)=>{for(const N of w.Sa)N.va(g)&&(y=!0)})),y&&Op(p)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function SI(s,e,n){const r=Ae(s);r.sharedClientState.updateQueryState(e,"rejected",n);const l=r.Au.get(e),u=l&&l.key;if(u){let f=new ct(me.comparator);f=f.insert(u,Zt.newNoDocument(u,be.min()));const g=je().add(u),p=new Gh(be.min(),new Map,new ct(ke),f,g);await wb(r,p),r.du=r.du.remove(u),r.Au.delete(e),kp(r)}else await Lm(r.localStore,e,!1).then((()=>qm(r,e,n))).catch(bo)}async function xI(s,e){const n=Ae(s),r=e.batch.batchId;try{const l=await jN(n.localStore,e);xb(n,r,null),Sb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await fu(n,l)}catch(l){await bo(l)}}async function RI(s,e,n){const r=Ae(s);try{const l=await(function(f,g){const p=Ae(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return p.mutationQueue.lookupMutationBatch(y,g).next((w=>(Ke(w!==null,37113),T=w.keys(),p.mutationQueue.removeMutationBatch(y,w)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,T,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>p.localDocuments.getDocuments(y,T)))}))})(r.localStore,e);xb(r,e,n),Sb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await fu(r,l)}catch(l){await bo(l)}}function Sb(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function xb(s,e,n){const r=Ae(s);let l=r.Vu[r.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function qm(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||Rb(s,r)}))}function Rb(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(wp(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),kp(s))}function Y0(s,e,n){for(const r of n)r instanceof bb?(s.Ru.addReference(r.key,e),CI(s,r)):r instanceof Tb?(oe(Vp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||Rb(s,r.key)):_e(19791,{wu:r})}function CI(s,e){const n=e.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(oe(Vp,"New document in limbo: "+n),s.Eu.add(r),kp(s))}function kp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new me(it.fromString(e)),r=s.fu.next();s.Au.set(r,new yI(n)),s.du=s.du.insert(n,r),pb(s.remoteStore,new Ws(Ii(zh(n.path)),r,"TargetPurposeLimboResolution",Ph.ce))}}async function fu(s,e,n){const r=Ae(s),l=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,p)=>{f.push(r.pu(p,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const T=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(y){l.push(y);const T=Tp.As(p.targetId,y);u.push(T)}})))})),await Promise.all(f),r.Pu.H_(l),await(async function(p,y){const T=Ae(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>W.forEach(y,(N=>W.forEach(N.Es,(q=>T.persistence.referenceDelegate.addReference(w,N.targetId,q))).next((()=>W.forEach(N.ds,(q=>T.persistence.referenceDelegate.removeReference(w,N.targetId,q)))))))))}catch(w){if(!To(w))throw w;oe(Ap,"Failed to update sequence numbers: "+w)}for(const w of y){const N=w.targetId;if(!w.fromCache){const q=T.Ms.get(N),G=q.snapshotVersion,ee=q.withLastLimboFreeSnapshotVersion(G);T.Ms=T.Ms.insert(N,ee)}}})(r.localStore,u))}async function NI(s,e){const n=Ae(s);if(!n.currentUser.isEqual(e)){oe(Vp,"User change. New user:",e.toKey());const r=await hb(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((g=>{g.forEach((p=>{p.reject(new se($.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fu(n,r.Ls)}}function II(s,e){const n=Ae(s),r=n.Au.get(e);if(r&&r.hu)return je().add(r.key);{let l=je();const u=n.Iu.get(e);if(!u)return l;for(const f of u){const g=n.Tu.get(f);l=l.unionWith(g.view.nu)}return l}}function Cb(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=wb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=II.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SI.bind(null,e),e.Pu.H_=dI.bind(null,e.eventManager),e.Pu.yu=mI.bind(null,e.eventManager),e}function DI(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RI.bind(null,e),e}class Sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return kN(this.persistence,new ON,e.initialUser,this.serializer)}Cu(e){return new cb(bp.mi,this.serializer)}Du(e){return new qN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sh.provider={build:()=>new Sh};class OI extends Sh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof Ah,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new yN(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new cb((r=>Ah.mi(r,n)),this.serializer)}}class Fm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>K0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=NI.bind(null,this.syncEngine),await cI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new fI})()}createDatastore(e){const n=Qh(e.databaseInfo.databaseId),r=(function(u){return new KN(u)})(e.databaseInfo);return(function(u,f,g,p){return new JN(u,f,g,p)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,l,u,f,g){return new WN(r,l,u,f,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>K0(this.syncEngine,n,0)),(function(){return B0.v()?new B0:new FN})())}createSyncEngine(e,n){return(function(l,u,f,g,p,y,T){const w=new _I(l,u,f,g,p,y);return T&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ae(n);oe(ra,"RemoteStore shutting down."),r.Ea.add(5),await hu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Fm.provider={build:()=>new Fm};class jp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const fr="FirestoreClient";class MI{constructor(e,n,r,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=l,this.user=Jt.UNAUTHENTICATED,this.clientId=cp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{oe(fr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(oe(fr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Np(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function ym(s,e){s.asyncQueue.verifyOperationInProgress(),oe(fr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await hb(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function X0(s,e){s.asyncQueue.verifyOperationInProgress();const n=await VI(s);oe(fr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>F0(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>F0(e.remoteStore,l))),s._onlineComponents=e}async function VI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){oe(fr,"Using user provided OfflineComponentProvider");try{await ym(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;ho("Error using user provided cache. Falling back to memory cache: "+n),await ym(s,new Sh)}}else oe(fr,"Using default OfflineComponentProvider"),await ym(s,new OI(void 0));return s._offlineComponents}async function Nb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(oe(fr,"Using user provided OnlineComponentProvider"),await X0(s,s._uninitializedComponentsProvider._online)):(oe(fr,"Using default OnlineComponentProvider"),await X0(s,new Fm))),s._onlineComponents}function kI(s){return Nb(s).then((e=>e.syncEngine))}async function xh(s){const e=await Nb(s),n=e.eventManager;return n.onListen=vI.bind(null,e.syncEngine),n.onUnlisten=TI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=EI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=AI.bind(null,e.syncEngine),n}function jI(s,e,n={}){const r=new us;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,p,y){const T=new jp({next:N=>{T.Nu(),f.enqueueAndForget((()=>Dp(u,w)));const q=N.docs.has(g);!q&&N.fromCache?y.reject(new se($.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&N.fromCache&&p&&p.source==="server"?y.reject(new se($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(N)},error:N=>y.reject(N)}),w=new Mp(zh(g.path),T,{includeMetadataChanges:!0,qa:!0});return Ip(u,w)})(await xh(s),s.asyncQueue,e,n,r))),r.promise}function PI(s,e,n={}){const r=new us;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,p,y){const T=new jp({next:N=>{T.Nu(),f.enqueueAndForget((()=>Dp(u,w))),N.fromCache&&p.source==="server"?y.reject(new se($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(N)},error:N=>y.reject(N)}),w=new Mp(g,T,{includeMetadataChanges:!0,qa:!0});return Ip(u,w)})(await xh(s),s.asyncQueue,e,n,r))),r.promise}function Ib(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const $0=new Map;const Db="firestore.googleapis.com",J0=!0;class Z0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new se($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Db,this.ssl=J0}else this.host=e.host,this.ssl=e.ssl??J0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ub;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pN)throw new se($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ib(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new se($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new se($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new se($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xh{constructor(e,n,r,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new FR;switch(r.type){case"firstParty":return new KR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=$0.get(n);r&&(oe("ComponentProvider","Removing Datastore"),$0.delete(n),r.terminate())})(this),Promise.resolve()}}function UI(s,e,n,r={}){s=Sn(s,Xh);const l=aa(e),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${n}`;l&&(Ym(`https://${g}`),Xm("Firestore",!0)),u.host!==Db&&u.host!==g&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:g,ssl:l,emulatorOptions:r};if(!rr(p,f)&&(s._setSettings(p),r.mockUserToken)){let y,T;if(typeof r.mockUserToken=="string")y=r.mockUserToken,T=Jt.MOCK_USER;else{y=RE(r.mockUserToken,s._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new se($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Jt(w)}s._authCredentials=new HR(new v1(y,T))}}class gr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gr(this.firestore,e,this._query)}}class dt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}toJSON(){return{type:dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(lu(n,dt._jsonSchema))return new dt(e,r||null,new me(it.fromString(n.referencePath)))}}dt._jsonSchemaVersion="firestore/documentReference/1.0",dt._jsonSchema={type:Dt("string",dt._jsonSchemaVersion),referencePath:Dt("string")};class sr extends gr{constructor(e,n,r){super(e,n,zh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new me(e))}withConverter(e){return new sr(this.firestore,e,this._path)}}function LI(s,e,...n){if(s=vt(s),E1("collection","path",e),s instanceof Xh){const r=it.fromString(e,...n);return h0(r),new sr(s,null,r)}{if(!(s instanceof dt||s instanceof sr))throw new se($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(it.fromString(e,...n));return h0(r),new sr(s.firestore,null,r)}}function Ob(s,e,...n){if(s=vt(s),arguments.length===1&&(e=cp.newId()),E1("doc","path",e),s instanceof Xh){const r=it.fromString(e,...n);return c0(r),new dt(s,null,new me(r))}{if(!(s instanceof dt||s instanceof sr))throw new se($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(it.fromString(e,...n));return c0(r),new dt(s.firestore,s instanceof sr?s.converter:null,new me(r))}}const W0="AsyncQueue";class eE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new db(this,"async_queue_retry"),this._c=()=>{const r=gm();r&&oe(W0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=gm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=gm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new us;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!To(e))throw e;oe(W0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,fs("INTERNAL UNHANDLED ERROR: ",tE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=Cp.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&_e(47125,{Pc:tE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function tE(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function nE(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of r)if(u in l&&typeof l[u]=="function")return!0;return!1})(s,["next","error","complete"])}class dr extends Xh{constructor(e,n,r,l){super(e,n,r,l),this.type="firestore",this._queue=new eE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eE(e),this._firestoreClient=void 0,await e}}}function zI(s,e){const n=typeof s=="object"?s:Zm(),r=typeof s=="string"?s:_h,l=Oh(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=wE("firestore");u&&UI(l,...u)}return l}function $h(s){if(s._terminated)throw new se($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||BI(s),s._firestoreClient}function BI(s){const e=s._freezeSettings(),n=(function(l,u,f,g){return new cC(l,u,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,Ib(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new MI(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}class Ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ln(Yt.fromBase64String(e))}catch(n){throw new se($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ln(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lu(e,Ln._jsonSchema))return Ln.fromBase64String(e.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Dt("string",Ln._jsonSchemaVersion),bytes:Dt("string")};class Jh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class du{constructor(e){this._methodName=e}}class Oi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(e){if(lu(e,Oi._jsonSchema))return new Oi(e.latitude,e.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:Dt("string",Oi._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class Mi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lu(e,Mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Mi(e.vectorValues);throw new se($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:Dt("string",Mi._jsonSchemaVersion),vectorValues:Dt("object")};const qI=/^__.*__$/;class FI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new pr(e,this.data,this.fieldMask,n,this.fieldTransforms):new uu(e,this.data,n,this.fieldTransforms)}}class Mb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new pr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Vb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:s})}}class Zh{constructor(e,n,r,l,u,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Zh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Rh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Vb(this.Ac)&&qI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class HI{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qh(e)}Cc(e,n,r,l=!1){return new Zh({Ac:e,methodName:n,Dc:r,path:Kt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wh(s){const e=s._freezeSettings(),n=Qh(s._databaseId);return new HI(s._databaseId,!!e.ignoreUndefinedProperties,n)}function kb(s,e,n,r,l,u={}){const f=s.Cc(u.merge||u.mergeFields?2:0,e,n,l);Lp("Data must be an object, but it was:",f,r);const g=jb(r,f);let p,y;if(u.merge)p=new wn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const w of u.mergeFields){const N=Hm(e,w,n);if(!f.contains(N))throw new se($.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);Ub(T,N)||T.push(N)}p=new wn(T),y=f.fieldTransforms.filter((w=>p.covers(w.field)))}else p=null,y=f.fieldTransforms;return new FI(new mn(g),p,y)}class ef extends du{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ef}}function GI(s,e,n){return new Zh({Ac:3,Dc:e.settings.Dc,methodName:s._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Pp extends du{_toFieldTransform(e){return new X1(e.path,new Wl)}isEqual(e){return e instanceof Pp}}class Up extends du{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=GI(this,e,!0),r=this.vc.map((u=>So(u,n))),l=new go(r);return new X1(e.path,l)}isEqual(e){return e instanceof Up&&rr(this.vc,e.vc)}}function QI(s,e,n,r){const l=s.Cc(1,e,n);Lp("Data must be an object, but it was:",l,r);const u=[],f=mn.empty();mr(r,((p,y)=>{const T=zp(e,p,n);y=vt(y);const w=l.yc(T);if(y instanceof ef)u.push(T);else{const N=So(y,w);N!=null&&(u.push(T),f.set(T,N))}}));const g=new wn(u);return new Mb(f,g,l.fieldTransforms)}function KI(s,e,n,r,l,u){const f=s.Cc(1,e,n),g=[Hm(e,r,n)],p=[l];if(u.length%2!=0)throw new se($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<u.length;N+=2)g.push(Hm(e,u[N])),p.push(u[N+1]);const y=[],T=mn.empty();for(let N=g.length-1;N>=0;--N)if(!Ub(y,g[N])){const q=g[N];let G=p[N];G=vt(G);const ee=f.yc(q);if(G instanceof ef)y.push(q);else{const K=So(G,ee);K!=null&&(y.push(q),T.set(q,K))}}const w=new wn(y);return new Mb(T,w,f.fieldTransforms)}function YI(s,e,n,r=!1){return So(n,s.Cc(r?4:3,e))}function So(s,e){if(Pb(s=vt(s)))return Lp("Unsupported field value:",e,s),jb(s,e);if(s instanceof du)return(function(r,l){if(!Vb(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const u=[];let f=0;for(const g of r){let p=So(g,l.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(s,e)}return(function(r,l){if((r=vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return MC(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=at.fromDate(r);return{timestampValue:Th(l.serializer,u)}}if(r instanceof at){const u=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Th(l.serializer,u)}}if(r instanceof Oi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ln)return{bytesValue:nb(l.serializer,r._byteString)};if(r instanceof dt){const u=l.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw l.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:vp(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Mi)return(function(f,g){return{mapValue:{fields:{[N1]:{stringValue:I1},[vh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return gp(g.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${jh(r)}`)})(s,e)}function jb(s,e){const n={};return A1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mr(s,((r,l)=>{const u=So(l,e.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function Pb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof at||s instanceof Oi||s instanceof Ln||s instanceof dt||s instanceof du||s instanceof Mi)}function Lp(s,e,n){if(!Pb(n)||!b1(n)){const r=jh(n);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function Hm(s,e,n){if((e=vt(e))instanceof Jh)return e._internalPath;if(typeof e=="string")return zp(s,e);throw Rh("Field path arguments must be of type string or ",s,!1,void 0,n)}const XI=new RegExp("[~\\*/\\[\\]]");function zp(s,e,n){if(e.search(XI)>=0)throw Rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Jh(...e.split("."))._internalPath}catch{throw Rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Rh(s,e,n,r,l){const u=r&&!r.isEmpty(),f=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${r}`),f&&(p+=` in document ${l}`),p+=")"),new se($.INVALID_ARGUMENT,g+s+p)}function Ub(s,e){return s.some((n=>n.isEqual(e)))}class Lb{constructor(e,n,r,l,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $I(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Bp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $I extends Lb{data(){return super.data()}}function Bp(s,e){return typeof e=="string"?zp(s,e):e instanceof Jh?e._internalPath:e._delegate._internalPath}function zb(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new se($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qp{}class Bb extends qp{}function Gm(s,e,...n){let r=[];e instanceof qp&&r.push(e),r=r.concat(n),(function(u){const f=u.filter((p=>p instanceof Hp)).length,g=u.filter((p=>p instanceof Fp)).length;if(f>1||f>0&&g>0)throw new se($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Fp extends Bb{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Fp(e,n,r)}_apply(e){const n=this._parse(e);return qb(e._query,n),new gr(e.firestore,e.converter,Mm(e._query,n))}_parse(e){const n=Wh(e.firestore);return(function(u,f,g,p,y,T,w){let N;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new se($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){sE(w,T);const G=[];for(const ee of w)G.push(iE(p,u,ee));N={arrayValue:{values:G}}}else N=iE(p,u,w)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||sE(w,T),N=YI(g,f,w,T==="in"||T==="not-in");return It.create(y,T,N)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Hp extends qp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Hp(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ii.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,u){let f=l;const g=u.getFlattenedFilters();for(const p of g)qb(f,p),f=Mm(f,p)})(e._query,n),new gr(e.firestore,e.converter,Mm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Gp extends Bb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Gp(e,n)}_apply(e){const n=(function(l,u,f){if(l.startAt!==null)throw new se($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new se($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zl(u,f)})(e._query,this._field,this._direction);return new gr(e.firestore,e.converter,(function(l,u){const f=l.explicitOrderBy.concat([u]);return new Ao(l.path,l.collectionGroup,f,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,n))}}function JI(s,e="asc"){const n=e,r=Bp("orderBy",s);return Gp._create(r,n)}function iE(s,e,n){if(typeof(n=vt(n))=="string"){if(n==="")throw new se($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!U1(e)&&n.indexOf("/")!==-1)throw new se($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(it.fromString(n));if(!me.isDocumentKey(r))throw new se($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return v0(s,new me(r))}if(n instanceof dt)return v0(s,n._key);throw new se($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jh(n)}.`)}function sE(s,e){if(!Array.isArray(s)||s.length===0)throw new se($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qb(s,e){const n=(function(l,u){for(const f of l)for(const g of f.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new se($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ZI{convertValue(e,n="none"){switch(cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return mr(e,((l,u)=>{r[l]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[vh].arrayValue?.values?.map((r=>_t(r.doubleValue)));return new Mi(n)}convertGeoPoint(e){return new Oi(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Lh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xl(e));default:return null}}convertTimestamp(e){const n=lr(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=it.fromString(e);Ke(lb(r),9688,{name:e});const l=new $l(r.get(1),r.get(3)),u=new me(r.popFirst(5));return l.isEqual(n)||fs(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function Fb(s,e,n){let r;return r=s?s.toFirestore(e):e,r}class Pl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wr extends Lb{constructor(e,n,r,l,u,f){super(e,n,r,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Bp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Wr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Wr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wr._jsonSchema={type:Dt("string",Wr._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class rh extends Wr{data(e={}){return super.data(e)}}class ea{constructor(e,n,r,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Pl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new rh(this._firestore,this._userDataWriter,r.key,r,new Pl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((g=>{const p=new rh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Pl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const p=new rh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Pl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return g.type!==0&&(y=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),T=f.indexOf(g.doc.key)),{type:WI(g.type),doc:p,oldIndex:y,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ea._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function WI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:s})}}function Hb(s){s=Sn(s,dt);const e=Sn(s.firestore,dr);return jI($h(e),s._key).then((n=>Gb(e,s,n)))}ea._jsonSchemaVersion="firestore/querySnapshot/1.0",ea._jsonSchema={type:Dt("string",ea._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Qp extends ZI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ln(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,n)}}function Ch(s){s=Sn(s,gr);const e=Sn(s.firestore,dr),n=$h(e),r=new Qp(e);return zb(s._query),PI(n,s._query).then((l=>new ea(e,r,s,l)))}function rE(s,e,n){s=Sn(s,dt);const r=Sn(s.firestore,dr),l=Fb(s.converter,e);return Kp(r,[kb(Wh(r),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,ni.none())])}function Ul(s,e,n,...r){s=Sn(s,dt);const l=Sn(s.firestore,dr),u=Wh(l);let f;return f=typeof(e=vt(e))=="string"||e instanceof Jh?KI(u,"updateDoc",s._key,e,n,r):QI(u,"updateDoc",s._key,e),Kp(l,[f.toMutation(s._key,ni.exists(!0))])}function Ll(s,e){const n=Sn(s.firestore,dr),r=Ob(s),l=Fb(s.converter,e);return Kp(n,[kb(Wh(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,ni.exists(!1))]).then((()=>r))}function e4(s,...e){s=vt(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||nE(e[r])||(n=e[r++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(nE(e[r])){const p=e[r];e[r]=p.next?.bind(p),e[r+1]=p.error?.bind(p),e[r+2]=p.complete?.bind(p)}let u,f,g;if(s instanceof dt)f=Sn(s.firestore,dr),g=zh(s._key.path),u={next:p=>{e[r]&&e[r](Gb(f,s,p))},error:e[r+1],complete:e[r+2]};else{const p=Sn(s,gr);f=Sn(p.firestore,dr),g=p._query;const y=new Qp(f);u={next:T=>{e[r]&&e[r](new ea(f,y,p,T))},error:e[r+1],complete:e[r+2]},zb(s._query)}return(function(y,T,w,N){const q=new jp(N),G=new Mp(T,q,w);return y.asyncQueue.enqueueAndForget((async()=>Ip(await xh(y),G))),()=>{q.Nu(),y.asyncQueue.enqueueAndForget((async()=>Dp(await xh(y),G)))}})($h(f),g,l,u)}function Kp(s,e){return(function(r,l){const u=new us;return r.asyncQueue.enqueueAndForget((async()=>wI(await kI(r),l,u))),u.promise})($h(s),e)}function Gb(s,e,n){const r=n.docs.get(e._key),l=new Qp(s);return new Wr(s,l,e._key,r,new Pl(n.hasPendingWrites,n.fromCache),e.converter)}function tu(){return new Pp("serverTimestamp")}function t4(...s){return new Up("arrayUnion",s)}(function(e,n=!0){(function(l){Eo=l})(oa),ta(new ar("firestore",((r,{instanceIdentifier:l,options:u})=>{const f=r.getProvider("app").getImmediate(),g=new dr(new GR(r.getProvider("auth-internal")),new YR(f,r.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new se($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(y.options.projectId,T)})(f,l),f);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),Ci(a0,o0,e),Ci(a0,o0,"esm2020")})();const Qb="firebasestorage.googleapis.com",n4="storageBucket",i4=120*1e3,s4=600*1e3;class Ui extends ji{constructor(e,n,r=0){super(_m(e),`Firebase Storage: ${n} (${_m(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ui.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return _m(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ki;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ki||(ki={}));function _m(s){return"storage/"+s}function r4(){const s="An unknown error occurred, please check the error payload for server response.";return new Ui(ki.UNKNOWN,s)}function a4(){return new Ui(ki.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function o4(){return new Ui(ki.CANCELED,"User canceled the upload/download.")}function l4(s){return new Ui(ki.INVALID_URL,"Invalid URL '"+s+"'.")}function u4(s){return new Ui(ki.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function aE(s){return new Ui(ki.INVALID_ARGUMENT,s)}function Kb(){return new Ui(ki.APP_DELETED,"The Firebase app was deleted.")}function c4(s){return new Ui(ki.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class ei{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ei.makeFromUrl(e,n)}catch{return new ei(e,"")}if(r.path==="")return r;throw u4(e)}static makeFromUrl(e,n){let r=null;const l="([A-Za-z0-9.\\-_]+)";function u(fe){fe.path.charAt(fe.path.length-1)==="/"&&(fe.path_=fe.path_.slice(0,-1))}const f="(/(.*))?$",g=new RegExp("^gs://"+l+f,"i"),p={bucket:1,path:3};function y(fe){fe.path_=decodeURIComponent(fe.path)}const T="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),N="(/([^?#]*).*)?$",q=new RegExp(`^https?://${w}/${T}/b/${l}/o${N}`,"i"),G={bucket:1,path:3},ee=n===Qb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,K="([^?#]*)",re=new RegExp(`^https?://${ee}/${l}/${K}`,"i"),ue=[{regex:g,indices:p,postModify:u},{regex:q,indices:G,postModify:y},{regex:re,indices:{bucket:1,path:2},postModify:y}];for(let fe=0;fe<ue.length;fe++){const Pe=ue[fe],we=Pe.regex.exec(e);if(we){const I=we[Pe.indices.bucket];let S=we[Pe.indices.path];S||(S=""),r=new ei(I,S),Pe.postModify(r);break}}if(r==null)throw l4(e);return r}}class h4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function f4(s,e,n){let r=1,l=null,u=null,f=!1,g=0;function p(){return g===2}let y=!1;function T(...K){y||(y=!0,e.apply(null,K))}function w(K){l=setTimeout(()=>{l=null,s(q,p())},K)}function N(){u&&clearTimeout(u)}function q(K,...re){if(y){N();return}if(K){N(),T.call(null,K,...re);return}if(p()||f){N(),T.call(null,K,...re);return}r<64&&(r*=2);let ue;g===1?(g=2,ue=0):ue=(r+Math.random())*1e3,w(ue)}let G=!1;function ee(K){G||(G=!0,N(),!y&&(l!==null?(K||(g=2),clearTimeout(l),w(0)):K||(g=1)))}return w(0),u=setTimeout(()=>{f=!0,ee(!0)},n),ee}function d4(s){s(!1)}function m4(s){return s!==void 0}function oE(s,e,n,r){if(r<e)throw aE(`Invalid value for '${s}'. Expected ${e} or greater.`);if(r>n)throw aE(`Invalid value for '${s}'. Expected ${n} or less.`)}function p4(s){const e=encodeURIComponent;let n="?";for(const r in s)if(s.hasOwnProperty(r)){const l=e(r)+"="+e(s[r]);n=n+l+"&"}return n=n.slice(0,-1),n}var Nh;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(Nh||(Nh={}));function g4(s,e){const n=s>=500&&s<600,l=[408,429].indexOf(s)!==-1,u=e.indexOf(s)!==-1;return n||l||u}class y4{constructor(e,n,r,l,u,f,g,p,y,T,w,N=!0,q=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=l,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=g,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=T,this.connectionFactory_=w,this.retry=N,this.isUsingEmulator=q,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((G,ee)=>{this.resolve_=G,this.reject_=ee,this.start_()})}start_(){const e=(r,l)=>{if(l){r(!1,new Xc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=g=>{const p=g.loaded,y=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const g=u.getErrorCode()===Nh.NO_ERROR,p=u.getStatus();if(!g||g4(p,this.additionalRetryCodes_)&&this.retry){const T=u.getErrorCode()===Nh.ABORT;r(!1,new Xc(!1,null,T));return}const y=this.successCodes_.indexOf(p)!==-1;r(!0,new Xc(y,u))})},n=(r,l)=>{const u=this.resolve_,f=this.reject_,g=l.connection;if(l.wasSuccessCode)try{const p=this.callback_(g,g.getResponse());m4(p)?u(p):u()}catch(p){f(p)}else if(g!==null){const p=r4();p.serverResponse=g.getErrorText(),this.errorCallback_?f(this.errorCallback_(g,p)):f(p)}else if(l.canceled){const p=this.appDelete_?Kb():o4();f(p)}else{const p=a4();f(p)}};this.canceled_?n(!1,new Xc(!1,null,!0)):this.backoffId_=f4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&d4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Xc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function _4(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function v4(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function E4(s,e){e&&(s["X-Firebase-GMPID"]=e)}function b4(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function T4(s,e,n,r,l,u,f=!0,g=!1){const p=p4(s.urlParams),y=s.url+p,T=Object.assign({},s.headers);return E4(T,e),_4(T,n),v4(T,u),b4(T,r),new y4(y,s.method,T,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,l,f,g)}function A4(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function w4(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}class Ih{constructor(e,n){this._service=e,n instanceof ei?this._location=n:this._location=ei.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ih(e,n)}get root(){const e=new ei(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return w4(this._location.path)}get storage(){return this._service}get parent(){const e=A4(this._location.path);if(e===null)return null;const n=new ei(this._location.bucket,e);return new Ih(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw c4(e)}}function lE(s,e){const n=e?.[n4];return n==null?null:ei.makeFromBucketSpec(n,s)}function S4(s,e,n,r={}){s.host=`${e}:${n}`;const l=aa(e);l&&(Ym(`https://${s.host}/b`),Xm("Storage",!0)),s._isUsingEmulator=!0,s._protocol=l?"https":"http";const{mockUserToken:u}=r;u&&(s._overrideAuthToken=typeof u=="string"?u:RE(u,s.app.options.projectId))}class x4{constructor(e,n,r,l,u,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=l,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=Qb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=i4,this._maxUploadRetryTime=s4,this._requests=new Set,l!=null?this._bucket=ei.makeFromBucketSpec(l,this._host):this._bucket=lE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ei.makeFromBucketSpec(this._url,e):this._bucket=lE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){oE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){oE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ih(this,e)}_makeRequest(e,n,r,l,u=!0){if(this._deleted)return new h4(Kb());{const f=T4(e,this._appId,r,l,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[r,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,l).getPromise()}}const uE="@firebase/storage",cE="0.14.0";const Yb="storage";function R4(s=Zm(),e){s=vt(s);const r=Oh(s,Yb).getImmediate({identifier:e}),l=wE("storage");return l&&C4(r,...l),r}function C4(s,e,n,r={}){S4(s,e,n,r)}function N4(s,{instanceIdentifier:e}){const n=s.getProvider("app").getImmediate(),r=s.getProvider("auth-internal"),l=s.getProvider("app-check-internal");return new x4(n,r,l,e,oa)}function I4(){ta(new ar(Yb,N4,"PUBLIC").setMultipleInstances(!0)),Ci(uE,cE,""),Ci(uE,cE,"esm2020")}I4();const D4={apiKey:"AIzaSyDdXixOANBcFY-oexLJT1wzAsMSkCf7p5w",authDomain:"mindcrafters-app.firebaseapp.com",projectId:"mindcrafters-app",storageBucket:"mindcrafters-app.firebasestorage.app",messagingSenderId:"1067604346696",appId:"1:1067604346696:web:4eceac80c1865dd590957d"},Yp=IE(D4),Yr=BR(Yp),Xb=zI(Yp);R4(Yp);const $b=typeof __app_id<"u"?__app_id:"mindcrafters-default",Ri=s=>LI(Xb,"artifacts",$b,"public","data",s),Zr=(s,e)=>Ob(Xb,"artifacts",$b,"public","data",s,e),Xp=[{id:"mock-1",title:"The Complete React Full-Stack Guide",description:"Master React, Node.js, Express, and MongoDB. Build a complete e-commerce platform from scratch with payment integration.",category:"Development",thumbnail:"https://images.unsplash.com/photo-1633356122544-f134324a6cee?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",price:49.99,rating:4.8,reviews:1240,enrolledCount:5400},{id:"mock-2",title:"Python for Data Science & AI (Free)",description:"From zero to hero in Python. Learn Pandas, NumPy, Matplotlib, and Scikit-Learn to analyze data and build ML models. Completely Free.",category:"Data Science",thumbnail:"https://images.unsplash.com/photo-1515879218367-8466d910aaa4?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",price:0,rating:4.9,reviews:890,enrolledCount:3200},{id:"mock-3",title:"UI/UX Design Masterclass 2025",description:"Design beautiful interfaces with Figma. Learn user research, wireframing, prototyping, and handoff to developers.",category:"Design",thumbnail:"https://images.unsplash.com/photo-1507721999472-8ed4421c4af2?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",price:44.99,rating:4.7,reviews:650,enrolledCount:1800},{id:"mock-4",title:"Flutter & Dart: Build IOS & Android Apps (Free)",description:"Create native mobile applications using a single codebase. Hot reload, beautiful widgets, and seamless performance. Start for free.",category:"Mobile",thumbnail:"https://images.unsplash.com/photo-1512941937669-90a1b58e7e9c?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",price:0,rating:4.6,reviews:420,enrolledCount:1100},{id:"mock-5",title:"Advanced JavaScript Concepts",description:"Deep dive into closures, prototypes, event loop, and async programming. Write clean, efficient, and scalable JS code.",category:"Development",thumbnail:"https://images.unsplash.com/photo-1579468118864-1b9ea3c0db4a?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",price:34.99,rating:4.8,reviews:2100,enrolledCount:6700},{id:"mock-6",title:"Cybersecurity: Zero to Hero",description:"Learn ethical hacking, network security, and how to protect systems from cyber threats. Hands-on labs included.",category:"Security",thumbnail:"https://images.unsplash.com/photo-1563206767-5b18f218e8de?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",price:69.99,rating:4.9,reviews:340,enrolledCount:950}],hE=["Development","Data Science","Design","Mobile","Security","Business"],O4=[{id:1,title:"The Future of React Server Components",category:"Tech",readTime:"5 min",author:"Sarah Jenkins",date:"Nov 15, 2024",image:"https://images.unsplash.com/photo-1633356122544-f134324a6cee?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",content:["React Server Components (RSC) represent a paradigm shift in how we build React applications. By moving components to the server, we can reduce bundle sizes and improve initial page load performance significantly. This isn't just a small optimization; it's a rethink of the client-server boundary.","Traditionally, React apps were client-heavy. The browser had to download a massive JavaScript bundle, parse it, and execute it before the user saw anything interactive. With RSC, components that don't need interactivity (like static layouts, markdown renderers, or data-heavy dashboards) stay on the server.","This means less JavaScript sent to the client, faster First Contentful Paint (FCP), and a smoother user experience on low-end devices. Frameworks like Next.js are leading this charge, making RSC the default way to build modern web apps.","However, the learning curve is real. Developers now need to think about 'use client' and 'use server' directives, serialization boundaries, and how state flows between these two worlds. But the benefitsbetter SEO, performance, and developer experienceare well worth the effort."]},{id:2,title:"Mastering CSS Grid Layouts",category:"Design",readTime:"8 min",author:"Mike Ross",date:"Oct 22, 2024",image:"https://images.unsplash.com/photo-1507721999472-8ed4421c4af2?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",content:["CSS Grid has revolutionized web layout design, offering a two-dimensional grid-based layout system that, compared to Flexbox, is a game-changer for complex page structures. While Flexbox is perfect for one-dimensional layouts (rows OR columns), Grid handles both simultaneously.","One of the most powerful features of CSS Grid is 'grid-template-areas'. This allows you to name sections of your layout (like 'header', 'sidebar', 'main', 'footer') and visualize your layout directly in your CSS code. It makes responsive design incredibly intuitivejust redefine the template areas for different media queries.","Another often overlooked feature is `minmax()`. It allows you to create resilient tracks that adapt to their content but never shrink below a certain size. Combined with `auto-fit` and `auto-fill`, you can create responsive galleries that require zero media queries.","Start small. You don't need to replace every Flexbox container with Grid. Use Grid for the main page layout and Flexbox for aligning items inside buttons or navigation bars. They are best friends, not competitors."]},{id:3,title:"Why Python Won the AI Wars",category:"Data Science",readTime:"6 min",author:"Dr. Elena Vo",date:"Sep 10, 2024",image:"https://images.unsplash.com/photo-1515879218367-8466d910aaa4?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",content:["If you look at the landscape of Artificial Intelligence and Machine Learning today, one language stands undisputed: Python. But why? It wasn't the fastest language (C++ wins there), nor the most type-safe (Java or Rust).","Python won because of its simplicity and its ecosystem. Libraries like NumPy and Pandas turned data manipulation into a breeze. Then came Scikit-learn, democratizing machine learning algorithms. And finally, the heavy hitters: TensorFlow and PyTorch.","These frameworks provide Pythonic wrappers around highly optimized C++ and CUDA code. This gives data scientists the best of both worlds: the ease of writing Python scripts and the raw performance of low-level languages running on GPUs.","Furthermore, the community support is unparalleled. From research papers implementing code in PyTorch to Jupyter Notebooks used for education, Python is the lingua franca of AI. If you are starting a career in AI today, Python is not optionalit is the foundation."]}],os={forest:"text-[#064E3B]",bg:"bg-[#FBFFF9]",glass:"bg-white/90 backdrop-blur-xl border border-white/40 shadow-xl",input:"bg-white border border-gray-200 focus:ring-2 focus:ring-[#1A8F3A] focus:outline-none rounded-xl px-4 py-3 w-full transition-all shadow-sm",card:"bg-white rounded-2xl shadow-sm border border-gray-100 hover:shadow-xl hover:-translate-y-1 transition-all duration-300"},sn=({children:s,onClick:e,variant:n="primary",className:r="",disabled:l=!1,...u})=>{const f="px-6 py-3 rounded-xl font-bold transition-all duration-200 transform hover:scale-[1.02] active:scale-95 flex items-center justify-center gap-2 shadow-sm disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",g={primary:"bg-gradient-to-r from-[#1A8F3A] to-[#14702D] text-white shadow-green-900/20",secondary:"bg-white text-[#1A8F3A] border-2 border-[#1A8F3A] hover:bg-green-50",ghost:"text-gray-600 hover:text-[#1A8F3A] hover:bg-green-50/50",danger:"bg-red-50 text-red-600 hover:bg-red-100 shadow-sm border border-red-200",dark:"bg-[#064E3B] text-white hover:bg-[#0A5C46]",accent:"bg-purple-600 text-white hover:bg-purple-700 shadow-purple-900/20",white:"bg-white text-[#064E3B] hover:bg-gray-100 shadow-lg"};return _.jsx("button",{onClick:e,disabled:l,className:`${f} ${g[n]} ${r}`,...u,children:s})},er=({label:s,...e})=>_.jsxs("div",{className:"mb-4",children:[s&&_.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2 ml-1 tracking-wide",children:s}),_.jsx("input",{className:os.input,...e})]}),uo=({children:s,color:e="green",className:n=""})=>{const r={green:"bg-green-100 text-green-800",blue:"bg-blue-100 text-blue-800",purple:"bg-purple-100 text-purple-800",orange:"bg-orange-100 text-orange-800",red:"bg-red-100 text-red-800"};return _.jsx("span",{className:`${r[e]||r.green} px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider ${n}`,children:s})},Jb=()=>_.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-[#FBFFF9]",children:[_.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-green-200 border-t-[#1A8F3A]"}),_.jsx("p",{className:"mt-4 text-[#064E3B] font-bold animate-pulse",children:"Loading MindCrafters..."})]});function M4(){const[s,e]=pe.useState(null),[n,r]=pe.useState(null),[l,u]=pe.useState(!0),[f,g]=pe.useState("home"),[p,y]=pe.useState(null),[T,w]=pe.useState(null),[N,q]=pe.useState(!1),[G,ee]=pe.useState(!1),[K,re]=pe.useState(!1),[he,ue]=pe.useState("login"),[fe,Pe]=pe.useState(Xp),[we,I]=pe.useState(hE),[S,R]=pe.useState(O4);pe.useEffect(()=>{const P=I2(Yr,async Z=>{if(Z&&Z.isAnonymous){await Xv(Yr),e(null),r(null),u(!1);return}if(e(Z),Z){const ie=Zr("users",Z.uid),Ee=await Hb(ie);if(Ee.exists())r(Ee.data());else{const M=(await Ch(Ri("users"))).empty;let Y="User";Z.displayName?Y=Z.displayName:Z.email&&(Y=Z.email.split("@")[0]);const te={email:Z.email,displayName:Y,role:M?"admin":"student",createdAt:tu(),enrolledCourses:[],certificates:[],progress:{}};await rE(ie,te),r(te)}}else r(null);u(!1)});return()=>P()},[]),pe.useEffect(()=>{const P=Gm(Ri("courses")),Z=e4(P,ie=>{const Ee=ie.docs.map(Ne=>({id:Ne.id,...Ne.data()}));if(Ee.length>0){Pe(Ee);const Ne=[...new Set(Ee.map(M=>M.category))];I(Ne.length>0?Ne:hE)}},ie=>{console.log("Using mock data (Auth required for real-time updates)")});return()=>Z()},[]);const O=(P,Z={})=>{g(P),Z.courseId&&y(Z.courseId),Z.blogId&&w(Z.blogId),q(!1),ee(!1),window.scrollTo({top:0,behavior:"smooth"})},D=async P=>{if(s)try{P.displayName&&await Yv(s,{displayName:P.displayName});const Z=Zr("users",s.uid);await Ul(Z,P),r(ie=>({...ie,...P})),e({...s,...P})}catch(Z){throw console.error("Profile update failed:",Z),Z}},k=async(P,Z)=>{P.preventDefault();const ie=P.target.email.value,Ee=P.target.password.value,Ne=P.target.fullName?P.target.fullName.value:"",M=P.target.interest?P.target.interest.value:"";try{if(Z==="login")await x2(Yr,ie,Ee);else if(Z==="signup"){if(Ee.length<6)throw new Error("Password must be at least 6 characters.");const te=(await S2(Yr,ie,Ee)).user,ve=(await Ch(Ri("users"))).empty;await Yv(te,{displayName:Ne||ie.split("@")[0]}),await rE(Zr("users",te.uid),{email:te.email,displayName:Ne||ie.split("@")[0],interest:M||"General",role:ve?"admin":"student",createdAt:tu(),enrolledCourses:[],certificates:[],progress:{}})}else if(Z==="reset"){await w2(Yr,ie),alert("Reset link sent!");return}re(!1)}catch(Y){console.error(Y),alert(Y.message)}},x=async()=>{try{await $2(Yr,new ss),re(!1)}catch(P){console.error(P.message)}},Be=async()=>{await Xv(Yr),g("home")},qe=pe.useMemo(()=>{const P={};return fe.forEach(Z=>{const ie=Z.category||"Other";P[ie]||(P[ie]=[]),P[ie].length<4&&P[ie].push(Z)}),P},[fe]);return l?_.jsx(Jb,{}):_.jsxs("div",{className:`min-h-screen ${os.bg} font-sans text-gray-800 selection:bg-green-200 selection:text-green-900`,children:[_.jsx("header",{className:`fixed w-full z-50 transition-all duration-300 ${os.glass}`,children:_.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:_.jsxs("div",{className:"flex justify-between h-20 items-center",children:[_.jsxs("div",{className:"flex items-center cursor-pointer group",onClick:()=>O("home"),children:[_.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-[#1A8F3A] to-[#064E3B] rounded-xl flex items-center justify-center mr-3 shadow-lg group-hover:scale-110 transition-transform",children:_.jsx(oh,{className:"text-white",size:20,fill:"currentColor"})}),_.jsxs("div",{className:"flex flex-col",children:[_.jsx("span",{className:`text-xl font-black tracking-tight ${os.forest}`,children:"MINDCRAFTERS"}),_.jsx("span",{className:"text-[10px] font-bold text-[#3CB371] tracking-[0.2em] uppercase",children:"Elevate Future"})]})]}),_.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[_.jsx("button",{onClick:()=>O("home"),className:`text-sm font-bold hover:text-[#1A8F3A] transition-colors ${f==="home"?"text-[#1A8F3A]":"text-gray-600"}`,children:"Home"}),_.jsxs("div",{className:"relative group h-20 flex items-center",onMouseEnter:()=>ee(!0),onMouseLeave:()=>ee(!1),children:[_.jsxs("button",{onClick:()=>O("courses"),className:`text-sm font-bold flex items-center gap-1 hover:text-[#1A8F3A] transition-colors ${f==="courses"?"text-[#1A8F3A]":"text-gray-600"}`,children:["Courses ",_.jsx(mE,{size:14})]}),G&&_.jsxs("div",{className:"absolute top-16 left-1/2 transform -translate-x-1/2 w-[900px] bg-white rounded-2xl shadow-2xl border border-gray-100 p-8 animate-fade-in-up cursor-default z-50 flex gap-8",children:[_.jsxs("div",{className:"w-1/4 border-r border-gray-100 pr-4",children:[_.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4",children:"Categories"}),we.slice(0,6).map(P=>_.jsxs("div",{onClick:()=>O("courses",{}),className:"py-2 px-3 rounded-lg hover:bg-green-50 text-sm font-medium text-gray-700 cursor-pointer flex justify-between items-center group/cat",children:[P," ",_.jsx(rw,{size:14,className:"opacity-0 group-hover/cat:opacity-100 text-[#1A8F3A]"})]},P)),_.jsx("div",{className:"mt-4 pt-4 border-t",children:_.jsxs("div",{className:"py-2 px-3 rounded-lg bg-gray-900 text-white text-sm font-bold cursor-pointer hover:bg-gray-800 flex items-center gap-2",onClick:()=>O("courses"),children:["View All Courses ",_.jsx(so,{size:14})]})})]}),_.jsxs("div",{className:"w-3/4",children:[_.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4",children:"Popular Now"}),_.jsx("div",{className:"grid grid-cols-2 gap-6",children:Object.entries(qe).slice(0,4).map(([P,Z])=>_.jsxs("div",{children:[_.jsx("h5",{className:"font-bold text-[#1A8F3A] mb-2 text-sm",children:P}),_.jsx("ul",{className:"space-y-2",children:Z.map(ie=>_.jsx("li",{onClick:()=>O("course-detail",{courseId:ie.id}),className:"text-sm text-gray-600 hover:text-gray-900 hover:underline cursor-pointer truncate",children:ie.title},ie.id))})]},P))})]})]})]}),_.jsx("button",{onClick:()=>O("blogs"),className:`text-sm font-bold hover:text-[#1A8F3A] transition-colors ${f==="blogs"?"text-[#1A8F3A]":"text-gray-600"}`,children:"Blogs"}),_.jsx("button",{onClick:()=>O("tools"),className:`text-sm font-bold hover:text-[#1A8F3A] transition-colors ${f==="tools"?"text-[#1A8F3A]":"text-gray-600"}`,children:"Playground"})]}),_.jsxs("div",{className:"flex items-center space-x-4",children:[s?_.jsxs("div",{className:"flex items-center gap-3 group relative",children:[_.jsxs("div",{className:"hidden sm:block text-right cursor-pointer",onClick:()=>O("dashboard"),children:[_.jsx("div",{className:"text-sm font-bold text-gray-900",children:n?.displayName||"User"}),_.jsx("div",{className:"text-[10px] font-bold text-[#1A8F3A] uppercase tracking-wide",children:n?.role})]}),_.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-green-100 to-green-200 border-2 border-white shadow-md flex items-center justify-center text-[#064E3B] font-bold cursor-pointer hover:scale-105 transition-transform",onClick:()=>O("dashboard"),children:(s.email||"U")[0].toUpperCase()}),_.jsx("button",{onClick:Be,className:"absolute -bottom-10 right-0 bg-white shadow-lg px-3 py-1 rounded-lg text-xs font-bold text-red-500 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto",children:"Logout"})]}):_.jsx(sn,{onClick:()=>re(!0),className:"shadow-none",children:"Sign In"}),_.jsx("button",{className:"md:hidden text-gray-600",onClick:()=>q(!N),children:N?_.jsx(ah,{}):_.jsx(vw,{})})]})]})})}),_.jsxs("main",{className:"pt-20",children:[f==="home"&&_.jsx(k4,{navigateTo:O,courses:fe,blogs:S,setShowAuthModal:re,user:s}),f==="courses"&&_.jsx(j4,{courses:fe,categories:we,navigateTo:O}),f==="course-detail"&&_.jsx(P4,{courseId:p,user:s,userData:n,setUserData:r,navigateTo:O,setShowAuthModal:re}),f==="certificate"&&_.jsx(U4,{courseId:p,userData:n,courses:fe}),f==="blog-detail"&&_.jsx(q4,{blogId:T,blogs:S,navigateTo:O}),f==="dashboard"&&_.jsx(L4,{user:s,userData:n,courses:fe,navigateTo:O,handleLogout:Be}),f==="tools"&&_.jsx(F4,{}),f==="blogs"&&_.jsx(B4,{blogs:S,navigateTo:O}),f==="admin"&&_.jsx(z4,{user:s,userData:n})]}),_.jsx(V4,{user:s,navigateTo:O,updateUserProfile:D}),_.jsxs("footer",{className:"bg-[#022c22] text-white pt-20 pb-10 relative overflow-hidden mt-20",children:[_.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-[#1A8F3A] via-[#3CB371] to-[#1A8F3A]"}),_.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-16",children:[_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"w-8 h-8 bg-[#1A8F3A] rounded-lg flex items-center justify-center",children:_.jsx(oh,{size:18})}),_.jsx("span",{className:"font-bold text-xl tracking-tight",children:"MINDCRAFTERS"})]}),_.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Empowering the next generation of developers with interactive, high-quality, and accessible education."}),_.jsxs("div",{className:"flex gap-4",children:[_.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-[#1A8F3A] transition-colors",children:_.jsx(mw,{size:20})}),_.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-[#1A8F3A] transition-colors",children:_.jsx(vE,{size:20})}),_.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-[#1A8F3A] transition-colors",children:_.jsx(yE,{size:20})})]})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-bold text-lg mb-6 text-[#3CB371]",children:"Platform"}),_.jsxs("ul",{className:"space-y-4 text-sm text-gray-400",children:[_.jsx("li",{children:_.jsx("button",{onClick:()=>O("courses"),className:"hover:text-white transition-colors text-left",children:"Browse Courses"})}),_.jsx("li",{children:_.jsx("button",{onClick:()=>O("tools"),className:"hover:text-white transition-colors text-left",children:"Code Playground"})}),_.jsx("li",{children:_.jsx("button",{onClick:()=>O("blogs"),className:"hover:text-white transition-colors text-left",children:"Tech Blog"})})]})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-bold text-lg mb-6 text-[#3CB371]",children:"Company"}),_.jsxs("ul",{className:"space-y-4 text-sm text-gray-400",children:[_.jsx("li",{children:_.jsx("button",{className:"hover:text-white transition-colors text-left",children:"About Us"})}),_.jsx("li",{children:_.jsx("button",{className:"hover:text-white transition-colors text-left",children:"Careers"})}),_.jsx("li",{children:_.jsx("button",{className:"hover:text-white transition-colors text-left",children:"Contact Support"})})]})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-bold text-lg mb-6 text-[#3CB371]",children:"Stay Updated"}),_.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Get the latest trends directly to your inbox."}),_.jsxs("div",{className:"flex flex-col gap-3",children:[_.jsx("input",{type:"email",placeholder:"Enter your email",className:"bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-sm text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#1A8F3A]"}),_.jsx("button",{className:"bg-[#1A8F3A] hover:bg-[#14702D] text-white font-bold py-3 rounded-lg transition-colors",children:"Subscribe"})]})]})]}),_.jsxs("div",{className:"border-t border-white/10 pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[_.jsxs("div",{className:"text-gray-500 text-sm",children:[" ",new Date().getFullYear()," MindCrafters Inc. All rights reserved."]}),_.jsxs("div",{className:"flex gap-8 text-sm text-gray-500",children:[_.jsx("button",{className:"hover:text-white transition-colors",children:"Privacy Policy"}),_.jsx("button",{className:"hover:text-white transition-colors",children:"Terms of Service"})]})]})]})]}),K&&_.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in",children:_.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden relative",children:[_.jsxs("div",{className:"p-8",children:[_.jsxs("div",{className:"text-center mb-6",children:[_.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4 text-[#1A8F3A]",children:_.jsx(Km,{size:32})}),_.jsx("h2",{className:"text-2xl font-black text-gray-900 tracking-tight",children:he==="login"?"Welcome Back":he==="signup"?"Join MindCrafters":"Reset Password"}),_.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Your gateway to tech mastery"})]}),he==="reset"?_.jsxs("form",{onSubmit:P=>k(P,"reset"),children:[_.jsx(er,{name:"email",type:"email",placeholder:"Enter your email",required:!0}),_.jsx(sn,{type:"submit",className:"w-full mt-4",children:"Send Link"}),_.jsx("button",{type:"button",onClick:()=>ue("login"),className:"w-full text-center mt-4 text-sm text-gray-500 hover:text-green-600",children:"Back"})]}):_.jsxs("form",{onSubmit:P=>k(P,he),className:"space-y-4",children:[he==="signup"&&_.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-fade-in",children:[_.jsx("div",{className:"col-span-2 md:col-span-1",children:_.jsx(er,{name:"fullName",placeholder:"John Doe",label:"Full Name",required:!0})}),_.jsx("div",{className:"col-span-2 md:col-span-1",children:_.jsxs("div",{className:"mb-4",children:[_.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2 ml-1 tracking-wide",children:"Interest"}),_.jsxs("select",{name:"interest",className:os.input,children:[_.jsx("option",{value:"Development",children:"Development"}),_.jsx("option",{value:"Design",children:"Design"}),_.jsx("option",{value:"Data Science",children:"Data Science"}),_.jsx("option",{value:"Mobile",children:"Mobile"})]})]})})]}),_.jsx(er,{name:"email",type:"email",placeholder:"you@example.com",label:"Email",required:!0,autoComplete:"email"}),_.jsx(er,{name:"password",type:"password",placeholder:"",label:"Password",required:!0,autoComplete:he==="signup"?"new-password":"current-password"}),_.jsx(sn,{type:"submit",className:"w-full shadow-lg shadow-green-200",children:he==="login"?"Sign In":"Create Account"}),_.jsx("button",{type:"button",onClick:x,className:"w-full flex items-center justify-center px-4 py-3 border-2 border-gray-100 rounded-xl text-sm font-bold text-gray-700 hover:bg-gray-50 transition-all transform hover:scale-[1.01]",children:"Google"})]}),_.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:he==="login"?_.jsxs(_.Fragment,{children:["New here? ",_.jsx("button",{onClick:()=>ue("signup"),className:"text-[#1A8F3A] font-bold hover:underline",children:"Sign up"})]}):_.jsxs(_.Fragment,{children:["Have an account? ",_.jsx("button",{onClick:()=>ue("login"),className:"text-[#1A8F3A] font-bold hover:underline",children:"Log in"})]})})]}),_.jsx("button",{onClick:()=>re(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:_.jsx(ah,{size:24})})]})})]})}function V4({user:s,navigateTo:e,updateUserProfile:n}){const[r,l]=pe.useState(!1),[u,f]=pe.useState([{text:"Hi! I'm Crafty, your AI guide. I can help you navigate, submit feedback, or update your profile.",sender:"bot"}]),[g,p]=pe.useState(""),[y,T]=pe.useState("chat"),w=pe.useRef(null);pe.useEffect(()=>{w.current?.scrollIntoView({behavior:"smooth"})},[u,r]);const N=async G=>{if(G.preventDefault(),!g.trim())return;const ee=g.trim();if(f(re=>[...re,{text:ee,sender:"user"}]),p(""),y==="feedback"){try{await Ll(Ri("feedback"),{userId:s?.uid||"anonymous",userEmail:s?.email||"anonymous",message:ee,createdAt:tu()}),q("Thanks! I've logged your feedback and forwarded it to support.")}catch{q("I had trouble saving your feedback, but I've noted it.")}T("chat");return}if(y==="profile_name"){if(s)try{await n({displayName:ee}),q(`Great! I've updated your profile name to "${ee}".`)}catch{q("Sorry, I couldn't update your profile right now.")}else q("You need to be logged in to update your profile.");T("chat");return}const K=ee.toLowerCase();if(K.includes("go to")||K.includes("open")||K.includes("show me")){K.includes("home")?(e("home"),q("Navigating to Home.")):K.includes("course")?(e("courses"),q("Opening Courses.")):K.includes("dashboard")?s?(e("dashboard"),q("Opening Dashboard.")):q("You need to log in."):q("I can take you to Home, Courses, or Dashboard.");return}if(K.includes("feedback")||K.includes("support")){T("feedback"),q("Please type your feedback below.");return}if((K.includes("update")||K.includes("change"))&&(K.includes("profile")||K.includes("name"))){T("profile_name"),q("What should your new name be?");return}q("I'm Crafty. Ask me to navigate or give feedback.")},q=G=>{setTimeout(()=>{f(ee=>[...ee,{text:G,sender:"bot"}])},600)};return _.jsxs("div",{className:"fixed bottom-6 right-6 z-[100] flex flex-col items-end",children:[r&&_.jsxs("div",{className:"bg-white w-80 h-96 rounded-2xl shadow-2xl border border-gray-100 flex flex-col overflow-hidden animate-fade-in-up mb-4",children:[_.jsxs("div",{className:"bg-[#1A8F3A] p-4 flex justify-between items-center text-white",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center",children:_.jsx(XA,{size:18})}),_.jsx("span",{className:"font-bold",children:"Crafty Support"})]}),_.jsx("button",{onClick:()=>l(!1),className:"hover:bg-white/20 p-1 rounded",children:_.jsx(ah,{size:16})})]}),_.jsxs("div",{className:"flex-grow overflow-y-auto p-4 space-y-3 bg-gray-50",children:[u.map((G,ee)=>_.jsx("div",{className:`flex ${G.sender==="user"?"justify-end":"justify-start"}`,children:_.jsx("div",{className:`max-w-[80%] px-4 py-2 rounded-2xl text-sm ${G.sender==="user"?"bg-[#1A8F3A] text-white rounded-br-none":"bg-white border border-gray-200 text-gray-700 rounded-bl-none shadow-sm"}`,children:G.text})},ee)),_.jsx("div",{ref:w})]}),_.jsxs("form",{onSubmit:N,className:"p-3 bg-white border-t flex gap-2",children:[_.jsx("input",{className:"flex-grow bg-gray-100 rounded-full px-4 py-2 text-sm focus:outline-none",placeholder:"Type a message...",value:g,onChange:G=>p(G.target.value)}),_.jsx("button",{type:"submit",className:"bg-[#1A8F3A] text-white p-2 rounded-full hover:bg-green-700",children:_.jsx(Rw,{size:16})})]})]}),_.jsx("button",{onClick:()=>l(!r),className:"w-14 h-14 bg-[#1A8F3A] rounded-full shadow-xl flex items-center justify-center text-white hover:scale-110 transition-transform hover:bg-green-700",children:r?_.jsx(ah,{size:24}):_.jsx(bw,{size:24})})]})}function k4({navigateTo:s,courses:e,blogs:n,setShowAuthModal:r,user:l}){const[u,f]=pe.useState(0),g=[{title:"Master Full-Stack Dev",subtitle:"Build real-world projects from scratch with React, Node, and modern tools.",bgImage:"https://images.unsplash.com/photo-1587620962725-abab7fe55159?ixlib=rb-1.2.1&auto=format&fit=crop&w=1600&q=80",cta:"Start Coding",image:"https://images.unsplash.com/photo-1498050108023-c5249f4df085?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{title:"Data Science & AI",subtitle:"Unlock the power of data with Python, Machine Learning, and deep analytics.",bgImage:"https://images.unsplash.com/photo-1526374965328-7f61d4dc18c5?ixlib=rb-1.2.1&auto=format&fit=crop&w=1600&q=80",cta:"Explore AI",image:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{title:"Mobile App Design",subtitle:"Create beautiful, responsive interfaces for iOS & Android using Flutter & Figma.",bgImage:"https://images.unsplash.com/photo-1551650975-87deedd944c3?ixlib=rb-1.2.1&auto=format&fit=crop&w=1600&q=80",cta:"View Courses",image:"https://images.unsplash.com/photo-1512941937669-90a1b58e7e9c?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"}];return pe.useEffect(()=>{const p=setInterval(()=>f(y=>(y+1)%g.length),5e3);return()=>clearInterval(p)},[]),_.jsxs("div",{className:"animate-fade-in",children:[_.jsx("style",{children:"@keyframes float { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-15px); } } .animate-float { animation: float 6s ease-in-out infinite; }"}),_.jsxs("div",{className:"relative h-[600px] overflow-hidden",children:[g.map((p,y)=>_.jsxs("div",{className:`absolute inset-0 transition-opacity duration-1000 ${y===u?"opacity-100 z-10":"opacity-0 z-0"} flex items-center`,children:[_.jsxs("div",{className:"absolute inset-0",children:[_.jsx("img",{src:p.bgImage,className:"w-full h-full object-cover",alt:"background"}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/90 via-black/70 to-black/30"})]}),_.jsxs("div",{className:"max-w-7xl mx-auto px-6 w-full grid grid-cols-1 md:grid-cols-2 items-center relative h-full",children:[_.jsxs("div",{className:"space-y-8 animate-slide-in-left z-20 relative",children:[_.jsx(uo,{color:"green",children:"Premium Learning"}),_.jsx("h1",{className:"text-5xl md:text-7xl font-black text-white leading-tight drop-shadow-lg",children:p.title}),_.jsx("p",{className:"text-xl text-green-100 max-w-md font-light",children:p.subtitle}),_.jsx("div",{className:"flex gap-4",children:_.jsxs(sn,{variant:"secondary",className:"bg-white text-green-900 border-none hover:bg-gray-100",onClick:()=>s("courses"),children:[p.cta," ",_.jsx(so,{size:18})]})})]}),_.jsxs("div",{className:"hidden md:flex justify-center items-center relative h-full",children:[_.jsx("div",{className:"w-[500px] h-[500px] bg-white/5 rounded-full blur-3xl absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-0"}),_.jsx("img",{src:p.image,alt:p.title,className:"relative z-10 animate-float drop-shadow-2xl rounded-2xl border-4 border-white/10 object-cover h-[400px] w-[600px] shadow-black/50"})]})]})]},y)),_.jsx("div",{className:"absolute bottom-10 left-1/2 transform -translate-x-1/2 z-20 flex space-x-3",children:g.map((p,y)=>_.jsx("button",{onClick:()=>f(y),className:`h-3 rounded-full transition-all duration-300 ${y===u?"bg-white w-8":"bg-white/40 w-3 hover:bg-white/60"}`},y))})]}),_.jsxs("div",{className:"py-24 bg-white relative overflow-hidden",children:[_.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[_.jsx("div",{className:"absolute -top-24 -right-24 w-96 h-96 bg-green-50 rounded-full blur-3xl opacity-50"}),_.jsx("div",{className:"absolute top-1/2 -left-24 w-72 h-72 bg-blue-50 rounded-full blur-3xl opacity-50"})]}),_.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10",children:[_.jsxs("div",{className:"text-center mb-16 max-w-3xl mx-auto",children:[_.jsx(uo,{color:"green",children:"Our Mission"}),_.jsx("h2",{className:"text-4xl font-black text-[#064E3B] mt-4 mb-6",children:"Reinventing How You Learn Tech"}),_.jsx("p",{className:"text-lg text-gray-600",children:"We believe education should be accessible, practical, and directly linked to industry needs. Here is how we are different."})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12",children:[{icon:_.jsx(Aw,{size:32}),title:"Project-Based Learning",desc:"Stop watching tutorials. Start building real applications that solve real problems."},{icon:_.jsx(jw,{size:32}),title:"Peer Code Reviews",desc:"Get feedback from experienced developers and improve your code quality instantly."},{icon:_.jsx(_E,{size:32}),title:"Gamified Progress",desc:"Earn XP, badges, and certificates as you master new skills and complete challenges."}].map((p,y)=>_.jsxs("div",{className:"bg-[#FBFFF9] p-8 rounded-3xl border border-green-100 hover:shadow-xl transition-all duration-300 group hover:-translate-y-2",children:[_.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-2xl flex items-center justify-center text-[#1A8F3A] mb-6 group-hover:scale-110 transition-transform duration-300 shadow-sm",children:p.icon}),_.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:p.title}),_.jsx("p",{className:"text-gray-500 leading-relaxed",children:p.desc})]},y))}),_.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mt-20 border-t border-gray-100 pt-12",children:[{num:"50k+",label:"Active Learners"},{num:"120+",label:"Expert Mentors"},{num:"4.9",label:"Average Rating"},{num:"95%",label:"Job Placement"}].map((p,y)=>_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-4xl font-black text-[#1A8F3A] mb-2",children:p.num}),_.jsx("div",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider",children:p.label})]},y))})]})]}),_.jsx("div",{className:"bg-white py-20",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-6 grid grid-cols-1 md:grid-cols-2 gap-16 items-center",children:[_.jsxs("div",{className:"order-2 md:order-1 relative",children:[_.jsx("div",{className:"absolute inset-0 bg-[#D8FFE0] rounded-3xl transform rotate-3"}),_.jsx("img",{src:"https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",alt:"Career Success",className:"relative rounded-3xl shadow-2xl transform -rotate-3 hover:rotate-0 transition-transform duration-500 w-full object-cover h-[500px]"})]}),_.jsxs("div",{className:"order-1 md:order-2 space-y-8",children:[_.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-green-50 text-[#1A8F3A] rounded-full font-bold text-sm",children:[_.jsx(JA,{size:18})," Career Accelerator"]}),_.jsx("h2",{className:"text-4xl font-black text-gray-900 leading-tight",children:"Unlock Your True Potential With Industry Experts"}),_.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:"Don't just learn to codelearn to build. Our curriculum is crafted by tech leaders to bridge the gap between theory and the real world. Get hired by top companies."}),_.jsx("div",{className:"space-y-4",children:["Certified Learning","Job Ready Skills","Community Mentorship"].map((p,y)=>_.jsxs("div",{className:"flex gap-4 items-start",children:[_.jsx("div",{className:"bg-green-100 p-2 rounded-lg text-green-700",children:_.jsx(tw,{size:20})}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-bold text-gray-900",children:p}),_.jsx("p",{className:"text-sm text-gray-500",children:"Industry recognized and practical."})]})]},y))}),_.jsx(sn,{onClick:()=>l?s("courses"):r(!0),children:"Start Your Journey"})]})]})}),_.jsx("div",{className:"py-20 bg-gray-50",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[_.jsxs("div",{className:"flex justify-between items-end mb-12",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"text-3xl font-bold text-[#064E3B]",children:"Popular Courses"}),_.jsx("p",{className:"text-gray-500 mt-2",children:"Join thousands today"})]}),_.jsxs("button",{onClick:()=>s("courses"),className:"text-[#1A8F3A] font-bold hover:underline",children:["View All ",_.jsx(so,{size:16})]})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.slice(0,3).map(p=>_.jsxs("div",{className:"bg-white rounded-2xl shadow-sm hover:shadow-xl transition-all duration-300 overflow-hidden border border-gray-100 flex flex-col",children:[_.jsxs("div",{className:"h-48 relative overflow-hidden",children:[_.jsx("img",{src:p.thumbnail,className:"w-full h-full object-cover"}),p.price===0&&_.jsx("div",{className:"absolute top-4 right-4 bg-green-500 text-white px-2 py-1 rounded text-xs font-bold",children:"FREE"})]}),_.jsxs("div",{className:"p-6 flex-grow flex flex-col",children:[_.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:p.title}),_.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-50 flex justify-between items-center",children:[_.jsx("span",{className:"text-2xl font-bold text-gray-900",children:p.price===0?"Free":`$${p.price}`}),_.jsx("button",{onClick:()=>s("course-detail",{courseId:p.id}),className:"bg-green-50 text-[#1A8F3A] px-4 py-2 rounded-lg font-bold text-sm hover:bg-[#1A8F3A] hover:text-white transition-all",children:"Details"})]})]})]},p.id))})]})}),_.jsxs("div",{className:"py-24 bg-gradient-to-br from-gray-900 to-[#064E3B] relative overflow-hidden",children:[_.jsx("div",{className:"absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/hexellence.png')]"}),_.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10",children:[_.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-12 gap-6",children:[_.jsxs("div",{className:"text-white",children:[_.jsx(uo,{color:"green",className:"bg-green-500/20 text-green-300",children:"Latest Insights"}),_.jsx("h2",{className:"text-4xl font-black mt-4",children:"Stories & Articles"})]}),_.jsxs(sn,{variant:"white",onClick:()=>s("blogs"),children:["Read the Blog ",_.jsx(so,{size:18})]})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:n.slice(0,3).map((p,y)=>_.jsxs("div",{onClick:()=>s("blog-detail",{blogId:p.id}),className:"group relative h-96 rounded-3xl overflow-hidden cursor-pointer shadow-2xl border border-white/10",children:[_.jsx("img",{src:p.image,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/50 to-transparent opacity-80 transition-opacity group-hover:opacity-90"}),_.jsxs("div",{className:"absolute bottom-0 left-0 p-8 w-full transform transition-transform duration-500 translate-y-4 group-hover:translate-y-0",children:[_.jsx("div",{className:"text-[#3CB371] text-xs font-bold uppercase tracking-wider mb-2",children:p.category}),_.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:p.title}),_.jsxs("div",{className:"flex items-center gap-4 text-gray-300 text-sm opacity-0 group-hover:opacity-100 transition-opacity duration-500 delay-100",children:[_.jsxs("span",{children:[p.readTime," read"]}),_.jsx("span",{className:"w-1 h-1 bg-gray-500 rounded-full"}),_.jsxs("span",{className:"flex items-center gap-1 text-[#3CB371]",children:["Read Now ",_.jsx(so,{size:14})]})]})]})]},p.id))})]})]}),_.jsxs("div",{className:"bg-[#FBFFF9] py-20 overflow-hidden",children:[_.jsx("div",{className:"max-w-7xl mx-auto px-6 mb-10",children:_.jsx("h2",{className:"text-3xl font-bold text-[#064E3B]",children:"Trusted by Learners"})}),_.jsx("div",{className:"flex space-x-6 px-6 overflow-x-auto pb-10 scrollbar-hide snap-x",children:[1,2,3,4,5].map(p=>_.jsxs("div",{className:"snap-center shrink-0 w-[350px] bg-white p-8 rounded-2xl shadow-lg border border-gray-100 relative",children:[_.jsx("div",{className:"absolute -top-4 -right-4 bg-green-100 p-3 rounded-full",children:_.jsx(Nw,{className:"text-[#1A8F3A]",fill:"currentColor",size:24})}),_.jsx("p",{className:"text-gray-600 italic mb-6 leading-relaxed",children:'"This platform completely changed my career trajectory. The simplified approach to complex topics is unmatched."'}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full overflow-hidden",children:_.jsx("img",{src:`https://i.pravatar.cc/150?img=${p+10}`,alt:"User"})}),_.jsxs("div",{children:[_.jsx("div",{className:"font-bold text-gray-900",children:"Alex Johnson"}),_.jsx("div",{className:"text-xs text-gray-500",children:"Frontend Developer @ TechCorp"})]})]})]},p))})]})]})}function j4({courses:s,categories:e,navigateTo:n}){const[r,l]=pe.useState("All"),u=s.filter(f=>r==="All"||f.category===r);return _.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12 min-h-screen animate-fade-in",children:[_.jsx("div",{className:"text-center mb-16",children:_.jsx("h1",{className:"text-4xl font-black text-[#064E3B] mb-4",children:"Explore Our Curriculum"})}),_.jsxs("div",{className:"flex flex-wrap justify-center gap-3 mb-12",children:[_.jsx("button",{onClick:()=>l("All"),className:`px-6 py-2 rounded-full font-bold transition-all ${r==="All"?"bg-[#1A8F3A] text-white shadow-lg":"bg-white text-gray-600 border hover:border-[#1A8F3A]"}`,children:"All"}),e.map(f=>_.jsx("button",{onClick:()=>l(f),className:`px-6 py-2 rounded-full font-bold transition-all ${r===f?"bg-[#1A8F3A] text-white shadow-lg":"bg-white text-gray-600 border hover:border-[#1A8F3A]"}`,children:f},f))]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:u.map(f=>_.jsxs("div",{onClick:()=>n("course-detail",{courseId:f.id}),className:`${os.card} flex flex-col cursor-pointer group`,children:[_.jsxs("div",{className:"h-52 bg-gray-100 relative overflow-hidden rounded-t-2xl",children:[_.jsx("img",{src:f.thumbnail,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),f.price===0&&_.jsx("div",{className:"absolute top-4 right-4 bg-green-500 text-white px-2 py-1 rounded text-xs font-bold",children:"FREE"})]}),_.jsxs("div",{className:"p-6 flex-grow flex flex-col",children:[_.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:f.title}),_.jsx("p",{className:"text-gray-500 text-sm line-clamp-2 mb-4",children:f.description}),_.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-50 flex justify-between items-center",children:[_.jsx("span",{className:"font-bold",children:f.price===0?"Free":`$${f.price}`}),_.jsxs("div",{className:"text-[#1A8F3A] font-bold text-sm flex items-center gap-1",children:["Details ",_.jsx(so,{size:14})]})]})]})]},f.id))})]})}function P4({courseId:s,user:e,userData:n,setUserData:r,navigateTo:l,setShowAuthModal:u}){const[f,g]=pe.useState(null),[p,y]=pe.useState([]),[T,w]=pe.useState({}),[N,q]=pe.useState(null),[G,ee]=pe.useState({}),[K,re]=pe.useState(!1),[he,ue]=pe.useState(!1),[fe,Pe]=pe.useState([]);pe.useEffect(()=>{if(!s)return;(async()=>{const k=Xp.find(qe=>qe.id===s);let x=null;try{const qe=await Hb(Zr("courses",s));qe.exists()&&(x={id:qe.id,...qe.data()})}catch{console.log("Checking mock data...")}const Be=x||k;if(Be){g(Be);const qe=[{id:"m1",title:"Introduction & Setup"},{id:"m2",title:"Core Concepts Deep Dive"},{id:"m3",title:"Building the Project"}];y(qe);const P={};let Z=[];qe.forEach(ie=>{const Ee=[{id:`l${ie.id}1`,title:"Welcome to the Module"},{id:`l${ie.id}2`,title:"Getting Started"},{id:`l${ie.id}3`,title:"Hands-on Exercise"}];P[ie.id]=Ee,Z=[...Z,...Ee]}),w(P),ee({m1:!0})}})(),n?.progress?.[s]?.completedLessons&&Pe(n.progress[s].completedLessons)},[s,n]);const we=async()=>{if(!e)return u(!0);if(f.price>0)return re(!0);ue(!0);try{const D=Zr("users",e.uid),k=n.enrolledCourses||[];k.includes(s)||(await Ul(D,{enrolledCourses:[...k,s]}),r(x=>({...x,enrolledCourses:[...x.enrolledCourses,s]})),alert("Enrolled successfully!"))}catch(D){console.error(D)}ue(!1)},I=async()=>{const D=Zr("users",e.uid),k=n?.enrolledCourses||[];await Ul(D,{enrolledCourses:[...k,s]}),r(x=>({...x,enrolledCourses:[...x.enrolledCourses,s]})),re(!1),alert("Purchase Successful!")},S=async D=>{if(!fe.includes(D)){const k=[...fe,D];Pe(k);const x=Zr("users",e.uid),Be={};Be[`progress.${s}.completedLessons`]=k,await Ul(x,Be);const qe=Object.values(T).flat().length;k.length===qe&&(alert("Course Completed! You earned a certificate."),await Ul(x,{certificates:t4({courseId:s,title:f.title,date:new Date().toISOString()})}))}},R=n?.enrolledCourses?.includes(s),O=fe.length>0&&fe.length===Object.values(T).flat().length;return f?N?_.jsxs("div",{className:"flex flex-col lg:flex-row h-[calc(100vh-80px)] bg-white animate-fade-in",children:[_.jsxs("div",{className:"flex-grow bg-black flex flex-col",children:[_.jsxs("div",{className:"h-14 flex items-center px-4 bg-[#111] border-b border-[#222] text-gray-400 justify-between",children:[_.jsxs("button",{onClick:()=>q(null),className:"hover:text-white flex items-center gap-2 text-sm",children:[_.jsx(pE,{size:16})," Back to Course"]}),_.jsx("span",{className:"text-sm font-bold text-white truncate max-w-md",children:N.title})]}),_.jsx("div",{className:"flex-grow flex items-center justify-center relative bg-[#000]",children:_.jsx("div",{className:"text-gray-500",children:"Video Placeholder"})}),_.jsx("div",{className:"p-4 bg-[#111] border-t border-[#222] flex justify-end",children:_.jsx(sn,{onClick:()=>S(N.id),disabled:fe.includes(N.id),children:fe.includes(N.id)?"Completed":"Mark Complete"})})]}),_.jsxs("div",{className:"w-full lg:w-96 border-l bg-white flex flex-col h-full overflow-hidden",children:[_.jsx("div",{className:"p-4 border-b font-bold text-gray-800 bg-gray-50",children:"Course Content"}),_.jsx("div",{className:"flex-grow overflow-y-auto",children:p.map(D=>_.jsxs("div",{children:[_.jsx("div",{className:"px-4 py-3 bg-gray-100 text-xs font-bold text-gray-500 uppercase",children:D.title}),T[D.id]?.map(k=>_.jsxs("div",{onClick:()=>q(k),className:`px-4 py-3 border-b border-gray-50 text-sm cursor-pointer hover:bg-green-50 flex gap-3 items-center ${N.id===k.id?"bg-green-100 text-green-800 font-bold":"text-gray-600"}`,children:[fe.includes(k.id)?_.jsx(ow,{size:16,className:"text-green-600"}):_.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300"}),k.title]},k.id))]},D.id))})]})]}):_.jsxs("div",{className:"bg-[#FBFFF9] animate-fade-in",children:[_.jsx("div",{className:"bg-[#1e1e1c] text-white py-12",children:_.jsx("div",{className:"max-w-6xl mx-auto px-6 flex flex-col lg:flex-row gap-12 relative",children:_.jsxs("div",{className:"lg:w-2/3 space-y-6",children:[_.jsx(uo,{color:"green",className:"bg-green-500/20 text-green-300",children:f.category}),_.jsx("h1",{className:"text-4xl font-black leading-tight",children:f.title}),_.jsx("p",{className:"text-lg text-gray-300",children:f.description}),R?_.jsxs("div",{className:"flex gap-4",children:[_.jsx(sn,{onClick:()=>q(T[p[0].id][0]),children:"Continue Learning"}),O&&_.jsx(sn,{variant:"secondary",onClick:()=>l("certificate",{courseId:s}),children:"Claim Certificate"})]}):_.jsxs("div",{className:"flex gap-4 items-center",children:[_.jsx("span",{className:"text-3xl font-bold",children:f.price===0?"Free":`$${f.price}`}),_.jsx(sn,{onClick:we,disabled:he,children:he?"Enrolling...":"Enroll Now"})]})]})})}),_.jsx("div",{className:"max-w-6xl mx-auto px-6 py-12 grid grid-cols-1 lg:grid-cols-3 gap-12",children:_.jsxs("div",{className:"lg:col-span-2",children:[_.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Course Content"}),_.jsx("div",{className:"border border-gray-200 rounded-xl overflow-hidden bg-white",children:p.map(D=>_.jsxs("div",{className:"border-b last:border-0",children:[_.jsxs("div",{className:"p-4 bg-gray-50 font-bold text-gray-800 flex justify-between cursor-pointer",onClick:()=>ee(k=>({...k,[D.id]:!k[D.id]})),children:[D.title," ",_.jsx(mE,{size:16})]}),G[D.id]&&_.jsx("div",{className:"bg-white",children:T[D.id]?.map(k=>_.jsxs("div",{className:"p-3 pl-8 border-b flex items-center gap-3 text-sm text-gray-600 hover:text-green-600 cursor-pointer",onClick:()=>R?q(k):alert("Enroll first"),children:[_.jsx(Uw,{size:14})," ",k.title,!R&&_.jsx(yw,{size:12,className:"ml-auto text-gray-300"})]},k.id))})]},D.id))})]})}),K&&_.jsx("div",{className:"fixed inset-0 z-[80] bg-black/70 flex items-center justify-center p-4",children:_.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6",children:[_.jsx("h3",{className:"text-xl font-bold mb-4",children:"Secure Checkout"}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"p-4 bg-gray-50 border rounded flex justify-between",children:[_.jsx("span",{className:"font-bold",children:f.title}),_.jsxs("span",{children:["$",f.price]})]}),_.jsx(sn,{className:"w-full",onClick:I,children:"Pay Now (Simulated)"}),_.jsx("button",{onClick:()=>re(!1),className:"w-full text-center text-sm text-gray-500 mt-2",children:"Cancel"})]})]})})]}):_.jsx(Jb,{})}function U4({courseId:s,userData:e,courses:n}){const r=n.find(f=>f.id===s)||Xp.find(f=>f.id===s),l=pe.useRef(),u=()=>{const f=document.createElement("script");f.src="https://html2canvas.hertzen.com/dist/html2canvas.min.js",f.onload=()=>{window.html2canvas(l.current).then(g=>{const p=document.createElement("a");p.download=`Certificate_${r.title}.png`,p.href=g.toDataURL(),p.click()})},document.body.appendChild(f)};return _.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col items-center py-12",children:[_.jsxs("div",{ref:l,className:"bg-white w-[800px] h-[600px] shadow-2xl p-12 text-center border-[20px] border-[#064E3B] relative flex flex-col justify-center",children:[_.jsx("div",{className:"absolute top-10 left-1/2 transform -translate-x-1/2 opacity-5 pointer-events-none",children:_.jsx(oh,{size:400})}),_.jsx("div",{className:"absolute bottom-12 right-12 opacity-20",children:_.jsx(KA,{size:100,className:"text-[#1A8F3A]"})}),_.jsx("div",{className:"absolute top-10 left-0 w-full text-center",children:_.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-80",children:[_.jsx(oh,{size:20,className:"text-[#064E3B]"}),_.jsx("span",{className:"text-[#064E3B] font-bold tracking-[0.4em] text-sm uppercase",children:"MINDCRAFTERS"})]})}),_.jsx("h1",{className:"text-5xl font-serif font-bold text-[#064E3B] mb-2 uppercase tracking-widest mt-8",children:"Certificate"}),_.jsx("h2",{className:"text-2xl font-serif text-gray-500 mb-12",children:"OF COMPLETION"}),_.jsx("p",{className:"text-gray-500 text-lg mb-2",children:"This is to certify that"}),_.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-2 border-b-2 border-gray-300 inline-block px-12 pb-2 mx-auto font-serif italic",children:e?.displayName||"Student Name"}),_.jsx("p",{className:"text-gray-500 text-lg mt-8 mb-2",children:"has successfully completed the course"}),_.jsx("h3",{className:"text-3xl font-bold text-[#1A8F3A] mb-12",children:r?.title}),_.jsxs("div",{className:"flex justify-between items-end px-20 mt-auto",children:[_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"font-serif italic text-xl text-gray-800 mb-1",children:"Mr. ASHISH KHATAVKAR"}),_.jsx("div",{className:"h-px w-48 bg-gray-400 mb-2"}),_.jsx("p",{className:"font-bold text-gray-700 text-sm uppercase",children:"MindCrafters CEO"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("p",{className:"font-bold text-gray-900 mb-2",children:new Date().toLocaleDateString()}),_.jsx("div",{className:"h-px w-48 bg-gray-400 mb-2"}),_.jsx("p",{className:"font-bold text-gray-700 text-sm uppercase",children:"Date Issued"})]})]})]}),_.jsxs(sn,{onClick:u,className:"mt-8 flex gap-2",children:[_.jsx(gE,{size:18})," Download Certificate"]})]})}function L4({user:s,userData:e,courses:n,navigateTo:r,handleLogout:l}){const[u,f]=pe.useState(!1),[g,p]=pe.useState(e?.displayName||"");if(!s)return _.jsx("div",{className:"flex items-center justify-center h-screen",children:"Please Log In"});const y=n.filter(w=>e?.enrolledCourses?.includes(w.id)),T=e?.certificates||[];return _.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12 animate-fade-in",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[_.jsxs("div",{className:`${os.card} md:col-span-2 p-8 bg-gradient-to-r from-[#064E3B] to-[#1A8F3A] text-white border-none`,children:[_.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Welcome back, ",e?.displayName,"!"]}),_.jsx("p",{className:"text-green-100 mb-4",children:"Keep pushing forward."}),_.jsx("button",{onClick:l,className:"text-xs bg-red-500/20 px-3 py-1 rounded border border-red-400/30",children:"Logout"})]}),_.jsxs("div",{className:`${os.card} p-6 flex flex-col justify-center items-center`,children:[_.jsx(_E,{size:32,className:"text-yellow-500 mb-2"}),_.jsx("div",{className:"text-3xl font-bold",children:T.length}),_.jsx("div",{className:"text-gray-500 text-sm",children:"Certificates"})]})]}),_.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"My Certificates"}),T.length>0?_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:T.map((w,N)=>_.jsxs("div",{className:"bg-white border p-6 rounded-xl shadow-sm flex items-center justify-between",children:[_.jsxs("div",{children:[_.jsx("div",{className:"font-bold text-gray-900",children:w.title}),_.jsx("div",{className:"text-xs text-gray-500",children:new Date(w.date).toLocaleDateString()})]}),_.jsx(sn,{size:"sm",variant:"ghost",onClick:()=>r("certificate",{courseId:w.courseId}),children:_.jsx(gE,{size:16})})]},N))}):_.jsx("p",{className:"text-gray-500 mb-12",children:"No certificates earned yet."}),_.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Enrolled Courses"}),y.length>0?_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:y.map(w=>_.jsxs("div",{className:`${os.card} p-6 border-l-4 border-l-[#1A8F3A]`,children:[_.jsx("h3",{className:"font-bold text-lg mb-2 truncate",children:w.title}),_.jsx("button",{onClick:()=>r("course-detail",{courseId:w.id}),className:"text-xs font-bold bg-[#1A8F3A] text-white px-3 py-1.5 rounded-lg",children:"Resume"})]},w.id))}):_.jsx("p",{children:"No courses enrolled."})]})}function z4({user:s,userData:e}){const[n,r]=pe.useState("courses"),[l,u]=pe.useState([]),[f,g]=pe.useState([]),[p,y]=pe.useState({title:"",description:"",category:"",thumbnail:""}),[T,w]=pe.useState(!1);pe.useEffect(()=>{Ch(Gm(Ri("courses"))).then(ee=>u(ee.docs.map(K=>({id:K.id,...K.data()})))),(async()=>{const ee=Gm(Ri("users"),JI("createdAt","desc")),K=await Ch(ee);g(K.docs.map(re=>({id:re.id,...re.data()})))})()},[]);const N=async G=>{G.preventDefault(),await Ll(Ri("courses"),{...p,enrolledCount:0,createdAt:tu()}),alert("Course Created"),window.location.reload()},q=async()=>{if(!confirm("This will add sample courses to the database. Continue?"))return;w(!0);const G=[{title:"Complete React Developer in 2025",description:"Become a Senior React Developer. Build massive e-commerce apps with Redux, Hooks, GraphQL, ContextAPI, Stripe, Firebase.",category:"Development",thumbnail:"https://images.unsplash.com/photo-1633356122544-f134324a6cee?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",enrolledCount:1540},{title:"Python for Data Science and Machine Learning",description:"Learn how to use NumPy, Pandas, Seaborn , Matplotlib , Plotly , Scikit-Learn , Machine Learning, Tensorflow , and more!",category:"Data Science",thumbnail:"https://images.unsplash.com/photo-1515879218367-8466d910aaa4?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",enrolledCount:2300},{title:"The Complete UI/UX Design Masterclass",description:"Start your UI/UX career in 2025. Learn Figma, prototyping, user research, and build a complete portfolio case study.",category:"Design",thumbnail:"https://images.unsplash.com/photo-1507721999472-8ed4421c4af2?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",enrolledCount:890},{title:"iOS 18 App Development Bootcamp",description:"From beginner to iOS app developer with just one course. Fully updated for iOS 18 and Xcode 16.",category:"Mobile",thumbnail:"https://images.unsplash.com/photo-1512941937669-90a1b58e7e9c?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",enrolledCount:1100}];try{for(const ee of G){const K=await Ll(Ri("courses"),{...ee,createdAt:tu()});await Ll(Ri("modules"),{courseId:K.id,title:"Introduction",order:1}),await Ll(Ri("modules"),{courseId:K.id,title:"Core Concepts",order:2})}alert("Database seeded successfully!"),window.location.reload()}catch(ee){console.error(ee),alert("Error seeding: "+ee.message)}w(!1)};return e?.role!=="admin"?_.jsx("div",{className:"pt-32 text-center",children:"Admin Only"}):_.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-12",children:[_.jsxs("div",{className:"flex justify-between items-center mb-8",children:[_.jsx("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"}),_.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[_.jsx("button",{onClick:()=>r("courses"),className:`px-4 py-2 rounded-md text-sm font-bold transition-all ${n==="courses"?"bg-white shadow text-[#1A8F3A]":"text-gray-500 hover:text-gray-700"}`,children:"Courses"}),_.jsx("button",{onClick:()=>r("users"),className:`px-4 py-2 rounded-md text-sm font-bold transition-all ${n==="users"?"bg-white shadow text-[#1A8F3A]":"text-gray-500 hover:text-gray-700"}`,children:"User Tracking"})]})]}),n==="courses"?_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"bg-blue-50 p-6 rounded-xl border border-blue-200 mb-8 flex justify-between items-center",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"font-bold text-blue-800",children:"Quick Actions"}),_.jsx("p",{className:"text-blue-600 text-sm",children:"Setup your platform content quickly."})]}),_.jsx(sn,{onClick:q,disabled:T,children:T?"Seeding...":"Seed Database with Courses"})]}),_.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-200 mb-8",children:[_.jsx("h2",{className:"font-bold mb-4",children:"Create Course"}),_.jsxs("form",{onSubmit:N,className:"space-y-4",children:[_.jsx(er,{placeholder:"Title",value:p.title,onChange:G=>y({...p,title:G.target.value}),required:!0}),_.jsx(er,{placeholder:"Description",value:p.description,onChange:G=>y({...p,description:G.target.value}),required:!0}),_.jsx(er,{placeholder:"Category",value:p.category,onChange:G=>y({...p,category:G.target.value}),required:!0}),_.jsx(er,{placeholder:"Thumbnail URL",value:p.thumbnail,onChange:G=>y({...p,thumbnail:G.target.value})}),_.jsx(sn,{type:"submit",children:"Create"})]})]})]}):_.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[_.jsx("div",{className:"p-6 border-b border-gray-100",children:_.jsxs("h2",{className:"font-bold text-lg",children:["Registered Users (",f.length,")"]})}),_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"w-full text-left text-sm",children:[_.jsx("thead",{className:"bg-gray-50",children:_.jsxs("tr",{children:[_.jsx("th",{className:"p-4 font-bold text-gray-600",children:"Name"}),_.jsx("th",{className:"p-4 font-bold text-gray-600",children:"Email"}),_.jsx("th",{className:"p-4 font-bold text-gray-600",children:"Role"}),_.jsx("th",{className:"p-4 font-bold text-gray-600",children:"Interest"}),_.jsx("th",{className:"p-4 font-bold text-gray-600",children:"Joined"})]})}),_.jsxs("tbody",{className:"divide-y divide-gray-100",children:[f.map(G=>_.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[_.jsx("td",{className:"p-4 font-bold text-gray-900",children:G.displayName||"N/A"}),_.jsx("td",{className:"p-4 text-gray-600",children:G.email}),_.jsx("td",{className:"p-4",children:_.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold uppercase ${G.role==="admin"?"bg-purple-100 text-purple-700":"bg-green-100 text-green-700"}`,children:G.role})}),_.jsx("td",{className:"p-4 text-gray-600",children:G.interest||"-"}),_.jsx("td",{className:"p-4 text-gray-500",children:G.createdAt?.seconds?new Date(G.createdAt.seconds*1e3).toLocaleDateString():"Just now"})]},G.id)),f.length===0&&_.jsx("tr",{children:_.jsx("td",{colSpan:"5",className:"p-8 text-center text-gray-500",children:"No users found."})})]})]})})]})]})}function B4({blogs:s,navigateTo:e}){return _.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-12 animate-fade-in",children:[_.jsxs("div",{className:"text-center mb-16",children:[_.jsx(uo,{color:"blue",children:"Tech Articles"}),_.jsx("h1",{className:"text-4xl font-black text-gray-900 mt-4",children:"MindCrafters Blog"})]}),_.jsx("div",{className:"space-y-12",children:s.map(n=>_.jsxs("div",{onClick:()=>e("blog-detail",{blogId:n.id}),className:"flex flex-col md:flex-row gap-8 items-center group cursor-pointer border-b border-gray-100 pb-12",children:[_.jsx("div",{className:"w-full md:w-1/2 h-64 rounded-2xl overflow-hidden shadow-md",children:_.jsx("img",{src:n.image,alt:"",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"})}),_.jsxs("div",{className:"w-full md:w-1/2",children:[_.jsx("div",{className:"text-sm font-bold text-[#1A8F3A] mb-2 uppercase tracking-wider",children:n.category}),_.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 group-hover:text-[#1A8F3A] transition-colors",children:n.title}),_.jsx("p",{className:"text-gray-500 mb-6 line-clamp-2",children:n.content[0]}),_.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(Km,{size:14})," ",n.author]}),_.jsx("span",{className:"w-1 h-1 bg-gray-300 rounded-full"}),_.jsxs("span",{children:[n.readTime," read"]})]})]})]},n.id))})]})}function q4({blogId:s,blogs:e,navigateTo:n}){const r=e.find(l=>l.id===parseInt(s));return r?_.jsxs("div",{className:"animate-fade-in bg-white min-h-screen",children:[_.jsxs("div",{className:"h-[400px] w-full relative",children:[_.jsx("img",{src:r.image,className:"w-full h-full object-cover"}),_.jsx("div",{className:"absolute inset-0 bg-black/50"}),_.jsxs("div",{className:"absolute bottom-0 left-0 w-full p-8 max-w-4xl mx-auto text-white",children:[_.jsxs("button",{onClick:()=>n("blogs"),className:"flex items-center gap-2 text-sm font-bold mb-4 hover:text-green-300 transition-colors",children:[_.jsx(pE,{})," Back to Blogs"]}),_.jsx(uo,{color:"green",className:"bg-green-500/20 text-green-200 mb-4",children:r.category}),_.jsx("h1",{className:"text-4xl md:text-5xl font-black mb-4 leading-tight",children:r.title}),_.jsxs("div",{className:"flex items-center gap-6 text-sm font-medium text-gray-300",children:[_.jsxs("span",{className:"flex items-center gap-2",children:[_.jsx(Km,{size:16})," ",r.author]}),_.jsxs("span",{className:"flex items-center gap-2",children:[_.jsx(WA,{size:16})," ",r.date]}),_.jsxs("span",{className:"flex items-center gap-2",children:[_.jsx(uw,{size:16})," ",r.readTime]})]})]})]}),_.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-12",children:[_.jsx("article",{className:"prose prose-lg prose-green mx-auto text-gray-700",children:r.content.map((l,u)=>_.jsx("p",{className:"mb-6 leading-relaxed",children:l},u))}),_.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-100 flex justify-between items-center",children:[_.jsx("div",{className:"font-bold text-gray-900",children:"Share this article"}),_.jsxs("div",{className:"flex gap-4",children:[_.jsx("button",{className:"p-2 rounded-full bg-gray-100 hover:bg-blue-50 text-gray-600 hover:text-blue-600 transition-colors",children:_.jsx(vE,{size:20})}),_.jsx("button",{className:"p-2 rounded-full bg-gray-100 hover:bg-blue-50 text-gray-600 hover:text-blue-700 transition-colors",children:_.jsx(yE,{size:20})}),_.jsx("button",{className:"p-2 rounded-full bg-gray-100 hover:bg-blue-50 text-gray-600 hover:text-blue-800 transition-colors",children:_.jsx(fw,{size:20})})]})]})]})]}):_.jsx("div",{className:"text-center py-20",children:"Blog not found."})}function F4(){const[s,e]=pe.useState("javascript"),[n,r]=pe.useState(`// Write JavaScript here
console.log("Hello World");`),[l,u]=pe.useState([]),f=()=>{if(s!=="javascript"){u([`[System]: Running ${s} requires a backend environment.`,"[System]: This is a simulated UI for demonstration."]);return}const g=[],p=console.log;console.log=(...y)=>g.push(y.join(" "));try{new Function(n)()}catch(y){g.push(`Error: ${y.message}`)}console.log=p,u(g)};return _.jsxs("div",{className:"h-[calc(100vh-80px)] bg-[#1e1e1e] flex flex-col text-gray-300 font-mono",children:[_.jsxs("div",{className:"h-14 bg-[#252526] border-b border-[#333] flex items-center px-4 justify-between",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(Dw,{size:18,className:"text-[#1A8F3A]"}),_.jsx("span",{className:"font-bold text-sm",children:"MindCrafters IDE"})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsxs("select",{value:s,onChange:g=>e(g.target.value),className:"bg-[#333] text-white text-xs px-3 py-1 rounded outline-none border border-gray-600",children:[_.jsx("option",{value:"javascript",children:"JavaScript (Node)"}),_.jsx("option",{value:"python",children:"Python 3"}),_.jsx("option",{value:"sql",children:"SQL (SQLite)"})]}),_.jsxs("button",{onClick:f,className:"bg-[#1A8F3A] text-white px-4 py-1 rounded text-xs font-bold hover:bg-green-600 flex items-center gap-2",children:[_.jsx(Sw,{size:12,fill:"currentColor"})," Run Code"]})]})]}),_.jsxs("div",{className:"flex-grow flex flex-col md:flex-row overflow-hidden",children:[_.jsx("textarea",{className:"flex-grow bg-[#1e1e1e] text-[#d4d4d4] p-6 outline-none resize-none font-mono text-sm leading-relaxed",value:n,onChange:g=>r(g.target.value),spellCheck:"false"}),_.jsxs("div",{className:"h-1/3 md:h-full md:w-1/3 bg-[#1e1e1e] border-t md:border-t-0 md:border-l border-[#333] flex flex-col",children:[_.jsx("div",{className:"bg-[#252526] px-4 py-2 text-xs font-bold text-gray-400 uppercase",children:"Terminal Output"}),_.jsxs("div",{className:"p-4 overflow-y-auto flex-grow text-sm font-mono",children:[l.length===0&&_.jsx("span",{className:"text-gray-600",children:" Ready to execute..."}),l.map((g,p)=>_.jsxs("div",{className:"mb-1 text-green-400 font-bold",children:[" ",g]},p))]})]})]})]})}LA.createRoot(document.getElementById("root")).render(_.jsx(DA.StrictMode,{children:_.jsx(M4,{})}));
